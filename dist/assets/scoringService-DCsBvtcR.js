import{j as e}from"./vendor-motion-_XdJ9pBm.js";import{r as R,e as pe}from"./vendor-react-B4msnGgW.js";import{e as G}from"./edenAITextService-y6w1oEiu.js";import{g as _e}from"./aiProxyService-HwcJnoDm.js";import{R as Ke,X as Y,e as Z,F as Se,C as K,a as ae,A as ie,L as fe,g as ut,i as Fe,T as pt,n as gt,o as xt,q as Ie,B as Pe}from"./index-BbSeE-q4.js";import{P as V}from"./plus-C66eGFjH.js";import{L as ge}from"./lightbulb-ZFvDqHVp.js";import{Q as ft}from"./quote-DhoHTT2m.js";import{X as Ue}from"./x-circle-ytsTtMRB.js";import{G as xe,d as et}from"./ResumePreview-Br_JyetK.js";import{E as bt}from"./vendor-pdf-B1igRwBP.js";import{S as yt}from"./send-BNy5p617.js";import{Z as We}from"./zap-BGmE2sY4.js";import{S as jt}from"./star-DBKesPgG.js";import{A as Xe}from"./award-BwmFe92M.js";import{G as Qe}from"./graduation-cap-C94epHPK.js";import{C as Ze}from"./code-GxPtUTRK.js";import"./parsingMetricsService-4OdIQr6T.js";console.log("ProjectAnalysisService: Using EdenAI + GitHub API via Supabase proxy");const wt=async(t,a,s)=>{var l,u,n,x,f,d,p,b,g,y,k;console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.log("ðŸ”¬ PROJECT SUITABILITY ANALYSIS STARTED"),console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.log("ðŸŽ¯ Target Role:",s||"(not specified)"),console.log("ðŸ“‹ JD length:",a.length,"chars"),console.log("ðŸš€ Current projects:",((l=t.projects)==null?void 0:l.length)||0),(u=t.projects)==null||u.forEach((N,m)=>console.log(`   ${m+1}. ${N.title}`)),console.log("ðŸ’¼ Work experience:",((n=t.workExperience)==null?void 0:n.length)||0);const r=`You are an expert resume analyzer and project recommender.

### Job Description:
${a}

### Role:
${s||"Not specified"}

### Resume Projects:
${((x=t.projects)==null?void 0:x.map(N=>{var m;return`
Project Title: ${N.title}
Summary: ${((m=N.bullets)==null?void 0:m[0])||"No summary provided."}
`}).join(`
`))||"No projects found"}

### Resume Work Experience:
${((f=t.workExperience)==null?void 0:f.map(N=>{var m,S;return`
Role: ${N.role} at ${N.company} (${N.year})
Summary: ${((m=N.bullets)==null?void 0:m[0])||"No summary provided."}
${(S=N.bullets)!=null&&S[1]?`Key Point 2: ${N.bullets[1]}`:""}
`}).join(`
`))||"No work experience found"}

Your task:

For each project, analyze if it matches the JD and role requirements.
Mark each as âœ… Suitable or âŒ Not Suitable.
Give a brief reason if not suitable.
Suggest replacement project IDEAS (concepts the candidate can build themselves) if a project is rejected.
Each suggested project should include a short title, description, and 3 role-specific bullet points.

Respond ONLY with valid JSON in this exact structure:

{
  "projectAnalysis": [
    {
      "title": "Original Project Title",
      "suitable": true/false,
      "reason": "Reason if not suitable",
      "replacementSuggestion": {
        "title": "Suggested Project Title",
        "description": "Brief description of what to build",
        "bulletPoints": [
          "First bullet point - 9-10 words max relevant to role and JD",
          "Second bullet point - 9-10 words max relevant to role and JD",
          "Third bullet point - 9-10 words max relevant to role and JD"
        ]
      }
    }
  ],
  "summary": {
    "totalProjects": 0,
    "suitableProjects": 0,
    "unsuitableProjects": 0
  },
  "suggestedProjects": [
    {
      "title": "Additional Suggested Project",
      "description": "Brief description of what to build",
      "bulletPoints": [
        "First bullet point - up to 20 words that are relevant to the role and JD",
        "Second bullet point - up to 20 words that are relevant to the role and JD",
        "Third bullet point - up to 20 words that are relevant to the role and JD"
      ]
    }
  ]
}

CRITICAL INSTRUCTIONS:
- DO NOT include any GitHub URLs - we will fetch real repos separately
- Focus on project IDEAS and concepts, not specific repositories
- STRICT JSON SYNTAX: Ensure all arrays are correctly terminated with ']' and all objects with '}', with proper comma separation between elements. Do NOT use '}' to close an array.`;try{const[N,m]=await Promise.all([G.generateTextWithRetry(r,{temperature:.3,maxTokens:4e3}),kt(a,s)]),S=G.parseJSONResponse(N);if(m.length>0){console.log("ðŸ”— Enhancing suggestions with real GitHub repos:",m.length);let E=0;(d=S.projectAnalysis)==null||d.forEach(W=>{!W.suitable&&W.replacementSuggestion&&E<m.length&&(W.replacementSuggestion.githubUrl=m[E].githubUrl,E++)});const C=m.slice(E).slice(0,3).map(W=>({title:W.title,description:W.description,githubUrl:W.githubUrl,bulletPoints:[`Study and fork ${W.title} to understand ${W.language||"modern"} best practices and architecture patterns`,"Implement custom features or improvements to demonstrate hands-on experience with the codebase","Document your contributions and learnings to showcase problem-solving skills"]}));S.suggestedProjects=[...S.suggestedProjects,...C].slice(0,5)}return console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.log("âœ… PROJECT SUITABILITY ANALYSIS COMPLETED"),console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.log("ðŸ“Š Projects analyzed:",((p=S.projectAnalysis)==null?void 0:p.length)||0),(b=S.projectAnalysis)==null||b.forEach((E,$)=>{var W;const C=(W=E.replacementSuggestion)!=null&&W.githubUrl?" ðŸ”—":"";console.log(`   ${$+1}. ${E.title}: ${E.suitable?"âœ… Suitable":"âŒ Not Suitable"}${C}`)}),console.log("ðŸ“ˆ Summary:",S.summary),console.log("ðŸ’¡ Suggested projects:",((g=S.suggestedProjects)==null?void 0:g.length)||0),console.log("ðŸ”— Suggestions with GitHub URLs:",((y=S.suggestedProjects)==null?void 0:y.filter(E=>E.githubUrl).length)||0),console.log("ðŸ”— Replacements with GitHub URLs:",((k=S.projectAnalysis)==null?void 0:k.filter(E=>{var $;return($=E.replacementSuggestion)==null?void 0:$.githubUrl}).length)||0),console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),S}catch(N){throw console.error("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.error("âŒ PROJECT SUITABILITY ANALYSIS FAILED"),console.error("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.error("Error calling EdenAI for project analysis:",N),new Error("Failed to analyze project suitability. Please try again.")}},vt=t=>{const a=["react","angular","vue","javascript","typescript","node","python","java","spring","django","flask","express","mongodb","postgresql","mysql","redis","docker","kubernetes","aws","azure","gcp","graphql","rest","api","microservices","nextjs","nestjs","tailwind","sass","webpack","vite","git","ci/cd","jenkins","terraform","machine learning","ml","ai","data science","pandas","tensorflow","pytorch","flutter","react native","swift","kotlin","android","ios","mobile","sql","nosql","elasticsearch","kafka","rabbitmq","golang","rust","c++","c#",".net","embedded","firmware","arm","microcontroller","rtos","stm32","arduino","raspberry pi","fpga","verilog","vhdl","pcb","hardware","iot","sensor","uart","spi","i2c","can bus","modbus","rf","wireless","bluetooth","zigbee","lora","automotive","linux","unix","bash","shell","ansible","puppet","chef","prometheus","grafana","security","penetration testing","cryptography","oauth","jwt"],s=t.toLowerCase();return a.filter(r=>s.includes(r.toLowerCase()))},kt=async(t,a)=>{const s=vt(t);return console.log("ðŸ” Extracted tech skills from JD:",s.slice(0,5)),s.length===0?(console.log("âš ï¸ No tech skills found in JD, using role-based fallback"),Ve([],a)):St(s,a)},St=async(t,a)=>{try{const s=`${a} ${t.slice(0,3).join(" ")}`,r=await _e.searchRepos(s,{sort:"stars",order:"desc",perPage:10});return!r.items||r.items.length===0?(console.warn("No GitHub projects found for query:",s),Ve(t,a)):r.items.slice(0,5).map(u=>({title:u.name,githubUrl:u.html_url,description:u.description||"",stars:u.stargazers_count,language:u.language})).filter(u=>u.githubUrl&&u.githubUrl.startsWith("https://github.com/"))}catch(s){return console.error("Error fetching GitHub projects:",s),Ve(t,a)}},Ve=(t,a)=>{const s=Nt(a),r={backend:[{title:"Spring Boot E-Commerce API",githubUrl:"https://github.com/spring-projects/spring-petclinic",description:"RESTful API for e-commerce platform with authentication and order management",stars:5823,language:"Java"},{title:"Node.js Best Practices",githubUrl:"https://github.com/goldbergyoni/nodebestpractices",description:"Comprehensive guide to Node.js best practices and patterns",stars:4219,language:"JavaScript"},{title:"Express.js REST API",githubUrl:"https://github.com/expressjs/express",description:"Fast, unopinionated web framework for Node.js",stars:6400,language:"JavaScript"}],frontend:[{title:"Create React App",githubUrl:"https://github.com/facebook/create-react-app",description:"Set up a modern web app by running one command",stars:7651,language:"JavaScript"},{title:"Vue.js Framework",githubUrl:"https://github.com/vuejs/vue",description:"Progressive JavaScript framework for building user interfaces",stars:6342,language:"JavaScript"},{title:"Next.js Framework",githubUrl:"https://github.com/vercel/next.js",description:"React framework with production-grade features",stars:5200,language:"JavaScript"}],fullstack:[{title:"MERN Stack Social Network",githubUrl:"https://github.com/bradtraversy/devconnector_2.0",description:"Complete social platform with profiles, posts, and real-time chat",stars:3987,language:"JavaScript"},{title:"Django Framework",githubUrl:"https://github.com/django/django",description:"High-level Python web framework with batteries included",stars:5124,language:"Python"},{title:"NestJS Backend Framework",githubUrl:"https://github.com/nestjs/nest",description:"Progressive Node.js framework for building scalable server-side applications",stars:4800,language:"TypeScript"}],mobile:[{title:"React Native Framework",githubUrl:"https://github.com/facebook/react-native",description:"Cross-platform mobile app development with React",stars:4532,language:"JavaScript"},{title:"Flutter Framework",githubUrl:"https://github.com/flutter/flutter",description:"Google's UI framework for building beautiful native apps",stars:5876,language:"Dart"},{title:"Ionic Framework",githubUrl:"https://github.com/ionic-team/ionic-framework",description:"Build amazing hybrid and progressive web apps with web technologies",stars:3200,language:"TypeScript"}],data:[{title:"Pandas Data Analysis",githubUrl:"https://github.com/pandas-dev/pandas",description:"Flexible and powerful data analysis and manipulation library",stars:4298,language:"Python"},{title:"Apache Spark",githubUrl:"https://github.com/apache/spark",description:"Unified analytics engine for large-scale data processing",stars:5643,language:"Scala"},{title:"TensorFlow",githubUrl:"https://github.com/tensorflow/tensorflow",description:"Open source machine learning framework",stars:6200,language:"Python"}],embedded:[{title:"STM32 HAL Library",githubUrl:"https://github.com/STMicroelectronics/STM32CubeF4",description:"STM32Cube MCU Full Package for STM32F4 series with HAL drivers and examples",stars:1200,language:"C"},{title:"FreeRTOS Kernel",githubUrl:"https://github.com/FreeRTOS/FreeRTOS-Kernel",description:"Real-time operating system kernel for embedded devices",stars:2100,language:"C"},{title:"Arduino Core",githubUrl:"https://github.com/arduino/ArduinoCore-avr",description:"Arduino core for AVR-based boards with hardware abstraction layer",stars:1800,language:"C++"}],iot:[{title:"ESP-IDF Framework",githubUrl:"https://github.com/espressif/esp-idf",description:"Espressif IoT Development Framework for ESP32 microcontrollers",stars:11e3,language:"C"},{title:"Zephyr RTOS",githubUrl:"https://github.com/zephyrproject-rtos/zephyr",description:"Scalable real-time operating system for IoT and embedded systems",stars:8500,language:"C"},{title:"PlatformIO Core",githubUrl:"https://github.com/platformio/platformio-core",description:"Professional collaborative platform for embedded development",stars:6800,language:"Python"}]};return(r[s]||r.fullstack).filter(u=>{const n=u.githubUrl&&u.githubUrl.startsWith("https://github.com/");return n||console.warn("Invalid GitHub URL filtered out:",u.githubUrl),n})},Nt=t=>(t=t.toLowerCase(),t.includes("embedded")||t.includes("firmware")||t.includes("microcontroller")||t.includes("arm")||t.includes("stm32")||t.includes("rtos")||t.includes("fpga")||t.includes("hardware")||t.includes("automotive")||t.includes("rf engineer")?"embedded":t.includes("iot")||t.includes("internet of things")||t.includes("sensor")||t.includes("wireless")||t.includes("bluetooth")||t.includes("zigbee")?"iot":t.includes("backend")||t.includes("java")||t.includes("python")||t.includes("node")?"backend":t.includes("frontend")||t.includes("react")||t.includes("angular")||t.includes("vue")?"frontend":t.includes("fullstack")||t.includes("full stack")||t.includes("full-stack")?"fullstack":t.includes("mobile")||t.includes("android")||t.includes("ios")||t.includes("flutter")?"mobile":t.includes("data")||t.includes("ml")||t.includes("ai")||t.includes("machine learning")?"data":"fullstack"),Et=async(t,a,s,r)=>{const l=`Generate exactly 3 bullet points for a resume project based on the following details:

Project Title: ${t}
Tech Stack: ${a.join(", ")}
Target Role: ${r}
Job Description: ${s}

REQUIREMENTS:
1. Each bullet point must be up to 20 words - no more, no less
2. Start each bullet with a strong action verb (e.g., Developed, Implemented, Architected, Optimized)
3. NO weak verbs like "helped", "assisted", "worked on", "was responsible for"
4. Include specific technologies from the tech stack
5. Focus on achievements and impact, not just responsibilities
6. Align with the job description requirements
7. Include metrics and quantifiable results where possible
8. No repeated keywords across bullets

Format your response as a JSON array with exactly 3 strings:
["Bullet 1", "Bullet 2", "Bullet 3"]`;try{const u=await G.generateTextWithRetry(l,{temperature:.3,maxTokens:2e3});return G.parseJSONResponse(u)}catch(u){return console.error("Error generating project bullets:",u),[`Developed ${t} using ${a[0]||"modern technologies"} to solve business challenges and improve operational efficiency.`,"Implemented key features including user authentication, data management, and reporting functionality for enhanced user experience.","Optimized application performance by 40% through code refactoring and database query optimization techniques."]}},Ge=["Projects with quantifiable results score 40% higher in ATS systems.","Include technologies from the job description in your project bullets.","GitHub links add credibility and help recruiters verify your work.","Action verbs like 'Built', 'Developed', 'Implemented' boost ATS scores.","3 well-aligned projects beat 10 irrelevant ones in ATS ranking.","Projects should demonstrate problem-solving, not just list technologies.","Metrics like '50% faster' or '10K users' catch both ATS and recruiters.","Match your project tech stack to the job requirements for higher scores.","Recent projects (last 2 years) are weighted more heavily by ATS.","Describe impact: What problem did you solve? What was the outcome?","Use the same terminology as the job description for better keyword matching.","Personal projects count! They show initiative and passion.","Open-source contributions demonstrate collaboration skills.","Highlight scalability, performance, and real-world usage in projects.","Projects that align with the company's domain get priority in ATS."],is=({isOpen:t,onClose:a,resumeData:s,jobDescription:r,targetRole:l,onProjectsUpdated:u})=>{var je,he;const[n,x]=R.useState(null),[f,d]=R.useState(!1),[p,b]=R.useState({}),[g,y]=R.useState({}),[k,N]=R.useState(!1),[m,S]=R.useState({title:"",techStack:[],newTech:"",description:""}),[E,$]=R.useState(!1),[C,W]=R.useState([]),[U,L]=R.useState("analysis"),[P,F]=R.useState(null),[ee,te]=R.useState(0);R.useEffect(()=>{if(!f)return;const h=setInterval(()=>{te(v=>(v+1)%Ge.length)},3e3);return()=>clearInterval(h)},[f]),R.useEffect(()=>{t&&!n&&j()},[t]);const j=async()=>{d(!0);try{const h=await wt(s,r,l);x(h);const v={};n&&n.projectAnalysis.forEach(H=>{!H.suitable&&H.replacementSuggestion&&(v[H.title]=!1)}),b(v);const M={};n&&n.suggestedProjects.forEach(H=>{M[H.title]=!1}),y(M),L("analysis")}catch(h){console.error("Error analyzing projects:",h)}finally{d(!1)}},T=()=>{m.newTech.trim()&&!m.techStack.includes(m.newTech.trim())&&S({...m,techStack:[...m.techStack,m.newTech.trim()],newTech:""})},z=h=>{S({...m,techStack:m.techStack.filter(v=>v!==h)})},I=async()=>{if(!m.title||m.techStack.length===0){alert("Please provide a project title and at least one technology");return}$(!0);try{const h=await Et(m.title,m.techStack,r,l);W(h)}catch(h){console.error("Error generating bullets:",h),alert("Failed to generate project description. Please try again.")}finally{$(!1)}},se=h=>{b({...p,[h]:!p[h]})},de=h=>{y({...g,[h]:!g[h]})},Ee=()=>{L("selection")},Te=()=>{F(s),L("preview")},Ae=()=>{x(null),L("analysis"),j()},Re=()=>{if(C.length===0){alert("Please generate bullet points first");return}const h={title:m.title,bullets:C};be([h]),S({title:"",techStack:[],newTech:"",description:""}),W([]),N(!1),L("preview")},$e=()=>{if(!n)return;const h=[];for(const v of n.projectAnalysis)!v.suitable&&p[v.title]&&v.replacementSuggestion&&h.push({title:v.replacementSuggestion.title,bullets:v.replacementSuggestion.bulletPoints,githubUrl:v.replacementSuggestion.githubUrl||""});for(const v of n.suggestedProjects)g[v.title]&&h.push({title:v.title,bullets:v.bulletPoints,githubUrl:v.githubUrl||""});be(h),L("preview")},be=h=>{var le,ve,ke,ue;if(!n)return;const v=[];(le=n.suggestedProjects)==null||le.forEach(A=>{A.githubUrl&&v.push(A.githubUrl)}),(ve=n.projectAnalysis)==null||ve.forEach(A=>{var X;(X=A.replacementSuggestion)!=null&&X.githubUrl&&v.push(A.replacementSuggestion.githubUrl)});const M=((ke=s.projects)==null?void 0:ke.filter(A=>n.projectAnalysis.some(X=>X.title===A.title&&X.suitable)))||[],H=[...M];for(const A of h)if(H.length<3)H.push(A);else break;let re=0;const ne=H.map(A=>{if(!A.githubUrl&&re<v.length){const X=v[re];return re++,{...A,githubUrl:X}}return A}),we={...s,projects:ne};F(we);const oe=(((ue=s.projects)==null?void 0:ue.length)||0)-M.length,Ce=H.length-M.length,ze=ne.filter(A=>A.githubUrl).length;console.log(`Project replacement: ${oe} low-scoring projects removed, ${Ce} new projects added, ${M.length} good projects kept. Total: ${H.length}/3, URLs assigned: ${ze}`)},ye=()=>{var v,M,H,re;const h=P||s;console.log("ðŸ handleFinish called - Confirm & Apply clicked"),console.log("   - Using updatedResume:",!!P),console.log("   - Projects count:",((v=h.projects)==null?void 0:v.length)||0),console.log("   - Skills count:",((M=h.skills)==null?void 0:M.length)||0),console.log("   - Skills categories:",(H=h.skills)==null?void 0:H.map(ne=>`${ne.category}: ${ne.list.length}`)),console.log("   - Work Experience count:",((re=h.workExperience)==null?void 0:re.length)||0),u(h)},me=()=>{if(!n)return 0;let h=0;for(const v of n.projectAnalysis)!v.suitable&&p[v.title]&&h++;for(const v of n.suggestedProjects)g[v.title]&&h++;return h};return t?e.jsx("div",{className:"fixed inset-0 lg:left-16 bg-black/70 flex items-center justify-center z-50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-slate-900 rounded-none shadow-2xl w-full h-screen flex flex-col",style:{maxHeight:"100vh"},children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-slate-800 to-slate-900 p-3 sm:p-6 border-b border-slate-700",children:[e.jsxs("div",{className:"absolute top-2 right-2 sm:top-4 sm:right-4 flex items-center gap-2",children:[U==="analysis"&&n&&e.jsx("button",{onClick:Ae,disabled:f,className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center text-slate-400 hover:text-slate-200 transition-colors rounded-full hover:bg-slate-700/50 min-w-[44px] min-h-[44px] disabled:opacity-50",title:"Refresh analysis",children:e.jsx(Ke,{className:`w-5 h-5 sm:w-6 sm:h-6 ${f?"animate-spin":""}`})}),e.jsx("button",{onClick:ye,className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center text-slate-400 hover:text-slate-200 transition-colors rounded-full hover:bg-slate-700/50 min-w-[44px] min-h-[44px]",children:e.jsx(Y,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 shadow-lg",children:e.jsx(Z,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-slate-100 mb-2 px-8",children:"Project Analysis & Recommendations"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-400 px-4",children:"Analyze your projects against job requirements and get personalized recommendations"})]})]}),e.jsx("div",{className:"px-3 sm:px-6 pt-3 sm:pt-6 flex-shrink-0 bg-slate-900",children:e.jsxs("div",{className:"flex flex-row items-center justify-around mb-4 sm:mb-8 gap-4",children:[e.jsx("div",{className:"flex items-center w-auto",children:e.jsxs("div",{className:"w-auto flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${U==="analysis"?"bg-emerald-500 text-white":"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30"}`,children:e.jsx(Z,{className:"w-5 h-5"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-slate-100 hidden sm:block",children:"Analysis"}),e.jsx("div",{className:"text-xs text-slate-500 hidden sm:block",children:"Review project fit"})]})]})}),e.jsx("div",{className:"w-full sm:w-16 h-1 bg-slate-700 hidden sm:block",children:e.jsx("div",{className:`h-1 bg-emerald-500 transition-all ${U==="analysis"?"w-0":U==="selection"?"w-1/2":"w-full"}`})}),e.jsx("div",{className:"flex items-center w-auto",children:e.jsxs("div",{className:"w-auto flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${U==="selection"?"bg-emerald-500 text-white":U==="preview"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-slate-700 text-slate-400"}`,children:e.jsx(V,{className:"w-5 h-5"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-slate-100 hidden sm:block",children:"Selection"}),e.jsx("div",{className:"text-xs text-slate-500 hidden sm:block",children:"Choose projects"})]})]})}),e.jsx("div",{className:"w-full sm:w-16 h-1 bg-slate-700 hidden sm:block",children:e.jsx("div",{className:`h-1 bg-emerald-500 transition-all ${U==="preview"?"w-full":"w-0"}`})}),e.jsx("div",{className:"flex items-center w-auto",children:e.jsxs("div",{className:"w-auto flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${U==="preview"?"bg-emerald-500 text-white":"bg-slate-700 text-slate-400"}`,children:e.jsx(Se,{className:"w-5 h-5"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-slate-100 hidden sm:block",children:"Preview"}),e.jsx("div",{className:"text-xs text-slate-500 hidden sm:block",children:"Review changes"})]})]})})]})}),e.jsx("div",{className:"p-3 sm:p-6 overflow-y-auto flex-1 min-h-0 bg-slate-900 scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-transparent",children:f?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] px-4",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full border-4 border-slate-700 border-t-emerald-500 animate-spin"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(Z,{className:"w-8 h-8 sm:w-10 sm:h-10 text-emerald-400"})})]}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-100 mb-2 text-center",children:"Analyzing Your Projects"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-400 mb-8 text-center max-w-md",children:"Our AI is comparing your projects with the job requirements to find the best matches..."}),e.jsxs("div",{className:"w-full max-w-md mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"Analyzing skills"}),e.jsx("span",{className:"text-xs text-emerald-400",children:"In progress..."})]}),e.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-cyan-500 rounded-full animate-pulse",style:{width:"60%"}})})]}),e.jsxs("div",{className:"w-full max-w-lg bg-slate-800/50 rounded-xl border border-slate-700 p-4 mb-6",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-200 mb-3 flex items-center",children:[e.jsx(ge,{className:"w-4 h-4 mr-2 text-amber-400"}),"Pro Tips While You Wait"]}),e.jsxs("ul",{className:"space-y-2 text-xs text-slate-400",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-emerald-400 mr-2",children:"âœ“"}),'Projects with quantifiable results (e.g., "improved performance by 40%") score higher']}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-emerald-400 mr-2",children:"âœ“"}),"Include technologies mentioned in the job description for better alignment"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-emerald-400 mr-2",children:"âœ“"}),"GitHub links add credibility - consider adding them to your projects"]})]})]}),e.jsx("div",{className:"w-full max-w-lg bg-gradient-to-r from-amber-500/10 to-orange-500/10 rounded-xl border border-amber-500/30 p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ft,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-amber-400 font-medium mb-1",children:"ATS TIP"}),e.jsxs("p",{className:"text-amber-300 text-sm italic transition-all duration-300",children:['"',Ge[ee],'"']})]})]})}),e.jsx("div",{className:"flex items-center justify-center gap-1 mb-4",children:[...Array(5)].map((h,v)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${v===ee%5?"bg-amber-400 w-3":"bg-slate-600"}`},v))}),e.jsxs("div",{className:"w-full max-w-lg bg-slate-800/30 rounded-xl border border-dashed border-slate-600 p-6 text-center",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"SPONSORED"}),e.jsx("div",{className:"h-24 sm:h-32 flex items-center justify-center",children:e.jsx("p",{className:"text-slate-600 text-sm",children:"Advertisement Space"})})]})]}):U==="analysis"&&n?e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-slate-700",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-slate-100 mb-3 sm:mb-4 flex items-center",children:[e.jsx(Z,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-emerald-400"}),"Project Analysis Results"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"bg-slate-800 rounded-lg sm:rounded-xl p-3 sm:p-4 text-center border border-slate-700",children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-cyan-400 mb-1 sm:mb-2",children:n.summary.totalProjects}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-slate-400",children:"Total Projects"})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg sm:rounded-xl p-3 sm:p-4 text-center border border-slate-700",children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-emerald-400 mb-1 sm:mb-2",children:n.summary.suitableProjects}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-slate-400",children:"Well Aligned (80+)"})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg sm:rounded-xl p-3 sm:p-4 text-center border border-slate-700",children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-red-400 mb-1 sm:mb-2",children:n.summary.unsuitableProjects}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-slate-400",children:"Need Replacement (<80)"})]})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-4 sm:mb-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-100 mb-2 sm:mb-3",children:"Project-by-Project Analysis:"}),n.projectAnalysis.map((h,v)=>e.jsx("div",{className:`border-2 rounded-lg sm:rounded-xl p-3 sm:p-5 transition-all ${h.suitable?"border-emerald-500/50 bg-emerald-500/10":"border-red-500/50 bg-red-500/10"}`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-start sm:items-center space-x-3 sm:space-x-4 flex-1",children:[e.jsx("div",{className:`p-2 sm:p-3 rounded-full flex-shrink-0 ${h.suitable?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:h.suitable?e.jsx(K,{className:"w-4 h-4 sm:w-5 sm:h-5"}):e.jsx(Ue,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"text-sm sm:text-lg font-bold text-slate-100 mb-1 break-words",children:['"',h.title,'"']}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-3",children:[e.jsxs("span",{className:`text-sm font-medium ${h.suitable?"text-emerald-400":"text-red-400"}`,children:["Score: ",h.suitable?"80+":"<80"," / 100"]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 ${h.suitable?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:h.suitable?e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"w-3 h-3"})," KEEP"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"w-3 h-3"})," REPLACE"]})})]}),!h.suitable&&h.reason&&e.jsxs("p",{className:"text-amber-400/80 text-xs sm:text-sm mt-2 break-words",children:[e.jsx("span",{className:"font-medium",children:"Reason:"})," ",h.reason]})]})]}),e.jsx("div",{className:`flex-shrink-0 ${h.suitable?"text-emerald-400":"text-red-400"}`,children:h.suitable?e.jsx(K,{className:"w-6 h-6"}):e.jsx(Ue,{className:"w-6 h-6"})})]})},v))]}),n.summary.unsuitableProjects>0&&e.jsx("div",{className:"bg-amber-500/10 border-2 border-amber-500/30 rounded-lg sm:rounded-xl p-3 sm:p-5",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"bg-amber-500/20 p-2 rounded-full flex-shrink-0",children:e.jsx(ae,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-amber-300 text-sm sm:text-lg",children:"Action Required"}),e.jsxs("p",{className:"text-amber-400/80 text-xs sm:text-sm break-words",children:["We found **",n.summary.unsuitableProjects,"** project",n.summary.unsuitableProjects>1?"s":""," that don't align well with your target role. You can replace ",n.summary.unsuitableProjects===1?"it":"them"," with more relevant projects to improve your resume score."]})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center sm:justify-end gap-3 sm:gap-4",children:[n.summary.unsuitableProjects===0&&e.jsx("button",{onClick:Te,className:"w-full sm:w-auto px-4 py-3 border border-slate-600 rounded-lg text-slate-300 hover:bg-slate-700 transition-colors text-sm min-h-[44px] flex items-center justify-center space-x-2",children:e.jsx("span",{children:"Skip for now"})}),e.jsxs("button",{onClick:Ee,className:"w-full sm:w-auto bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 text-white font-bold py-3 sm:py-4 px-6 sm:px-8 rounded-xl transition-all duration-300 flex items-center justify-center space-x-2 sm:space-x-3 shadow-lg hover:shadow-emerald-500/25 transform hover:scale-105 min-h-[44px]",children:[e.jsx("span",{className:"text-sm sm:text-base",children:n.summary.unsuitableProjects>0?`Replace ${n.summary.unsuitableProjects} Project${n.summary.unsuitableProjects>1?"s":""}`:"Add More Projects"}),e.jsx(ie,{className:"w-4 h-4 sm:w-5 sm:h-5"})]})]})]}):U==="selection"&&n?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"text-center text-slate-400 text-sm",children:"Select the projects you want to add to your resume"}),n.projectAnalysis.some(h=>!h.suitable&&h.replacementSuggestion)&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-base font-semibold text-slate-100 flex items-center",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2 text-amber-400"}),"Suggested Replacements"]}),e.jsx("p",{className:"text-xs text-slate-400",children:"These projects may not align well with the job description. Select any you'd like to replace."}),n.projectAnalysis.filter(h=>!h.suitable&&h.replacementSuggestion).map((h,v)=>e.jsx("label",{className:`block cursor-pointer rounded-xl border-2 transition-all ${p[h.title]?"border-emerald-500 bg-emerald-500/10":"border-slate-700 bg-slate-800/50 hover:border-slate-600"}`,children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("input",{type:"checkbox",checked:p[h.title]||!1,onChange:()=>se(h.title),className:"w-5 h-5 rounded border-slate-500 bg-slate-700 text-emerald-500 focus:ring-emerald-500 focus:ring-offset-slate-900"}),e.jsx("span",{className:"ml-3 text-sm text-slate-300",children:"Replace this project"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-3 border border-slate-600",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1 font-medium",children:"CURRENT"}),e.jsx("div",{className:"text-slate-100 text-sm font-medium truncate",children:h.title}),h.reason&&e.jsx("p",{className:"text-slate-400 text-xs mt-1 line-clamp-2",children:h.reason})]}),h.replacementSuggestion&&e.jsxs("div",{className:"bg-emerald-500/10 rounded-lg p-3 border border-emerald-500/30",children:[e.jsx("div",{className:"text-xs text-emerald-400 mb-1 font-medium",children:"SUGGESTED"}),e.jsx("div",{className:"text-slate-100 text-sm font-medium truncate",children:h.replacementSuggestion.title}),h.replacementSuggestion.description&&e.jsx("p",{className:"text-slate-400 text-xs mt-1 line-clamp-2",children:h.replacementSuggestion.description})]})]})]})},v))]}),n.suggestedProjects.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-base font-semibold text-slate-100 flex items-center",children:[e.jsx(ge,{className:"w-4 h-4 mr-2 text-emerald-400"}),"Add New Projects"]}),e.jsx("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700 divide-y divide-slate-700",children:n.suggestedProjects.map((h,v)=>e.jsxs("label",{className:`flex items-center p-4 cursor-pointer transition-colors ${g[h.title]?"bg-emerald-500/10":"hover:bg-slate-700/50"}`,children:[e.jsx("input",{type:"checkbox",checked:g[h.title]||!1,onChange:()=>de(h.title),className:"w-5 h-5 rounded border-slate-500 bg-slate-700 text-emerald-500 focus:ring-emerald-500 focus:ring-offset-slate-900 flex-shrink-0"}),e.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[e.jsx("div",{className:"text-slate-100 text-sm font-medium",children:h.title}),h.description&&e.jsx("p",{className:"text-slate-400 text-xs mt-0.5 line-clamp-2",children:h.description}),h.githubUrl&&e.jsxs("a",{href:h.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 text-xs flex items-center mt-1",onClick:M=>M.stopPropagation(),children:[e.jsx(xe,{className:"w-3 h-3 mr-1"}),h.githubUrl.replace("https://github.com/","")]})]}),g[h.title]&&e.jsx(K,{className:"w-5 h-5 text-emerald-400 flex-shrink-0"})]},v))})]}),e.jsxs("div",{className:"bg-purple-500/10 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-purple-500/30",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 mb-4",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-slate-100 flex items-center",children:[e.jsx(V,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-purple-400"}),"Add Project Manually"]}),e.jsxs("button",{onClick:()=>N(!k),className:"w-full sm:w-auto bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors text-sm flex items-center justify-center space-x-2 min-h-[44px]",children:[k?e.jsx(Y,{className:"w-3 h-3 sm:w-4 sm:h-4"}):e.jsx(V,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:k?"Cancel":"Add Project"})]})]}),k&&e.jsx("div",{className:"bg-slate-800 rounded-lg p-3 sm:p-4 border border-slate-700",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-300 mb-2",children:"Project Title *"}),e.jsx("input",{type:"text",value:m.title,onChange:h=>S({...m,title:h.target.value}),placeholder:"e.g., E-commerce Website",className:"w-full px-3 py-3 border border-slate-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm min-h-[44px] bg-slate-700 text-slate-100 placeholder-slate-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-300 mb-2",children:"Tech Stack *"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-2",children:[e.jsx("input",{type:"text",value:m.newTech,onChange:h=>S({...m,newTech:h.target.value}),placeholder:"Add technology (e.g., React, Node.js)",className:"w-full sm:flex-1 px-3 py-3 border border-slate-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm min-h-[44px] bg-slate-700 text-slate-100 placeholder-slate-400",onKeyPress:h=>h.key==="Enter"&&T()}),e.jsx("button",{onClick:T,className:"w-full sm:w-auto bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-lg transition-colors text-sm min-h-[44px]",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-transparent",children:m.techStack.map((h,v)=>e.jsxs("span",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm bg-purple-500/20 text-purple-300 border border-purple-500/30",children:[h,e.jsx("button",{onClick:()=>z(h),className:"ml-1 sm:ml-2 text-purple-400 hover:text-purple-200 min-w-[20px] min-h-[20px] flex items-center justify-center",children:e.jsx(Y,{className:"w-3 h-3"})})]},v))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-300 mb-2",children:"Brief Description (Optional)"}),e.jsx("textarea",{value:m.description,onChange:h=>S({...m,description:h.target.value}),placeholder:"Brief description of what the project does",className:"w-full px-3 py-3 border border-slate-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 h-20 resize-none text-sm bg-slate-700 text-slate-100 placeholder-slate-400"})]}),C.length>0?e.jsxs("div",{className:"bg-emerald-500/10 p-3 sm:p-4 rounded-lg border border-emerald-500/30",children:[e.jsxs("h4",{className:"font-medium text-emerald-300 mb-2 flex items-center text-sm",children:[e.jsx(K,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2"}),"Generated Bullet Points"]}),e.jsx("ul",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm text-slate-300",children:C.map((h,v)=>e.jsxs("li",{className:"flex items-start break-words",children:[e.jsx("span",{className:"text-emerald-400 mr-2",children:"â€¢"}),e.jsx("span",{className:"break-words",children:h})]},v))})]}):e.jsx("button",{onClick:I,disabled:!m.title||m.techStack.length===0||E,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-slate-600 disabled:text-slate-400 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2 text-sm min-h-[44px]",children:E?e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin"}),e.jsx("span",{children:"Generating Bullet Points..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:"Generate Bullet Points"})]})}),C.length>0&&e.jsx("button",{onClick:Re,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-medium py-3 px-4 rounded-lg transition-colors text-sm min-h-[44px]",children:"Add Project to Resume"})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"text-xs sm:text-sm text-slate-400 text-center sm:text-left",children:[me()," project",me()!==1?"s":""," selected"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsx("button",{onClick:()=>L("analysis"),className:"w-full sm:w-auto px-4 py-3 border border-slate-600 rounded-lg text-slate-300 hover:bg-slate-700 transition-colors text-sm min-h-[44px]",children:"Back"}),e.jsxs("button",{onClick:$e,disabled:me()===0,className:"w-full sm:w-auto bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 disabled:from-slate-600 disabled:to-slate-600 disabled:text-slate-400 text-white font-semibold py-3 px-6 rounded-xl transition-colors flex items-center justify-center space-x-2 text-sm min-h-[44px]",children:[e.jsx("span",{children:"Apply Changes & Preview"}),e.jsx(ie,{className:"w-4 h-4 sm:w-5 sm:h-5"})]})]})]})]}):U==="preview"&&P?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-emerald-500/20 mb-3",children:e.jsx(K,{className:"w-6 h-6 text-emerald-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-100",children:"Projects Updated Successfully"}),e.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:[((je=P.projects)==null?void 0:je.length)||0," projects will be added to your resume"]})]}),e.jsx("div",{className:"space-y-3",children:(he=P.projects)==null?void 0:he.map((h,v)=>e.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-slate-100 text-sm",children:h.title}),e.jsxs("span",{className:"text-xs text-slate-500 bg-slate-700 px-2 py-0.5 rounded",children:["#",v+1]})]}),e.jsxs("ul",{className:"space-y-1 text-xs text-slate-400 mb-3",children:[h.bullets.slice(0,2).map((M,H)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-slate-500 mr-2",children:"â€¢"}),e.jsx("span",{className:"line-clamp-1",children:M})]},H)),h.bullets.length>2&&e.jsxs("li",{className:"text-slate-500 text-xs",children:["+",h.bullets.length-2," more points"]})]}),h.githubUrl&&e.jsxs("a",{href:h.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs text-cyan-400 hover:text-cyan-300",onClick:M=>M.stopPropagation(),children:[e.jsx(xe,{className:"w-3 h-3 mr-1.5 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:h.githubUrl.replace("https://github.com/","")})]})]},v))}),P.projects&&P.projects.filter(h=>h.githubUrl).length>0&&e.jsxs("div",{className:"bg-slate-800/30 rounded-xl border border-slate-700 p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-200 mb-3 flex items-center",children:[e.jsx(xe,{className:"w-4 h-4 mr-2 text-cyan-400"}),"Reference GitHub Projects"]}),e.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Explore these real projects for inspiration and learning:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:P.projects.filter(h=>h.githubUrl).slice(0,5).map((h,v)=>e.jsxs("a",{href:h.githubUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-slate-700/50 hover:bg-slate-700 rounded-lg text-xs text-cyan-400 hover:text-cyan-300 transition-colors border border-slate-600",children:[e.jsx(xe,{className:"w-3 h-3 mr-1.5"}),(h.githubUrl||"").replace("https://github.com/","")]},v))})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 bg-slate-800/30 rounded-lg px-3 py-2",children:[e.jsx(ge,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"GitHub links are for reference only and won't appear in your exported resume."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[e.jsx("button",{onClick:()=>L("selection"),className:"flex-1 sm:flex-none px-4 py-3 border border-slate-600 rounded-lg text-slate-300 hover:bg-slate-700 transition-colors text-sm",children:"Back to Selection"}),e.jsxs("button",{onClick:ye,className:"flex-1 sm:flex-none bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 text-white font-semibold py-3 px-6 rounded-lg transition-all flex items-center justify-center gap-2 text-sm",children:["Confirm & Apply",e.jsx(ie,{className:"w-4 h-4"})]})]})]}):e.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[e.jsx(ut,{className:"w-10 h-10 sm:w-12 sm:h-12 text-amber-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg sm:text-xl font-semibold text-slate-100 mb-2",children:"No Analysis Available"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-400 mb-4 break-words",children:"There was a problem analyzing your projects. Please try again."}),e.jsx("button",{onClick:j,className:"w-full sm:w-auto bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 text-white font-medium py-3 px-4 rounded-lg transition-colors text-sm min-h-[44px]",children:"Retry Analysis"})]})})]})}):null};var tt={exports:{}};(function(t,a){(function(s,r){r()})(pe,function(){function s(d,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,p,b){var g=new XMLHttpRequest;g.open("GET",d),g.responseType="blob",g.onload=function(){f(g.response,p,b)},g.onerror=function(){console.error("could not download file")},g.send()}function l(d){var p=new XMLHttpRequest;p.open("HEAD",d,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function u(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(p)}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof pe=="object"&&pe.global===pe?pe:void 0,x=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(d,p,b){var g=n.URL||n.webkitURL,y=document.createElement("a");p=p||d.name||"download",y.download=p,y.rel="noopener",typeof d=="string"?(y.href=d,y.origin===location.origin?u(y):l(y.href)?r(d,p,b):u(y,y.target="_blank")):(y.href=g.createObjectURL(d),setTimeout(function(){g.revokeObjectURL(y.href)},4e4),setTimeout(function(){u(y)},0))}:"msSaveOrOpenBlob"in navigator?function(d,p,b){if(p=p||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(s(d,b),p);else if(l(d))r(d,p,b);else{var g=document.createElement("a");g.href=d,g.target="_blank",setTimeout(function(){u(g)})}}:function(d,p,b,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof d=="string")return r(d,p,b);var y=d.type==="application/octet-stream",k=/constructor/i.test(n.HTMLElement)||n.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||y&&k||x)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var $=m.result;$=N?$:$.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=$:location=$,g=null},m.readAsDataURL(d)}else{var S=n.URL||n.webkitURL,E=S.createObjectURL(d);g?g.location=E:location.href=E,g=null,setTimeout(function(){S.revokeObjectURL(E)},4e4)}});n.saveAs=f.saveAs=f,t.exports=f})})(tt);var Tt=tt.exports;const At=t=>({"Times New Roman":"times",Arial:"helvetica",Verdana:"helvetica",Georgia:"times",Calibri:"helvetica",Helvetica:"helvetica",Courier:"courier","Courier New":"courier"})[t]||"helvetica",Rt=t=>{const a=t.paperSize==="letter";return{pageWidth:a?215.9:210,pageHeight:a?279.4:297,margins:{top:t.layoutType==="compact"?12:(t.layoutType==="ats-optimized",17.78),bottom:4,left:t.layoutType==="compact"?12:(t.layoutType==="ats-optimized",17.78),right:t.layoutType==="compact"?12:(t.layoutType==="ats-optimized",17.78)},get contentWidth(){return this.pageWidth-this.margins.left-this.margins.right},get contentHeight(){return this.pageHeight-this.margins.top-this.margins.bottom},fonts:{name:{size:t.nameSize,weight:"bold"},contact:{size:t.bodyTextSize-.5,weight:"normal"},sectionTitle:{size:t.sectionHeaderSize,weight:"bold"},jobTitle:{size:t.subHeaderSize,weight:"bold"},company:{size:t.subHeaderSize,weight:"normal"},year:{size:t.subHeaderSize,weight:"normal"},body:{size:t.bodyTextSize,weight:"normal"}},spacing:{nameFromTop:10,afterName:0,afterContact:2,sectionSpacingBefore:t.sectionSpacing,sectionSpacingAfter:2,bulletListSpacing:.5,afterSubsection:3,lineHeight:t.layoutType==="ats-optimized"?1.1:1.2,bulletIndent:5,entrySpacing:t.entrySpacing},colors:{primary:[0,0,0],secondary:[80,80,80],accent:[37,99,235]},fontFamily:At(t.fontFamily)}},J=(t,a="text")=>{if(!t||t.trim()==="")return!1;const s=t.trim().toLowerCase();if(["n/a","not specified","none"].includes(s))return!1;switch(a){case"phone":return(t.match(/\d/g)||[]).length>6;case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);case"url":return/^https?:\/\//.test(t)||/linkedin\.com\/in\//i.test(t)||/github\.com\//i.test(t)||/^(www\.)?[a-zA-Z0-9-]+\.[a-zA-Z]{2,}/.test(t);case"text":default:return!0}},qe=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Q=t=>{if(typeof t=="string")return t.trim();if(t==null)return"";if(typeof t=="object"){const a=["text","name","title","value"];for(const s of a){const r=t[s];if(typeof r=="string"&&r.trim())return r.trim()}return""}return String(t)},ce=t=>{if(!t)return!0;const a=t.trim().toLowerCase();return a===""||a==="n/a"||a==="none"||a==="not specified"||a==="not provided"||a==="available upon request"},Ne=t=>{const a=Array.isArray(t.certifications)?t.certifications:[];if(a&&a.length>0)return a;const s=(t.additionalSections||[]).filter(l=>typeof(l==null?void 0:l.title)=="string"&&/cert|licen/i.test(l.title)).flatMap(l=>Array.isArray(l.bullets)?l.bullets:[]).filter(l=>typeof l=="string"&&l.trim().length>0);if(s.length>0)return s;const r=(t.skills||[]).filter(l=>typeof(l==null?void 0:l.category)=="string"&&/cert|licen/i.test(l.category)).flatMap(l=>Array.isArray(l.list)?l.list:[]).filter(l=>typeof l=="string"&&l.trim().length>0);return r.length>0?r:[]},st=(t,a)=>{try{if(qe()){const s=URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download=a,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>{URL.revokeObjectURL(s)},1e3)}else Tt.saveAs(t,a)}catch(s){console.error("Download failed:",s);const r=URL.createObjectURL(t);window.open(r,"_blank"),setTimeout(()=>{URL.revokeObjectURL(r)},1e3)}};function O(t,a,s){const r=s.pageHeight-s.margins.bottom;return t.currentY+a<=r}function D(t,a){t.doc.addPage(),t.currentPage++,t.currentY=a.margins.top;const s=`Page ${t.currentPage}`;t.doc.setFont(a.fontFamily,"normal"),t.doc.setFontSize(9),t.doc.setTextColor(128,128,128);const r=t.doc.internal.pageSize.getWidth(),l=t.doc.getTextWidth(s);t.doc.text(s,r-a.margins.right-l,a.pageHeight-a.margins.bottom/2)}function q(t,a,s,r,l={}){const{fontSize:u=r.fonts.body.size,fontWeight:n="normal",color:x=r.colors.primary,maxWidth:f=r.contentWidth,align:d="left"}=l;console.log(`[drawText] Font: ${r.fontFamily}, Weight: ${n}, Size: ${u}pt, Text: "${a.substring(0,30)}..."`),t.doc.setFont(r.fontFamily,n),t.doc.setFontSize(u),t.doc.setTextColor(x[0],x[1],x[2]);const p=t.doc.splitTextToSize(a,f),b=u*r.spacing.lineHeight*.352778,g=p.length*b;O(t,g,r)||D(t,r);let y=s;return d==="center"?y=r.margins.left+r.contentWidth/2:d==="right"&&(y=r.margins.left+r.contentWidth),p.forEach((k,N)=>{const m=t.currentY+N*b;if(d==="center"){const S=t.doc.getTextWidth(k);t.doc.text(k,y-S/2,m)}else if(d==="right"){const S=t.doc.getTextWidth(k);t.doc.text(k,y-S,m)}else t.doc.text(k,y,m)}),t.currentY+=g,g}function He(t,a,s){const r=(a||[]).filter(n=>{if(typeof n=="string")return n.trim().length>0&&!ce(n);if(n&&typeof n=="object"){const x=Q(n),f=Q(n==null?void 0:n.description);return!!x&&!ce(x)||!!f&&!ce(f)}return!1});if(!r.length)return 0;let l=_(t,"Certifications",s);const u=r.map(n=>{if(typeof n=="object"&&n!==null){const x=n;return Q(x.title)||Q(x)||Q(x==null?void 0:x.description)||""}return Q(n)}).filter(n=>n.trim().length>0);return u.length&&u.forEach(n=>{O(t,12,s)||D(t,s);const x=q(t,`â€¢ ${n}`,s.margins.left+s.spacing.bulletIndent,s,{fontSize:s.fonts.body.size,maxWidth:s.contentWidth-s.spacing.bulletIndent});l+=x,t.currentY+=s.spacing.bulletListSpacing}),l}function _(t,a,s){const r=s.fonts.sectionTitle.size*s.spacing.lineHeight*.352778,n=1+r+1+s.spacing.sectionSpacingAfter+5;O(t,n,s)||D(t,s),t.currentY+=1,t.doc.setFont(s.fontFamily,"bold"),t.doc.setFontSize(s.fonts.sectionTitle.size),t.doc.setTextColor(s.colors.primary[0],s.colors.primary[1],s.colors.primary[2]);const x=a.toUpperCase();t.doc.text(x,s.margins.left,t.currentY),t.currentY+=r;const f=t.currentY-s.fonts.sectionTitle.size*.2;return t.doc.setDrawColor(64,64,64),t.doc.setLineWidth(.25),t.doc.line(s.margins.left,f,s.margins.left+s.contentWidth,f),t.currentY+=s.spacing.sectionSpacingAfter,r+s.spacing.sectionSpacingBefore+s.spacing.sectionSpacingAfter}function Oe(t,a){if(!t)return"";const s=t.trim().toLowerCase();if(a==="linkedin"){const r=s.match(/linkedin\.com\/in\/([^\/\?]+)/i);return r?`linkedin.com/in/${r[1]}`:"LinkedIn"}if(a==="github"){const r=s.match(/github\.com\/([^\/\?]+)/i);return r?`github.com/${r[1]}`:"GitHub"}return t}function $t(t,a,s){const r=[],l=[];if(J(a.phone,"phone")&&r.push({text:a.phone,url:`tel:${a.phone}`}),J(a.email,"email")&&r.push({text:a.email,url:`mailto:${a.email}`}),J(a.location,"text")&&r.push({text:a.location}),J(a.linkedin,"url")){const p=a.linkedin.startsWith("http")?a.linkedin:`https://${a.linkedin}`,b=Oe(a.linkedin,"linkedin");l.push({text:b,url:p})}if(J(a.github,"url")){const p=a.github.startsWith("http")?a.github:`https://${a.github}`,b=Oe(a.github,"github");l.push({text:b,url:p})}if(r.length===0&&l.length===0)return 0;t.doc.setFont(s.fontFamily,"bold"),t.doc.setFontSize(s.fonts.contact.size),t.doc.setTextColor(s.colors.primary[0],s.colors.primary[1],s.colors.primary[2]);const u=" | ",n=t.doc.getTextWidth(u),x=s.fonts.contact.size*s.spacing.lineHeight*.352778;let f=0;const d=p=>{if(p.length===0)return;let b=0;p.forEach((y,k)=>{b+=t.doc.getTextWidth(y.text),k<p.length-1&&(b+=n)});let g=s.margins.left+(s.contentWidth-b)/2;p.forEach((y,k)=>{const N=t.doc.getTextWidth(y.text);if(t.doc.text(y.text,g,t.currentY),y.url){const m=s.fonts.contact.size*.352778;t.doc.link(g,t.currentY-m+1,N,m+1,{url:y.url})}g+=N,k<p.length-1&&(t.doc.text(u,g,t.currentY),g+=n)}),t.currentY+=x,f+=x};return d(r),l.length>0&&d(l),t.doc.setFont(s.fontFamily,"normal"),t.currentY+=s.spacing.afterContact,f+=s.spacing.afterContact,f}function Le(t,a,s="experienced",r){if(!a||a.length===0)return 0;t.currentY+=1.5;let u=_(t,s==="fresher"||s==="student"?"Work Experience":"Professional Experience",r)+1.5;return a.forEach((n,x)=>{const f=r.fonts.jobTitle.size*r.spacing.lineHeight*.352778,d=r.fonts.body.size*r.spacing.lineHeight*.352778;O(t,f+d+r.spacing.bulletListSpacing*2+r.spacing.afterSubsection,r)||D(t,r);const p=t.currentY,b=`${n.role} | ${n.company}${J(n.location)?`, ${n.location}`:""}`,g=n.year;if(J(g)){t.doc.setFont(r.fontFamily,"bold"),t.doc.setFontSize(r.fonts.year.size);const y=t.doc.getTextWidth(g),k=r.margins.left+r.contentWidth-y,N=p-.5;t.doc.text(g,k,N),t.doc.setFont(r.fontFamily,"normal")}q(t,b,r.margins.left,r,{fontSize:r.fonts.jobTitle.size,fontWeight:"bold",maxWidth:r.contentWidth-(J(g)?t.doc.getTextWidth(g):0)-5}),t.currentY+=r.spacing.bulletListSpacing,n.bullets&&n.bullets.length>0&&(t.currentY+=r.spacing.bulletListSpacing,n.bullets.forEach(y=>{const k=`â€¢ ${y}`,N=q(t,k,r.margins.left+r.spacing.bulletIndent,r,{fontSize:r.fonts.body.size,maxWidth:r.contentWidth-r.spacing.bulletIndent});u+=N}),t.currentY+=r.spacing.bulletListSpacing),x<a.length-1&&(t.currentY+=1,u+=1)}),u}function Me(t,a,s){if(!a||a.length===0)return 0;let r=_(t,"Education",s);return a.forEach((l,u)=>{const n=t.currentY;O(t,20,s)||D(t,s);const x=q(t,l.degree,s.margins.left,s,{fontSize:s.fonts.jobTitle.size,fontWeight:s.fonts.jobTitle.weight}),f=`${l.school}${J(l.location)?`, ${l.location}`:""}`,d=q(t,f,s.margins.left,s,{fontSize:s.fonts.company.size,fontWeight:"normal",color:s.colors.primary});let p=0;if(J(l.cgpa)&&(p=q(t,`CGPA: ${l.cgpa}`,s.margins.left,s,{fontSize:s.fonts.body.size,fontWeight:s.fonts.body.weight,color:s.colors.secondary})),t.doc.setFontSize(s.fonts.year.size),t.doc.setTextColor(s.colors.primary[0],s.colors.primary[1],s.colors.primary[2]),J(l.year)){const b=l.year;t.doc.setFont(s.fontFamily,"bold");const g=t.doc.getTextWidth(b),y=s.margins.left+s.contentWidth-g,k=n-.5;t.doc.text(b,y,k),t.doc.setFont(s.fontFamily,"normal")}r+=x+d+p,u<a.length-1&&(t.currentY+=1,r+=1)}),r}function Be(t,a,s){if(!a||a.length===0)return 0;a.filter(l=>l.githubUrl);let r=_(t,"Projects",s);return a.forEach((l,u)=>{O(t,25,s)||D(t,s);const n=q(t,l.title,s.margins.left,s,{fontSize:s.fonts.jobTitle.size,fontWeight:s.fonts.jobTitle.weight});r+=n,t.currentY+=s.spacing.bulletListSpacing,l.bullets&&l.bullets.length>0&&(t.currentY+=s.spacing.bulletListSpacing,l.bullets.forEach(x=>{const f=`â€¢ ${x}`,d=q(t,f,s.margins.left+s.spacing.bulletIndent,s,{fontSize:s.fonts.body.size,maxWidth:s.contentWidth-s.spacing.bulletIndent});r+=d}),t.currentY+=s.spacing.bulletListSpacing),u<a.length-1&&(t.currentY+=1,r+=1)}),r}function Je(t,a,s){if(!a||a.length===0)return 0;let r=_(t,"Skills",s);const l=s.fonts.body.size*s.spacing.lineHeight*.352778;return a.forEach((u,n)=>{O(t,15,s)||D(t,s);const x=s.margins.left,f=`${u.category}: `,d=u.list?u.list.join(", "):"";t.doc.setFont(s.fontFamily,"bold"),t.doc.setFontSize(s.fonts.body.size),t.doc.setTextColor(s.colors.primary[0],s.colors.primary[1],s.colors.primary[2]);const p=t.doc.getTextWidth(f);t.doc.text(f,x,t.currentY),t.doc.setFont(s.fontFamily,"normal");const b=s.contentWidth-p,g=t.doc.splitTextToSize(d,b);g.forEach((y,k)=>{k===0?t.doc.text(y,x+p,t.currentY):t.doc.text(y,x,t.currentY+k*l)}),t.currentY+=g.length*l,r+=g.length*l,n<a.length-1&&(t.currentY+=1,r+=1)}),r}function Ct(t,a,s){if(!a)return 0;let r=_(t,"Professional Summary",s);const l=q(t,a,s.margins.left,s,{fontSize:s.fonts.body.size,fontWeight:s.fonts.body.weight,maxWidth:s.contentWidth});return r+=l,t.currentY+=3,r}function zt(t,a,s){if(!a)return 0;let r=_(t,"Career Objective",s);t.currentY+=3;const l=q(t,a,s.margins.left,s,{fontSize:s.fonts.body.size,fontWeight:s.fonts.body.weight,maxWidth:s.contentWidth});return r+=l,t.currentY+=3,r}function De(t,a,s){if(!(a.achievements&&a.achievements.length>0))return 0;let l=_(t,"Achievements",s);return a.achievements.forEach(u=>{O(t,10,s)||D(t,s);const n=q(t,`â€¢ ${u}`,s.margins.left+s.spacing.bulletIndent,s,{fontSize:s.fonts.body.size,maxWidth:s.contentWidth-s.spacing.bulletIndent});l+=n}),t.currentY+=2,l}function Pt(t,a,s){if(!a||!a.title||!a.bullets||a.bullets.length===0)return 0;let r=_(t,a.title,s);return a.bullets.forEach(l=>{O(t,10,s)||D(t,s);const u=q(t,`â€¢ ${l}`,s.margins.left+s.spacing.bulletIndent,s,{fontSize:s.fonts.body.size,maxWidth:s.contentWidth-s.spacing.bulletIndent});r+=u}),t.currentY+=2,r}const Ut=async(t,a="experienced",s=et)=>{if(!t)throw new Error("Resume data is required for PDF export");if(!t.name||t.name.trim()==="")throw new Error("Resume must have a name to export");console.log("ðŸ”´ EXPORT PDF CALLED WITH OPTIONS:",{fontFamily:s.fontFamily,nameSize:s.nameSize,bodyTextSize:s.bodyTextSize,sectionHeaderSize:s.sectionHeaderSize});const r=Rt(s);console.log("ðŸ”µ PDF_CONFIG CREATED:",{fontFamily:r.fontFamily,nameSize:r.fonts.name.size,bodySize:r.fonts.body.size,sectionSize:r.fonts.sectionTitle.size});try{qe()&&console.log("Starting PDF generation for mobile device..."),console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.log("ðŸ“„ PDF EXPORT - OPTIONS RECEIVED"),console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.log("Export options:",JSON.stringify(s,null,2)),console.log("Paper size:",s.paperSize),console.log("Font family (original):",s.fontFamily),console.log("Font family (mapped):",r.fontFamily),console.log("Font sizes:"),console.log("  - Name:",s.nameSize,"â†’ PDF_CONFIG:",r.fonts.name.size),console.log("  - Section Header:",s.sectionHeaderSize,"â†’ PDF_CONFIG:",r.fonts.sectionTitle.size),console.log("  - Sub Header:",s.subHeaderSize,"â†’ PDF_CONFIG:",r.fonts.jobTitle.size),console.log("  - Body Text:",s.bodyTextSize,"â†’ PDF_CONFIG:",r.fonts.body.size),console.log("Spacing:"),console.log("  - Section:",s.sectionSpacing,"â†’ PDF_CONFIG:",r.spacing.sectionSpacingBefore),console.log("  - Entry:",s.entrySpacing,"â†’ PDF_CONFIG:",r.spacing.entrySpacing),console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");const l=s.paperSize==="letter"?"letter":"a4",u=new bt({orientation:"portrait",unit:"mm",format:l,compress:!0});console.log(`[PDF] Initializing font: ${r.fontFamily}`),u.setFont(r.fontFamily,"normal"),u.setFontSize(r.fonts.body.size);const n={currentPage:1,currentY:r.margins.top,doc:u};u.setProperties({title:`${t.name} - Resume`,subject:"Professional Resume",author:t.name,creator:"Resume Optimizer"}),n.currentY=r.spacing.nameFromTop,q(n,t.name.toUpperCase(),r.margins.left,r,{fontSize:r.fonts.name.size,fontWeight:r.fonts.name.weight,align:"center"}),n.currentY+=r.spacing.afterName,$t(n,t,r),n.currentY+=3,a==="experienced"&&t.summary&&t.summary.trim()!==""?Ct(n,t.summary,r):(a==="student"||a==="fresher")&&t.careerObjective&&t.careerObjective.trim()!==""&&zt(n,t.careerObjective,r);const x=(p,b)=>{try{b()}catch(g){console.error(`[PDF] Section failed: ${p}`,g)}};a==="experienced"?(x("Skills",()=>Je(n,t.skills,r)),x("WorkExperience",()=>Le(n,t.workExperience,a,r)),x("Projects",()=>Be(n,t.projects,r)),x("Education",()=>Me(n,t.education,r)),x("Certifications",()=>He(n,Ne(t),r))):a==="student"?(x("Education",()=>Me(n,t.education,r)),x("Skills",()=>Je(n,t.skills,r)),x("Projects",()=>Be(n,t.projects,r)),x("WorkExperience",()=>Le(n,t.workExperience,a,r)),x("Certifications",()=>He(n,Ne(t),r)),x("Achievements",()=>De(n,t,r))):(x("Skills",()=>Je(n,t.skills,r)),x("WorkExperience",()=>Le(n,t.workExperience,a,r)),x("Projects",()=>Be(n,t.projects,r)),x("Education",()=>Me(n,t.education,r)),x("Certifications",()=>He(n,Ne(t),r)),x("Achievements",()=>De(n,t,r))),t.additionalSections&&t.additionalSections.length>0&&t.additionalSections.forEach(p=>{Pt(n,p,r)});const f=n.currentPage;if(f>1)for(let p=1;p<=f;p++){p>1&&u.setPage(p);const b=`Page ${p} of ${f}`;u.setFont(r.fontFamily,"normal"),u.setFontSize(9),u.setTextColor(80,80,80);const g=u.getTextWidth(b);u.text(b,r.pageWidth/2-g/2,r.pageHeight-r.margins.bottom/2)}const d=rt(t,"pdf");if(qe()){const p=u.output("blob");st(p,d)}else u.save(d)}catch(l){throw console.error("Error exporting to PDF:",l),l instanceof Error?l.message.includes("jsPDF")?new Error("PDF generation failed. Please try again or contact support if the issue persists."):new Error("An error occurred while creating the PDF. Please try again."):new Error("An unexpected error occurred while exporting PDF. Please try again.")}},rt=(t,a)=>{const s=t.name.replace(/\s+/g,"_"),r=t.targetRole?`_${t.targetRole.replace(/\s+/g,"_")}`:"";return`${s}${r}_Resume.${a}`},Wt=async(t,a="experienced")=>{if(!t)throw new Error("Resume data is required for Word export");if(!t.name||t.name.trim()==="")throw new Error("Resume must have a name to export");const s=rt(t,"doc");try{console.log("Generating Word document...");const r=Ht(t,a);console.log("Word HTML content generated successfully");const l=new Blob([r],{type:"application/vnd.ms-word"});st(l,s),console.log("Word document downloaded successfully")}catch(r){throw console.error("Error exporting to Word:",r),r instanceof Error?new Error(`Word export failed: ${r.message}`):new Error("Word export failed. Please try again.")}},Ht=(t,a="experienced")=>{const s=[],r=(m,S,E="text",$)=>{if(!S)return;const W=S.split(/[,|]/).map(U=>U.trim()).filter(U=>J(U,E));if(W.length>0){const U=W.map(L=>$==="tel"?`<a href="tel:${L}" style="color: #2563eb !important; text-decoration: underline !important;">${L}</a>`:$==="mailto"?`<a href="mailto:${L}" style="color: #2563eb !important; text-decoration: underline !important;">${L}</a>`:$==="http"?`<a href="${L}" target="_blank" rel="noopener noreferrer" style="color: #2563eb !important; text-decoration: underline !important;">${L}</a>`:L).join(" | ");s.push(`${U}`)}};r("Phone no",t.phone,"phone","tel"),r("Email",t.email,"email","mailto"),r("LinkedIn",t.linkedin,"url","http"),r("GitHub",t.github,"url","http"),r("Location",t.location,"text");const l=s.join(" | "),u=t.summary?`
  <div style="margin-top: 5pt;">
    <div class="section-title" style="font-size: 10pt; font-weight: bold; margin-bottom: 4pt; text-transform: uppercase; letter-spacing: 0.5pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">PROFESSIONAL SUMMARY</div>
    <div class="section-underline" style="border-bottom: 0.5pt solid #808080; margin-bottom: 4pt; height: 1px;"></div>
    <p style="margin-bottom: 12pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 10pt;">${t.summary}</p>
  </div>
`:"",n=t.education&&t.education.length>0?`
    <div style="margin-top: 5pt;">
      <div class="section-title" style="font-size: 10pt; font-weight: bold; margin-bottom: 4pt; text-transform: uppercase; letter-spacing: 0.5pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">EDUCATION</div>
      <div class="section-underline" style="border-bottom: 0.5pt solid #808080; margin-bottom: 4pt; height: 1px;"></div>
      ${t.education.map(m=>`
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 2pt;">
          <tr>
            <td style="padding: 0; vertical-align: top; text-align: left;">
              <div class="degree" style="font-size: 9.5pt; font-weight: bold; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">${m.degree}</div>
              <div class="school" style="font-size: 9.5pt; font-weight: normal; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">${m.school}${J(m.location)?`, ${m.location}`:""}</div>
              ${J(m.cgpa)?`<div style="font-size: 9.5pt; color: #4B5563; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">CGPA: ${m.cgpa}</div>`:""}
            </td>
            <td style="padding: 0; vertical-align: top; text-align: right; white-space: nowrap;">
              <div class="year" style="font-size: 9.5pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: bold;">${m.year}</div>
            </td>
          </tr>
        </table>
      `).join("")}
    </div>
  `:"",x=t.workExperience&&t.workExperience.length>0?`
    <div style="margin-top: 5pt;">
      <div class="section-title" style="font-size: 10pt; font-weight: bold; margin-bottom: 4pt; text-transform: uppercase; letter-spacing: 0.5pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">${a==="fresher"?"WORK EXPERIENCE":"EXPERIENCE"}</div>
      <div class="section-underline" style="border-bottom: 0.5pt solid #808080; margin-bottom: 4pt; height: 1px;"></div>
      ${t.workExperience.map(m=>`
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 1pt;">
          <tr>
            <td style="padding: 0; vertical-align: top; text-align: left;">
              <div class="job-title" style="font-size: 9.5pt; font-weight: bold; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">${m.role} | ${m.company}${J(m.location)?`, ${m.location}`:""}</div>
            </td>
            <td style="padding: 0; vertical-align: top; text-align: right; white-space: nowrap;">
              <div class="year" style="font-size: 9.5pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: normal;">${m.year}</div>
            </td>
          </tr>
        </table>
        ${m.bullets&&m.bullets.length>0?`
          <ul class="bullets" style="margin-left: 5mm; margin-bottom: 6pt; margin-top: 2pt; list-style-type: disc;">
            ${m.bullets.map(S=>`<li class="bullet" style="font-size: 9.5pt; line-height: 1.4; margin: 0 0 2pt 0; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">${S}</li>`).join("")}
          </ul>
        `:""}
      `).join("")}
    </div>
  `:"",f=t.projects&&t.projects.length>0?`
    <div style="margin-top: 5pt;">
      <div class="section-title" style="font-size: 10pt; font-weight: bold; margin-bottom: 4pt; text-transform: uppercase; letter-spacing: 0.5pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">PROJECTS</div>
      <div class="section-underline" style="border-bottom: 0.5pt solid #808080; margin-bottom: 4pt; height: 1px;"></div>
      ${t.projects.map(m=>`
        <div style="margin-bottom: 6pt;">
          <div class="project-title" style="font-size: 9.5pt; font-weight: bold; margin-bottom: 1pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">${m.title}</div>
          ${m.bullets&&m.bullets.length>0?`
            <ul class="bullets" style="margin-left: 5mm; margin-bottom: 6pt; margin-top: 2pt; list-style-type: disc;">
              ${m.bullets.map(S=>`<li class="bullet" style="font-size: 9.5pt; line-height: 1.4; margin: 0 0 2pt 0; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">${S}</li>`).join("")}
            </ul>
          `:""}
        </div>
      `).join("")}
    </div>
  `:"",d=t.skills&&t.skills.length>0?`
    <div style="margin-top: 5pt;">
      <div class="section-title" style="font-size: 10pt; font-weight: bold; margin-bottom: 4pt; text-transform: uppercase; letter-spacing: 0.5pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">SKILLS</div>
      <div class="section-underline" style="border-bottom: 0.5pt solid #808080; margin-bottom: 4pt; height: 1px;"></div>
      ${t.skills.map(m=>`
        <div class="skills-item" style="font-size: 9.5pt; margin: 0.5pt 0; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
          <span class="skill-category" style="font-weight: bold; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">${m.category}:</span> ${m.list?m.list.join(", "):""}
        </div>
      `).join("")}
    </div>
  `:"",p=Ne(t),b=p&&p.length>0?`
    <div style="margin-top: 5pt;">
      <div class="section-title" style="font-size: 10pt; font-weight: bold; margin-bottom: 4pt; text-transform: uppercase; letter-spacing: 0.5pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">CERTIFICATIONS</div>
      <div class="section-underline" style="border-bottom: 0.5pt solid #808080; margin-bottom: 4pt; height: 1px;"></div>
      <ul class="bullets" style="margin-left: 5mm; margin-bottom: 6pt; margin-top: 6pt; list-style-type: disc;">
        ${p.filter(m=>typeof m=="string"?String(m).trim().length>0&&!ce(String(m)):m&&(!ce(Q(m))||!ce(Q(m.description)))).map(m=>{let S="";if(typeof m=="object"&&m!==null){const E=Q(m.title)||Q(m),$=Q(m.description);E&&$&&$!==E?S=`
                <div style="font-weight: bold; margin-bottom: 2pt;">${E}</div>
                <div style="font-size: 8.5pt; color: #4a5568; margin-left: 3mm; line-height: 1.3;">${$}</div>
              `:S=E||$}else S=String(m);return`<li class="bullet" style="font-size: 9.5pt; line-height: 1.4; margin: 0 0 4pt 0; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">${S}</li>`}).join("")}
      </ul>
    </div>
  `:"",g=t.achievements&&t.achievements.length>0?`
    <div style="margin-top: 5pt;">
      <div class="section-title" style="font-size: 10pt; font-weight: bold; margin-bottom: 4pt; text-transform: uppercase; letter-spacing: 0.5pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">ACHIEVEMENTS</div>
      <div class="section-underline" style="border-bottom: 0.5pt solid #808080; margin-bottom: 4pt; height: 1px;"></div>
      <ul class="bullets" style="margin-left: 7.5mm; margin-bottom: 6pt; margin-top: 2pt; list-style-type: disc;">
        ${t.achievements.map(m=>`<li class="bullet" style="font-size: 9.5pt; line-height: 1.4; margin: 0 0 2pt 0; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">${m}</li>`).join("")}
      </ul>
    </div>
  `:"";let y="";const k=t.careerObjective&&t.careerObjective.trim()!==""?`
  <div style="margin-top: 5pt;">
    <div class="section-title" style="font-size: 10pt; font-weight: bold; margin-bottom: 4pt; text-transform: uppercase; letter-spacing: 0.5pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">CAREER OBJECTIVE</div>
    <div class="section-underline" style="border-bottom: 0.5pt solid #808080; margin-bottom: 4pt; height: 1px;"></div>
    <p style="margin-bottom: 12pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 10pt;">${t.careerObjective}</p>
  </div>
`:"",N=t.additionalSections&&t.additionalSections.length>0?`
    ${t.additionalSections.map(m=>`
      <div style="margin-top: 5pt;">
        <div class="section-title" style="font-size: 10pt; font-weight: bold; margin-bottom: 4pt; text-transform: uppercase; letter-spacing: 0.5pt; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">${m.title.toUpperCase()}</div>
        <div class="section-underline" style="border-bottom: 0.5pt solid #808080; margin-bottom: 4pt; height: 1px;"></div>
        <ul class="bullets" style="margin-left: 5mm; margin-bottom: 6pt; margin-top: 2pt; list-style-type: disc;">
          ${m.bullets.map(S=>`<li class="bullet" style="font-size: 9.5pt; line-height: 1.4; margin: 0 0 2pt 0; font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">${S}</li>`).join("")}
        </ul>
      </div>
    `).join("")}
  `:"";return a==="experienced"?y=`
      ${u}
      ${d}
      ${x}
      ${f}
      ${n}
      ${b}
      ${N}
    `:a==="student"?y=`
      ${k}
      ${n}
      ${d}
      ${f}
      ${x}
      ${b}
      ${g}
      ${N}
    `:y=`
      ${k}
      ${d}
      ${x}
      ${f}
      ${n}
      ${b}
      ${g}
      ${N}
    `,`
    <!DOCTYPE html>
    <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40">
    <head>
      <meta charset="utf-8">
      <meta name="ProgId" content="Word.Document">
      <meta name="Generator" content="Microsoft Word 15">
      <meta name="Originator" content="Microsoft Word 15">
      <title>${t.name} - Resume</title>
      <style>
        @page {
          margin-top: 17.78mm !important; /* ~0.7 inch */
          margin-bottom: 17.78mm !important; /* ~0.7 inch */
          margin-left: 17.78mm !important; /* ~0.7 inch */
          margin-right: 17.78mm !important; /* ~0.7 inch */
        }

        body {
          font-family: "Calibri", sans-serif !important;
          font-size: 10pt !important;
          line-height: 1.25 !important;
          color: #000 !important;
          margin: 0 !important;
          padding: 0 !important;
          background: white !important;
        }

        a, a:link, a:visited, a:active {
          color: #2563eb !important;
          text-decoration: underline !important;
          font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
          font-weight: inherit !important;
          font-size: inherit !important;
        }

        a:hover {
          color: #1d4ed8 !important;
          text-decoration: underline !important;
        }

        b, strong {
          font-weight: bold !important;
          color: #000 !important;
        }

        .header {
          text-align: center !important;
          margin-bottom: 6mm !important;
        }
        .name {
          font-size: 18pt !important;
          font-weight: bold !important;
          letter-spacing: 1pt !important;
          margin-bottom: 4pt !important;
          text-transform: uppercase !important;
          font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        }
        .contact {
          font-size: 9pt !important;
          margin-bottom: 6pt !important;
          font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        }
        .header-line {
          border: none !important;
          border-top: 0.5pt solid #404040 !important;
          margin: 0 0 !important; /* Remove horizontal margin */
          height: 1px !important;
          width: 100% !important; /* Ensure line spans full content width */
        }
        .section-title {
          font-size: 10pt !important;
          font-weight: bold !important;
          margin-top: 10pt !important;
          margin-bottom: 4pt !important;
          text-transform: uppercase !important;
          letter-spacing: 0.5pt !important;
          font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        }
        .section-underline {
          border-bottom: 0.5pt solid #808080 !important;
          margin-bottom: 4pt !important;
          height: 1px !important;
        }
        /* Removed .job-header, .edu-header flex styles as they are replaced by table */
        .job-title, .degree {
          font-size: 9.5pt !important;
          font-weight: bold !important;
          font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        }
        .company, .school {
          font-size: 9.5pt !important;
          font-weight: normal !important; /* Changed to normal */
          font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        }
        .year {
          font-size: 9.5pt !important;
          font-weight: bold !important;
          font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        }
        .bullets {
          margin-left: 5mm !important; /* Changed from 4mm to 5mm */
          margin-bottom: 4pt !important;
          margin-top: 2pt !important;
        }
        .bullet {
          font-size: 9.5pt !important;
          line-height: 1.25 !important; /* Changed from 1.4 to 1.25 */
          margin: 0 0 1pt 0 !important; /* Changed from 2pt to 1pt */
          font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        }
        .skills-item {
          font-size: 9.5pt !important;
          margin: 1.5pt 0 !important;
          font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        }
        .skill-category {
          font-weight: bold !important;
          font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        }
        .project-title {
          font-size: 9.5pt !important;
          font-weight: bold !important;
          margin-bottom: 2pt !important;
          font-family: Calibri, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        }

        @media print {
          body { margin: 0 !important; }
        }
      </style>
    </head>
    <body>
      <div class="header">
        <div class="name">${t.name.toUpperCase()}</div>
        ${l?`<div class="contact">${l}</div>`:""}
        
      </div>

      ${y}

    </body>
    </html>
  `},os=({sections:t,onStartNewResume:a,exportOptions:s=et,jobContext:r,onApplyNow:l})=>{const[u,n]=R.useState("preview"),[x,f]=R.useState(!1),[d,p]=R.useState(!1),[b,g]=R.useState({type:null,status:null,message:""}),y=t.find(E=>E.id==="resume"),k=y==null?void 0:y.resumeData,N=(y==null?void 0:y.userType)||"experienced",m=async()=>{if(!(!k||x||d)){f(!0),g({type:null,status:null,message:""});try{await Ut(k,N,s),g({type:"pdf",status:"success",message:"PDF downloaded successfully!"}),setTimeout(()=>g({type:null,status:null,message:""}),3e3)}catch{g({type:"pdf",status:"error",message:"PDF export failed. Please try again."}),setTimeout(()=>g({type:null,status:null,message:""}),5e3)}finally{f(!1)}}},S=async()=>{if(!(!k||d||x)){p(!0),g({type:null,status:null,message:""});try{Wt(k,N),g({type:"word",status:"success",message:"Word document downloaded successfully!"}),setTimeout(()=>g({type:null,status:null,message:""}),3e3)}catch{g({type:"word",status:"error",message:"Word export failed. Please try again."}),setTimeout(()=>g({type:null,status:null,message:""}),5e3)}finally{p(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-950 to-[#020617] pb-24",children:[e.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-xl border-b border-slate-700/50 sticky top-0 z-40",children:[e.jsx("div",{className:"px-4 py-4",children:e.jsxs("button",{onClick:()=>{confirm("Start a new resume? Current progress will be cleared.")&&a()},className:"flex items-center space-x-2 text-slate-300 hover:text-white transition-colors",style:{minHeight:"44px"},children:[e.jsx(Fe,{className:"w-5 h-5"}),e.jsx("span",{className:"text-base font-medium",children:"Create New Resume"})]})}),e.jsxs("div",{className:"flex border-t border-slate-700/50",children:[e.jsx("button",{onClick:()=>n("preview"),className:`flex-1 py-4 text-base font-medium transition-colors ${u==="preview"?"text-emerald-400 border-b-2 border-emerald-400":"text-slate-400 hover:text-slate-200"}`,style:{minHeight:"44px"},children:"Preview"}),e.jsx("button",{onClick:()=>n("export"),className:`flex-1 py-4 text-base font-medium transition-colors ${u==="export"?"text-emerald-400 border-b-2 border-emerald-400":"text-slate-400 hover:text-slate-200"}`,style:{minHeight:"44px"},children:"Download"})]})]}),e.jsx("div",{className:"px-4 py-6",children:u==="preview"?e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-lg border border-slate-700/50 p-3 sm:p-4",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4 flex items-center",children:[e.jsx(Se,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 text-emerald-400"}),"Your Optimized Resume"]}),e.jsx("div",{className:"relative w-full bg-slate-800/50 rounded-xl overflow-hidden border border-slate-600/50",style:{height:"calc(100vh - 260px)",minHeight:"500px"},children:e.jsx("div",{className:"w-full h-full overflow-auto flex items-start justify-center p-4",style:{WebkitOverflowScrolling:"touch"},children:e.jsx("div",{className:"transform-gpu",style:{transform:"scale(0.45)",transformOrigin:"top center",minWidth:"210mm"},children:y==null?void 0:y.component})})}),e.jsx("p",{className:"text-xs text-slate-400 text-center mt-2 sm:mt-3",children:"Scroll to view full resume"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-emerald-900/30 to-green-900/30 rounded-2xl p-6 border border-emerald-500/30",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center shadow-lg shadow-emerald-500/20",children:e.jsx(K,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Resume Ready!"}),e.jsx("p",{className:"text-base text-slate-300",children:r!=null&&r.fromJobApplication&&(r!=null&&r.roleTitle)?`Optimized for ${r.roleTitle}${r.companyName?` at ${r.companyName}`:""}`:"Your resume has been optimized and is ready to download."})]})]}),(r==null?void 0:r.fromJobApplication)&&l&&e.jsxs("button",{onClick:l,className:"w-full mt-4 bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-500 hover:to-cyan-500 text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 flex items-center justify-center space-x-3 shadow-lg shadow-emerald-500/20",style:{minHeight:"56px",fontSize:"18px"},children:[e.jsx(yt,{className:"w-6 h-6"}),e.jsx("span",{children:"Apply Now"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-slate-700/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Download Resume"}),e.jsx("button",{onClick:m,disabled:x||d,className:"w-full bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-500 hover:to-rose-500 disabled:from-slate-600 disabled:to-slate-600 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 flex items-center justify-center space-x-3 shadow-lg shadow-red-500/20 mb-4",style:{minHeight:"56px",fontSize:"18px"},children:x?e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{children:"Generating PDF..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"w-6 h-6"}),e.jsx("span",{children:"Download PDF"})]})}),e.jsx("button",{onClick:S,disabled:d||x,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 disabled:from-slate-600 disabled:to-slate-600 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 flex items-center justify-center space-x-3 shadow-lg shadow-blue-500/20",style:{minHeight:"56px",fontSize:"18px"},children:d?e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{children:"Generating Word..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"w-6 h-6"}),e.jsx("span",{children:"Download Word"})]})})]}),b.status&&e.jsx("div",{className:`p-4 rounded-xl border ${b.status==="success"?"bg-emerald-900/30 border-emerald-500/30":"bg-red-900/30 border-red-500/30"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[b.status==="success"?e.jsx(K,{className:"w-6 h-6 text-emerald-400 flex-shrink-0"}):e.jsx(ae,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),e.jsx("span",{className:`text-base font-medium ${b.status==="success"?"text-emerald-300":"text-red-300"}`,children:b.message})]})})]})]})})]})};console.log("ProjectEnhancementService: Using EdenAI + GitHub API via Supabase proxy");class Lt{async searchRelevantProjects(a,s){console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.log("ðŸ” PROJECT SEARCH STARTED"),console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.log("ðŸ“‹ JD length:",a.length,"chars"),console.log("ðŸ› ï¸ Required skills:",s.join(", ")||"(none provided)");try{const r=this.extractTechKeywords(a),l=this.extractRoleKeywords(a);console.log("ðŸ”‘ Tech keywords extracted:",r.join(", ")),console.log("ðŸŽ¯ Role keywords extracted:",l.join(", "));const n=`${[...r.slice(0,3),...l.slice(0,2)].join(" ")} in:name,description,readme stars:>50`,x=await _e.searchRepos(n,{sort:"stars",order:"desc",perPage:10});if(x.items&&x.items.length>0){const f=x.items.map(d=>({title:d.name,link:d.html_url,snippet:d.description||`A ${d.language||"programming"} project with ${d.stargazers_count} stars`,source:"GitHub"}));return console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.log("âœ… PROJECT SEARCH COMPLETED"),console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.log("ðŸ“Š Found",f.length,"projects from GitHub"),f.forEach((d,p)=>console.log(`   ${p+1}. ${d.title}`)),console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),f}return console.log("âš ï¸ No results from GitHub API, using fallback projects"),this.getFallbackProjects(a,s)}catch(r){return console.error("âŒ Error searching GitHub projects:",r),console.log("âš ï¸ Using fallback projects"),this.getFallbackProjects(a,s)}}cleanGitHubTitle(a){const s=a.match(/GitHub - [^/]+\/([^:]+)(?:: (.+))?/);if(s)return s[2]?s[2]:this.formatRepoName(s[1]);const r=a.match(/[^/]+\/([^:]+)(?:: (.+))?/);return r?r[2]?r[2]:this.formatRepoName(r[1]):a}formatRepoName(a){return a.replace(/-/g," ").replace(/_/g," ").split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}async generateProjectSuggestions(a,s,r){var u,n,x;console.log(`Generating project suggestions with ${r.length} search results`),r.length===0&&(r=this.getFallbackProjects(a,[]),console.log("Using fallback projects for suggestion generation"));const l=`You are an expert GitHub project recommender and resume enhancer.

### Job Description:
${a}

### Role:
${s.targetRole||"Not specified"}

### Current Resume Projects:
${((u=s.projects)==null?void 0:u.map(f=>{var d;return`- ${f.title}: ${(d=f.bullets)==null?void 0:d.join("; ")}`}).join(`
`))||"No projects listed"}

### Current Skills:
${((n=s.skills)==null?void 0:n.map(f=>{var d;return`${f.category}: ${(d=f.list)==null?void 0:d.join(", ")}`}).join(`
`))||"No skills listed"}

### GitHub Projects from Search:
${r.map(f=>`- Title: ${f.title}
  Link: ${f.link}
  Description: ${f.snippet||"No description available"}`).join(`

`)}

Your task:

1. Select 5-10 suitable GitHub projects from the search results that match the required stack, tools, and responsibilities in the JD.
2. For each project, provide:
   - Project Title (short and readable)
   - Exact GitHub Link from the search results
   - 3 Bullet Points (each bullet 9-10 words max, aligned with the JD, highlighting tech, role-specific contributions, or key features)

3. Also provide:
   - A list of missing skills from the job requirements
   - Before/after scores for ATS match, project relevance, and overall score
   - Recommended number of projects to add (1-3)

CRITICAL REQUIREMENTS:
- Each bullet point MUST be 9-10 words maximum
- Start each bullet with a strong action verb (Developed, Implemented, Architected, etc.)
- NO weak verbs like "helped", "assisted", "worked on"
- Include specific technologies from the tech stack
- Focus on achievements and impact, not just responsibilities
- Align with job description requirements
- Include metrics and quantifiable results where possible
- No repeated keywords across bullets for the same project

DO NOT repeat projects across different responses even if the JD is the same - always give new suggestions.

Respond ONLY with valid JSON in this exact structure:

{
  "suggestions": [
    {
      "id": "unique-id",
      "title": "Project Title",
      "githubLink": "exact_github_url_from_search_results",
      "description": "Short project description",
      "bullets": [
        "Bullet 1 - 9-10 words max",
        "Bullet 2 - 9-10 words max",
        "Bullet 3 - 9-10 words max"
      ],
      "relevanceScore": 1-5,
      "techStack": ["tech1", "tech2", "tech3"],
      "difficulty": "Beginner/Intermediate/Advanced",
      "estimatedTime": "2-4 weeks",
      "category": "Web Development/Data Science/Mobile/etc"
    }
  ],
  "beforeScore": {
    "atsMatch": 0-100,
    "projectRelevance": 1-5,
    "overallScore": 0-100
  },
  "afterScore": {
    "atsMatch": 0-100,
    "projectRelevance": 1-5,
    "overallScore": 0-100
  },
  "missingSkills": ["skill1", "skill2"],
  "recommendedProjects": 3-5
}`;try{const f=await G.generateTextWithRetry(l,{temperature:.3,maxTokens:4e3});if(!f)throw new Error("No response content from EdenAI");console.log("Raw response from EdenAI:",f);try{const d=G.parseJSONResponse(f),p={suggestions:((x=d.suggestions)==null?void 0:x.map(b=>({id:b.id,title:b.title,githubLink:b.githubLink||b.githubUrl,description:b.description,bullets:b.bullets||[],relevanceScore:b.relevanceScore,techStack:b.techStack||[],difficulty:b.difficulty,estimatedTime:b.estimatedTime,category:b.category})))||[],beforeScore:d.beforeScore||{atsMatch:60,projectRelevance:2,overallScore:40},afterScore:d.afterScore||{atsMatch:85,projectRelevance:4,overallScore:70},missingSkills:d.missingSkills||[],recommendedProjects:d.recommendedProjects||3};return console.log("Successfully parsed OpenRouter response"),p}catch(d){return console.error("Error parsing EdenAI response:",d),this.generateFallbackSuggestions(a,s,r)}}catch(f){return console.error("Error calling EdenAI for project suggestions:",f),this.generateFallbackSuggestions(a,s,r)}}generateFallbackSuggestions(a,s,r){const l=this.extractTechKeywords(a),u=this.extractRoleKeywords(a);return{suggestions:(r.length>0?r:this.getFallbackProjects(a,[])).slice(0,5).map((x,f)=>({id:`fallback-${f}`,title:x.title||`Project ${f+1}`,githubLink:x.link,description:x.snippet||`A project related to ${l.slice(0,3).join(", ")}`,bullets:[`Developed ${x.title} using ${l[0]||"modern"} technologies to solve business challenges.`,"Implemented key features including user authentication, data management, and reporting functionality.","Optimized application performance through code refactoring and database query optimization techniques."],relevanceScore:4,techStack:l.slice(0,5),difficulty:"Intermediate",estimatedTime:"2-4 weeks",category:u[0]||"Web Development",skillsCovered:l.slice(0,3)})),beforeScore:{atsMatch:65,projectRelevance:3,overallScore:70},afterScore:{atsMatch:85,projectRelevance:4,overallScore:85},missingSkills:l.slice(0,3),recommendedProjects:2}}async generateProjectDescription(a,s){const r=`Generate a professional project description for a resume based on the following input:

PROJECT INPUT:
- Name: ${a.name}
- Duration: ${a.startDate} to ${a.endDate}
- Tech Stack: ${a.techStack.join(", ")}
- One-liner: ${a.oneLiner||"Not provided"}

JOB DESCRIPTION CONTEXT:
${s}

REQUIREMENTS:
1. Create 3-4 bullet points describing the project
2. Follow the format: Problem â†’ Solution â†’ Technology â†’ Impact
3. Include specific technologies from the tech stack
4. Align with job requirements and keywords
5. Use action verbs and quantifiable results where possible
6. Each bullet should be 9-10 words maximum

Respond with only the bullet points, one per line, starting with "â€¢"`;try{const l=await G.generateTextWithRetry(r,{temperature:.3,maxTokens:1e3});if(!l)throw new Error("No response content from EdenAI");return l.trim()}catch(l){return console.error("Error calling EdenAI for project description:",l),`â€¢ Developed ${a.name} using ${a.techStack.join(", ")} technologies
â€¢ Implemented core features and functionality aligned with industry best practices
â€¢ Delivered scalable solution with focus on performance and user experience`}}extractTechKeywords(a){const s=[/\b(React|Angular|Vue|JavaScript|TypeScript|Node\.js|Python|Java|C\+\+|C#|PHP|Ruby|Go|Rust|Swift|Kotlin)\b/gi,/\b(MongoDB|MySQL|PostgreSQL|Redis|Elasticsearch|Firebase|Supabase)\b/gi,/\b(AWS|Azure|GCP|Docker|Kubernetes|Jenkins|Git|GitHub|GitLab)\b/gi,/\b(HTML|CSS|SASS|SCSS|Tailwind|Bootstrap|Material-UI|Chakra)\b/gi,/\b(Express|Django|Flask|Spring|Laravel|Rails|FastAPI)\b/gi,/\b(REST|GraphQL|API|Microservices|Serverless|Lambda)\b/gi],r=new Set;return s.forEach(l=>{const u=a.match(l);u&&u.forEach(n=>r.add(n.toLowerCase()))}),Array.from(r).slice(0,8)}extractRoleKeywords(a){const s=[/\b(frontend|backend|fullstack|full-stack|web developer|software engineer|data scientist|mobile developer)\b/gi,/\b(react developer|node developer|python developer|java developer)\b/gi,/\b(ui\/ux|devops|machine learning|ai|artificial intelligence)\b/gi],r=new Set;return s.forEach(l=>{const u=a.match(l);u&&u.forEach(n=>r.add(n.toLowerCase()))}),Array.from(r).slice(0,3)}extractSource(a){try{const s=new URL(a).hostname;return s.includes("github.com")?"GitHub":s.includes("devpost.com")?"DevPost":s.includes("codepen.io")?"CodePen":s.includes("netlify.app")?"Netlify":s.includes("vercel.app")?"Vercel":s}catch{return"Unknown"}}getFallbackProjects(a,s){return[{title:"React E-commerce Platform",link:"https://github.com/PERN-E-Commerce/PERN-E-Commerce",snippet:"Full-stack e-commerce application built with React, Node.js, Express, and MongoDB. Features include user authentication, product catalog, shopping cart, and payment integration.",source:"GitHub"},{title:"MERN Task Manager",link:"https://github.com/bradtraversy/mern-task-manager",snippet:"Responsive task management application with real-time updates, drag-and-drop functionality, team collaboration features, and data visualization charts.",source:"GitHub"},{title:"React Weather App",link:"https://github.com/erikflowers/weather-icons",snippet:"Modern weather application with location-based forecasts, interactive maps, and responsive design. Built with React and integrated with OpenWeather API.",source:"GitHub"},{title:"Social Media Dashboard",link:"https://github.com/adrianhajdin/social_media_app",snippet:"Data visualization dashboard for social media metrics with real-time charts, user engagement tracking, and automated reporting features.",source:"GitHub"},{title:"Inventory Management System",link:"https://github.com/pankajkumar005/Inventory-Management-System",snippet:"Complete inventory management solution with barcode scanning, stock tracking, supplier management, and automated reorder alerts.",source:"GitHub"},{title:"Spring Boot REST API",link:"https://github.com/spring-projects/spring-petclinic",snippet:"Comprehensive REST API built with Spring Boot, showcasing best practices for Java backend development with proper error handling and documentation.",source:"GitHub"},{title:"Node.js Express API",link:"https://github.com/hagopj13/node-express-boilerplate",snippet:"Production-ready Node.js REST API with Express, featuring authentication, authorization, error handling, validation, and testing.",source:"GitHub"},{title:"React Dashboard",link:"https://github.com/creativetimofficial/material-dashboard-react",snippet:"Beautiful admin dashboard built with React and Material-UI, featuring charts, tables, and responsive design.",source:"GitHub"},{title:"Django CRM System",link:"https://github.com/MicroPyramid/Django-CRM",snippet:"Customer relationship management system built with Django, featuring contact management, deal tracking, and email integration.",source:"GitHub"},{title:"Flutter E-commerce App",link:"https://github.com/abuanwar072/E-commerce-Complete-Flutter-UI",snippet:"Complete e-commerce mobile application UI built with Flutter, featuring product listings, cart management, and checkout process.",source:"GitHub"}]}}const Ye=new Lt,ls=({isOpen:t,onClose:a,currentResume:s,jobDescription:r,onProjectsAdded:l})=>{const[u,n]=R.useState("auto"),[x,f]=R.useState(!1),[d,p]=R.useState(null),[b,g]=R.useState(new Set),[y,k]=R.useState({name:"",startDate:"",endDate:"",techStack:[],oneLiner:""}),[N,m]=R.useState(""),[S,E]=R.useState(!1);R.useEffect(()=>{t&&u==="auto"&&$()},[t,u]);const $=async()=>{f(!0);try{const j=C(r),T=await Ye.searchRelevantProjects(r,j),z=await Ye.generateProjectSuggestions(r,s,T);p(z);const I=z.suggestions.slice(0,3).map(se=>se.id);g(new Set(I.slice(0,2)))}catch(j){console.error("Error analyzing projects:",j),alert("Failed to analyze projects. Please try again.")}finally{f(!1)}},C=j=>{const T=[/\b(React|Angular|Vue|JavaScript|TypeScript|Node\.js|Python|Java|C\+\+|C#|PHP|Ruby|Go|Rust|Swift|Kotlin)\b/gi,/\b(MongoDB|MySQL|PostgreSQL|Redis|Elasticsearch|Firebase|Supabase)\b/gi,/\b(AWS|Azure|GCP|Docker|Kubernetes|Jenkins|Git|GitHub|GitLab)\b/gi],z=new Set;return T.forEach(I=>{const se=j.match(I);se&&se.forEach(de=>z.add(de))}),Array.from(z)},W=j=>{const T=new Set(b);T.has(j)?T.delete(j):T.add(j),g(T)},U=()=>{N.trim()&&!y.techStack.includes(N.trim())&&(k(j=>({...j,techStack:[...j.techStack,N.trim()]})),m(""))},L=j=>{k(T=>({...T,techStack:T.techStack.filter(z=>z!==j)}))},P=async()=>{if(!y.name||y.techStack.length===0){alert("Please provide project name and at least one technology");return}E(!0);try{const T=(await Ye.generateProjectDescription(y,r)).split(`
`).filter(I=>I.trim().startsWith("â€¢")).map(I=>I.replace("â€¢","").trim()),z={title:y.name,bullets:T};l({...s,projects:[...s.projects||[],z]}),a()}catch(j){console.error("Error generating description:",j),alert("Failed to generate project description. Please try again.")}finally{E(!1)}},F=()=>{if(!d||b.size===0)return;const j=d.suggestions.filter(z=>b.has(z.id)).map(z=>({title:z.title,bullets:z.bullets&&z.bullets.length>0?z.bullets:[z.description]})),T={...s,projects:[...s.projects||[],...j]};l(T),a()},ee=j=>{switch(j){case"Beginner":return"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-200";case"Intermediate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-200";case"Advanced":return"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-dark-700 dark:text-gray-300"}},te=j=>j>=80?"text-green-600 dark:text-neon-green-400":j>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return t?e.jsx("div",{className:"fixed inset-0 lg:left-16 bg-black/60 flex items-center justify-center z-50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-none shadow-2xl w-full h-screen overflow-hidden flex flex-col dark:bg-dark-100 dark:shadow-dark-xl",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-purple-50 to-blue-50 p-3 sm:p-6 border-b border-gray-200 dark:from-dark-200 dark:to-dark-300 dark:border-dark-400",children:[e.jsx("button",{onClick:a,className:"absolute top-2 right-2 sm:top-4 sm:right-4 w-10 h-10 flex items-center justify-center text-gray-400 hover:text-gray-600 transition-colors rounded-full hover:bg-white/50 min-w-[44px] min-h-[44px] dark:text-gray-500 dark:hover:text-gray-300 dark:hover:bg-dark-300/50",children:e.jsx(Y,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 shadow-lg",children:e.jsx(ge,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 mb-2 px-4 dark:text-gray-100",children:"Project Enhancement"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 px-4 dark:text-gray-300",children:"Add relevant projects to boost your resume score and match job requirements"})]})]}),e.jsxs("div",{className:"p-3 sm:p-6 overflow-y-auto flex-1 min-h-0",children:[e.jsx("div",{className:"mb-4 sm:mb-6 flex-shrink-0",children:e.jsxs("div",{className:"grid grid-cols-1 sm:flex sm:flex-wrap gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>n("manual"),className:`flex items-center justify-center space-x-2 px-3 sm:px-4 py-3 rounded-lg sm:rounded-xl font-medium transition-all text-sm min-h-[44px] ${u==="manual"?"bg-blue-100 text-blue-700 border-2 border-blue-300 dark:bg-neon-cyan-500/20 dark:text-neon-cyan-300 dark:border-neon-cyan-700":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-dark-200 dark:text-gray-300 dark:hover:bg-dark-300"}`,children:[e.jsx(V,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:"Manual Add"})]}),e.jsxs("button",{onClick:()=>n("auto"),className:`flex items-center justify-center space-x-2 px-3 sm:px-4 py-3 rounded-lg sm:rounded-xl font-medium transition-all text-sm min-h-[44px] ${u==="auto"?"bg-purple-100 text-purple-700 border-2 border-purple-300 dark:bg-neon-purple-500/20 dark:text-neon-purple-300 dark:border-neon-purple-700":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-dark-200 dark:text-gray-300 dark:hover:bg-dark-300"}`,children:[e.jsx(We,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:"AI Suggestions"})]}),e.jsxs("button",{onClick:()=>n("ai-score"),className:`flex items-center justify-center space-x-2 px-3 sm:px-4 py-3 rounded-lg sm:rounded-xl font-medium transition-all text-sm min-h-[44px] ${u==="ai-score"?"bg-green-100 text-green-700 border-2 border-green-300 dark:bg-neon-green-500/20 dark:text-neon-green-300 dark:border-neon-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-dark-200 dark:text-gray-300 dark:hover:bg-dark-300"}`,children:[e.jsx(Z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:"AI + Scoring"})]})]})}),u==="manual"&&e.jsx("div",{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"bg-blue-50 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-blue-200 dark:bg-neon-cyan-500/20 dark:border-neon-cyan-700",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4 flex items-center dark:text-gray-100",children:[e.jsx(V,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-blue-600 dark:text-neon-cyan-400"}),"Add Project Manually"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-3 sm:mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2 dark:text-gray-300",children:"Project Name *"}),e.jsx("input",{type:"text",value:y.name,onChange:j=>k(T=>({...T,name:j.target.value})),placeholder:"e.g., E-commerce Website",className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm min-h-[44px] dark:bg-dark-700 dark:border-dark-600 dark:text-gray-100 dark:placeholder-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2 dark:text-gray-300",children:"One-liner (Optional)"}),e.jsx("input",{type:"text",value:y.oneLiner,onChange:j=>k(T=>({...T,oneLiner:j.target.value})),placeholder:"Brief description of the project",className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm min-h-[44px] dark:bg-dark-700 dark:border-dark-600 dark:text-gray-100 dark:placeholder-gray-400"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-3 sm:mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2 dark:text-gray-300",children:"Start Date *"}),e.jsx("input",{type:"month",value:y.startDate,onChange:j=>k(T=>({...T,startDate:j.target.value})),className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm min-h-[44px] dark:bg-dark-700 dark:border-dark-600 dark:text-gray-100 dark:placeholder-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2 dark:text-gray-300",children:"End Date *"}),e.jsx("input",{type:"month",value:y.endDate,onChange:j=>k(T=>({...T,endDate:j.target.value})),className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm min-h-[44px] dark:bg-dark-700 dark:border-dark-600 dark:text-gray-100 dark:placeholder-gray-400"})]})]}),e.jsxs("div",{className:"mb-3 sm:mb-4",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2 dark:text-gray-300",children:"Tech Stack *"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-2",children:[e.jsx("input",{type:"text",value:N,onChange:j=>m(j.target.value),placeholder:"Add technology (e.g., React, Node.js)",className:"w-full sm:flex-1 px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm min-h-[44px] dark:bg-dark-700 dark:border-dark-600 dark:text-gray-100 dark:placeholder-gray-400"}),e.jsxs("button",{onClick:U,className:"w-full sm:w-auto bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 px-4 sm:px-6 rounded-lg sm:rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm min-h-[44px] dark:from-neon-purple-600 dark:to-neon-cyan-600 dark:hover:from-neon-purple-700 dark:hover:to-neon-cyan-700",children:[e.jsx(V,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:"Add Technology"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:y.techStack.map((j,T)=>e.jsxs("span",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm bg-blue-100 text-blue-800 dark:bg-neon-cyan-500/20 dark:text-neon-cyan-200",children:[j,e.jsx("button",{onClick:()=>L(j),className:"ml-1 sm:ml-2 text-blue-600 hover:text-blue-800 min-w-[20px] min-h-[20px] flex items-center justify-center dark:text-neon-cyan-300 dark:hover:text-neon-cyan-200",children:e.jsx(Y,{className:"w-3 h-3"})})]},T))})]}),e.jsx("button",{onClick:P,disabled:S||!y.name||y.techStack.length===0,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-4 sm:px-6 rounded-lg sm:rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm min-h-[44px] dark:from-neon-cyan-600 dark:to-neon-purple-600 dark:hover:from-neon-cyan-700 dark:hover:to-neon-purple-700",children:S?e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}),e.jsx("span",{children:"Generating Description..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:"Generate & Add Project"})]})})]})}),(u==="auto"||u==="ai-score")&&e.jsx("div",{className:"space-y-4 sm:space-y-6",children:x?e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx(fe,{className:"w-6 h-6 sm:w-8 sm:h-8 animate-spin text-blue-600 mx-auto mb-4 dark:text-neon-cyan-400"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 px-4 dark:text-gray-300",children:"Analyzing job requirements and searching for relevant projects..."})]}):d?e.jsxs(e.Fragment,{children:[u==="ai-score"&&e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-green-200 mb-4 sm:mb-6 dark:from-dark-200 dark:to-dark-300 dark:border-dark-400",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4 flex items-center dark:text-gray-100",children:[e.jsx(pt,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-green-600 dark:text-neon-green-400"}),"Resume Score Improvement"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1 dark:text-gray-300",children:"ATS Match"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsxs("span",{className:`text-base sm:text-lg font-bold ${te(d.beforeScore.atsMatch)}`,children:[d.beforeScore.atsMatch,"%"]}),e.jsx(ie,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400 dark:text-gray-500"}),e.jsxs("span",{className:`text-base sm:text-lg font-bold ${te(d.afterScore.atsMatch)}`,children:[d.afterScore.atsMatch,"%"]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1 dark:text-gray-300",children:"Project Relevance"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsxs("span",{className:"text-base sm:text-lg font-bold text-red-600 dark:text-red-400",children:[d.beforeScore.projectRelevance,"/5"]}),e.jsx(ie,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400 dark:text-gray-500"}),e.jsxs("span",{className:"text-base sm:text-lg font-bold text-green-600 dark:text-neon-green-400",children:[d.afterScore.projectRelevance,"/5"]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1 dark:text-gray-300",children:"Overall Score"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("span",{className:`text-base sm:text-lg font-bold ${te(d.beforeScore.overallScore)}`,children:d.beforeScore.overallScore}),e.jsx(ie,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400 dark:text-gray-500"}),e.jsx("span",{className:`text-base sm:text-lg font-bold ${te(d.afterScore.overallScore)}`,children:d.afterScore.overallScore})]})]})]})]}),d.missingSkills.length>0&&e.jsx("div",{className:"bg-orange-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-orange-200 mb-4 sm:mb-6 dark:bg-orange-500/20 dark:border-orange-700",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ae,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-600 mt-0.5 flex-shrink-0 dark:text-orange-400"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-orange-800 mb-2 text-sm sm:text-base dark:text-orange-200",children:"Missing Skills Detected"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.missingSkills.map((j,T)=>e.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs break-words dark:bg-orange-900/40 dark:text-orange-200",children:j},T))})]})]})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4 flex items-center dark:text-gray-100",children:[e.jsx(Z,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-purple-600 dark:text-neon-purple-400"}),"Recommended Projects (",d.suggestions.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6",children:d.suggestions.map(j=>e.jsxs("div",{className:`border-2 rounded-lg sm:rounded-xl p-3 sm:p-4 transition-all cursor-pointer ${b.has(j.id)?"border-purple-500 bg-purple-50 dark:border-neon-purple-400 dark:bg-neon-purple-500/20":"border-gray-200 hover:border-purple-300 dark:border-dark-700 dark:hover:border-neon-purple-400"}`,onClick:()=>W(j.id),children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between space-y-3 sm:space-y-0 mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1 text-sm sm:text-base break-words dark:text-gray-100",children:j.title}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 mb-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ee(j.difficulty)} w-fit`,children:j.difficulty}),e.jsxs("span",{className:"flex items-center text-xs text-gray-500 w-fit dark:text-gray-400",children:[e.jsx(gt,{className:"w-3 h-3 mr-1 flex-shrink-0"}),j.estimatedTime]}),e.jsx("div",{className:"flex items-center w-fit",children:[...Array(5)].map((T,z)=>e.jsx(jt,{className:`w-2 h-2 sm:w-3 sm:h-3 ${z<j.relevanceScore?"text-yellow-400 fill-current dark:text-yellow-300":"text-gray-300 dark:text-dark-500"}`},z))})]})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${b.has(j.id)?"border-purple-500 bg-purple-500 dark:border-neon-purple-400 dark:bg-neon-purple-400":"border-gray-300 dark:border-dark-500"}`,children:b.has(j.id)&&e.jsx(K,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mb-3 break-words line-clamp-3 dark:text-gray-300",children:j.description}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-3 max-h-20 overflow-y-auto",children:j.techStack.map((T,z)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs break-words dark:bg-dark-700 dark:text-gray-300",children:T},z))}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:[j.githubLink&&e.jsxs("a",{href:j.githubLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-xs text-blue-600 hover:text-blue-800 min-h-[44px] w-fit dark:text-neon-cyan-400 dark:hover:text-neon-cyan-200",onClick:T=>T.stopPropagation(),children:[e.jsx(xe,{className:"w-3 h-3 mr-1 flex-shrink-0"}),"GitHub"]}),j.demoLink&&e.jsxs("a",{href:j.demoLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-xs text-green-600 hover:text-green-800 min-h-[44px] w-fit dark:text-neon-green-400 dark:hover:text-neon-green-200",onClick:T=>T.stopPropagation(),children:[e.jsx(xt,{className:"w-3 h-3 mr-1 flex-shrink-0"}),"Demo"]})]}),e.jsx("span",{className:"text-xs text-gray-500 w-fit dark:text-gray-400",children:j.category})]})]},j.id))}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 text-center sm:text-left dark:text-gray-300",children:[b.size," project",b.size!==1?"s":""," selected"]}),e.jsxs("button",{onClick:F,disabled:b.size===0,className:"w-full sm:w-auto bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-semibold py-3 px-4 sm:px-6 rounded-lg sm:rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm min-h-[44px] dark:from-neon-green-600 dark:to-neon-cyan-600 dark:hover:from-neon-green-700 dark:hover:to-neon-cyan-700",children:[e.jsx(K,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:"Add Projects & Show Preview"})]})]})]})]}):e.jsx("div",{className:"text-center py-6 sm:py-8",children:e.jsxs("button",{onClick:$,className:"w-full sm:w-auto bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 px-4 sm:px-6 rounded-lg sm:rounded-xl transition-all duration-300 flex items-center justify-center space-x-2 mx-auto text-sm min-h-[44px] dark:from-neon-purple-600 dark:to-neon-cyan-600 dark:hover:from-neon-purple-700 dark:hover:to-neon-cyan-700",children:[e.jsx(We,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:"Analyze & Suggest Projects"})]})})})]})]})}):null},cs=({isOpen:t,onClose:a,missingSections:s,onSectionsProvided:r,suggestedCertifications:l=[],analysisType:u="general_analysis",currentResumeData:n,pipelineMode:x=!1})=>{const[f,d]=R.useState([{role:"",company:"",year:"",bullets:[""]}]),[p,b]=R.useState([{title:"",bullets:[""]}]),[g,y]=R.useState([{category:"",count:0,list:[]}]),[k,N]=R.useState([""]),[m,S]=R.useState([{degree:"",school:"",year:"",cgpa:"",location:""}]),[E,$]=R.useState([""]),[C,W]=R.useState({phone:"",email:"",linkedin:"",github:""}),[U,L]=R.useState({}),[P,F]=R.useState(0);if(!t)return null;const ee=i=>{switch(i.includes(":")?i.split(":")[0]:i){case"workExperience":return{impact:"+15-25%",tier:"Tier 3: Experience",weight:"25% of total score"};case"projects":return{impact:"+10-15%",tier:"Tier 6: Projects",weight:"8% of total score"};case"skills":return{impact:"+20-30%",tier:"Tier 5: Skills & Keywords",weight:"25% of total score"};case"education":return{impact:"+5-10%",tier:"Tier 4: Education",weight:"8% of total score"};case"certifications":return{impact:"+3-8%",tier:"Tier 4: Certifications",weight:"8% of total score"};case"contactDetails":return{impact:"+5-10%",tier:"Tier 2: Content Structure",weight:"10% of total score"};default:return{impact:"+5%",tier:"General",weight:"Varies"}}},te=i=>{i.target===i.currentTarget&&a()},j=()=>{d([...f,{role:"",company:"",year:"",bullets:[""]}])},T=i=>{f.length>1&&d(f.filter((c,o)=>o!==i))},z=(i,c,o)=>{const w=[...f];w[i]={...w[i],[c]:o},d(w)},I=i=>{const c=[...f];c[i].bullets.push(""),d(c)},se=(i,c,o)=>{const w=[...f];w[i].bullets[c]=o,d(w)},de=(i,c)=>{const o=[...f];o[i].bullets.length>1&&(o[i].bullets.splice(c,1),d(o))},Ee=()=>{b([...p,{title:"",bullets:[""]}])},Te=i=>{p.length>1&&b(p.filter((c,o)=>o!==i))},Ae=(i,c,o)=>{const w=[...p];w[i]={...w[i],[c]:o},b(w)},Re=i=>{const c=[...p];c[i].bullets.push(""),b(c)},$e=(i,c,o)=>{const w=[...p];w[i].bullets[c]=o,b(w)},be=(i,c)=>{const o=[...p];o[i].bullets.length>1&&(o[i].bullets.splice(c,1),b(o))},ye=()=>{y([...g,{category:"",count:0,list:[]}]),N([...k,""])},me=(i,c,o)=>{const w=[...g];w[i]={...w[i],[c]:o},y(w)},je=i=>{g.length>1&&(y(g.filter((c,o)=>o!==i)),N(k.filter((c,o)=>o!==i)))},he=(i,c)=>{if(c.trim()){const o=[...g];o[i].list.push(c.trim()),o[i].count=o[i].list.length,y(o),N(w=>{const B=[...w];return B[i]="",B})}},h=(i,c)=>{const o=[...g];o[i].list.splice(c,1),o[i].count=o[i].list.length,y(o)},v=()=>{S([...m,{degree:"",school:"",year:"",cgpa:"",location:""}])},M=i=>{m.length>1&&S(m.filter((c,o)=>o!==i))},H=(i,c,o)=>{const w=[...m];w[i]={...w[i],[c]:o},S(w)},re=()=>{$([...E,""])},ne=i=>{E.length>1&&$(E.filter((c,o)=>o!==i))},we=(i,c)=>{const o=[...E];o[i]=c,$(o)},oe=(i,c)=>{W(o=>({...o,[i]:c}))},Ce=()=>{const i=s[P];if(i==="workExperience")return f.some(c=>c.role.trim().length>=2&&c.company.trim().length>=2&&c.year.trim().length>=4);if(i.startsWith("workExperience:date:")){const c=i.split(":")[2],o=U[c]||"";return o.trim().length>=4&&/\d{4}/.test(o)}if(i==="projects")return p.some(c=>c.title.trim().length>=3&&c.bullets.some(o=>o.trim().length>=10));if(i==="skills")return g.some(c=>c.category.trim().length>=2&&c.list.some(o=>o.trim().length>=2));if(i==="education"||i.startsWith("education:")){if(i.startsWith("education:")){const c=i.split(":")[1].toLowerCase();if(c.includes("year"))return m.some(o=>o.year.trim().length>=4);if(c.includes("degree"))return m.some(o=>o.degree.trim().length>=2);if(c.includes("institution")||c.includes("school"))return m.some(o=>o.school.trim().length>=2)}return m.some(c=>c.degree.trim().length>=2&&c.school.trim().length>=2&&c.year.trim().length>=4)}if(i==="certifications")return E.some(c=>c.trim().length>=5);if(i==="contactDetails"||i.startsWith("contactDetails:")){if(i==="contactDetails:Phone")return C.phone.trim().length>=10;if(i==="contactDetails:Email")return C.email.trim().includes("@")&&C.email.trim().includes(".");const c=C.email.trim().includes("@")&&C.email.trim().includes("."),o=C.phone.trim()===""||C.phone.trim().length>=10;return c&&o}return!1},ze=()=>{P<s.length-1?F(P+1):ue()},le=()=>A==="certifications",ve=()=>{const i=["workExperience","projects","skills","education"],c=A.includes(":")?A.split(":")[0]:A;return i.includes(c)},ke=()=>{A==="certifications"&&(P<s.length-1?F(P+1):ue())},ue=()=>{const i={};s.includes("workExperience")&&(i.workExperience=f.filter(o=>o.role.trim()&&o.company.trim()&&o.year.trim()).map(o=>({...o,bullets:o.bullets.filter(w=>w.trim())}))),s.filter(o=>o.startsWith("workExperience:date:")).length>0&&Object.keys(U).length>0&&(i.workExperienceDates=U),s.includes("projects")&&(i.projects=p.filter(o=>o.title.trim()&&o.bullets.some(w=>w.trim())).map(o=>({...o,bullets:o.bullets.filter(w=>w.trim())}))),s.includes("skills")&&(i.skills=g.filter(o=>o.category.trim()&&o.list.some(w=>w.trim())).map(o=>({...o,list:o.list.filter(w=>w.trim())}))),(s.includes("education")||s.some(o=>o.startsWith("education:")))&&(i.education=m.filter(o=>o.degree.trim()||o.school.trim()||o.year.trim())),s.includes("certifications")&&(i.certifications=E.filter(o=>o.trim())),(s.includes("contactDetails")||s.some(o=>o.startsWith("contactDetails:")))&&(i.contactDetails={phone:C.phone.trim(),email:C.email.trim(),linkedin:C.linkedin.trim(),github:C.github.trim()}),r(i),a()},A=s[P],X=Ce(),at=()=>e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center mb-4 sm:mb-6 mt-0 sm:mt-0",children:[e.jsx("div",{className:"bg-cyan-500/15 border border-cyan-400/40 w-10 h-10 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-4 shadow-[0_0_20px_rgba(6,182,212,0.3)]",children:e.jsx(Pe,{className:"w-6 h-6 sm:w-8 sm:h-8 text-cyan-300"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-slate-100 mb-2",children:"Add Work Experience"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-300",children:"Please provide your work experience details. If you're a fresher and don't have any full-time experience, we recommend adding any internships, training, or freelance work you've done. These greatly help in showcasing your skills."})]}),f.map((i,c)=>e.jsxs("div",{className:"border border-slate-700/50 bg-slate-800/30 rounded-lg sm:rounded-xl p-3 sm:p-4 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium text-slate-100 text-sm sm:text-base",children:["Experience #",c+1]}),f.length>1&&e.jsx("button",{onClick:()=>T(c),className:"text-red-600 hover:text-red-700 p-2 min-w-[44px] min-h-[44px] flex items-center justify-center",children:e.jsx(Y,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Job Title *"}),e.jsx("input",{type:"text",value:i.role,onChange:o=>z(c,"role",o.target.value),placeholder:"e.g., Software Engineer",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-neon-cyan-500 focus:border-blue-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company *"}),e.jsx("input",{type:"text",value:i.company,onChange:o=>z(c,"company",o.target.value),placeholder:"e.g., TechCorp Inc.",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-neon-cyan-500 focus:border-blue-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duration *"}),e.jsx("input",{type:"text",value:i.year,onChange:o=>z(c,"year",o.target.value),placeholder:"e.g., Jan 2023 - Present",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-neon-cyan-500 focus:border-blue-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Key Responsibilities"}),i.bullets.map((o,w)=>e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-2",children:[e.jsx("input",{type:"text",value:o,onChange:B=>se(c,w,B.target.value),placeholder:"Describe your responsibility/achievement",className:"w-full sm:flex-1 px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-neon-cyan-500 focus:border-blue-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"}),i.bullets.length>1&&e.jsx("button",{onClick:()=>de(c,w),className:"w-full sm:w-auto text-red-600 hover:text-red-700 p-3 sm:p-2 min-w-[44px] min-h-[44px] flex items-center justify-center border border-red-300 rounded-lg sm:border-none",children:e.jsx(Y,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]},w)),e.jsxs("button",{onClick:()=>I(c),className:"text-blue-600 hover:text-blue-700 text-xs sm:text-sm font-medium flex items-center min-h-[44px] w-full sm:w-auto justify-center sm:justify-start p-2 border border-blue-300 rounded-lg sm:border-none sm:p-0",children:[e.jsx(V,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Add Responsibility"]})]})]},c)),e.jsxs("button",{onClick:j,className:"w-full border-2 border-dashed border-gray-300 rounded-lg sm:rounded-xl p-3 sm:p-4 text-gray-600 hover:text-gray-800 hover:border-gray-400 transition-colors flex items-center justify-center text-sm min-h-[44px]",children:[e.jsx(V,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Add Another Experience"]})]}),nt=()=>{const i=A.split(":")[2]||"Experience",c=U[i]||"";return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center mb-4 sm:mb-6 mt-0 sm:mt-0",children:[e.jsx("div",{className:"bg-amber-500/15 border border-amber-400/40 w-10 h-10 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-4 shadow-[0_0_20px_rgba(251,191,36,0.3)]",children:e.jsx(Pe,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-300"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-slate-100 mb-2",children:"Add Missing Date"}),e.jsxs("p",{className:"text-sm sm:text-base text-slate-300",children:["Your work experience ",e.jsxs("strong",{className:"text-amber-300",children:['"',i,'"']})," is missing the date/duration. Please provide the time period for this experience."]})]}),e.jsxs("div",{className:"border border-slate-700/50 bg-slate-800/30 rounded-lg sm:rounded-xl p-4 sm:p-6 space-y-4",children:[e.jsx("div",{className:"bg-amber-500/10 border border-amber-400/30 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-xs text-amber-200",children:["ðŸ“… ",e.jsx("strong",{children:"Why dates matter:"})," ATS systems and recruiters use dates to understand your career timeline. Missing dates can lower your ATS score and raise red flags."]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Duration for: ",e.jsx("span",{className:"text-amber-300",children:i})," *"]}),e.jsx("input",{type:"text",value:c,onChange:o=>L(w=>({...w,[i]:o.target.value})),placeholder:"e.g., Jan 2023 - Present, or Jun 2022 - Dec 2023",className:"w-full px-4 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-amber-500 dark:focus:ring-amber-400 focus:border-amber-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-base min-h-[48px]"}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:'Format: "Month Year - Month Year" (e.g., "Jan 2023 - Present" or "Jun 2022 - Dec 2023")'})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[e.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Example 1"}),e.jsx("p",{className:"text-sm text-slate-200",children:"Jan 2023 - Present"})]}),e.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Example 2"}),e.jsx("p",{className:"text-sm text-slate-200",children:"Jun 2022 - Dec 2023"})]})]})]})]})},it=()=>e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"bg-green-100 w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:e.jsx(Ze,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Add Projects"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Please provide your project details"})]}),p.map((i,c)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg sm:rounded-xl p-3 sm:p-4 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Project #",c+1]}),p.length>1&&e.jsx("button",{onClick:()=>Te(c),className:"text-red-600 hover:text-red-700 p-2 min-w-[44px] min-h-[44px] flex items-center justify-center",children:e.jsx(Y,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Title *"}),e.jsx("input",{type:"text",value:i.title,onChange:o=>Ae(c,"title",o.target.value),placeholder:"e.g., E-commerce Website",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:border-green-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Details"}),i.bullets.map((o,w)=>e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-2",children:[e.jsx("input",{type:"text",value:o,onChange:B=>$e(c,w,B.target.value),placeholder:"Describe what you built/achieved",className:"w-full sm:flex-1 px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:border-green-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"}),i.bullets.length>1&&e.jsx("button",{onClick:()=>be(c,w),className:"w-full sm:w-auto text-red-600 hover:text-red-700 p-3 sm:p-2 min-w-[44px] min-h-[44px] flex items-center justify-center border border-red-300 rounded-lg sm:border-none",children:e.jsx(Y,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]},w)),e.jsxs("button",{onClick:()=>Re(c),className:"text-green-600 hover:text-green-700 text-xs sm:text-sm font-medium flex items-center min-h-[44px] w-full sm:w-auto justify-center sm:justify-start p-2 border border-green-300 rounded-lg sm:border-none sm:p-0",children:[e.jsx(V,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Add Detail"]})]})]},c)),e.jsxs("button",{onClick:Ee,className:"w-full border-2 border-dashed border-gray-300 rounded-lg sm:rounded-xl p-3 sm:p-4 text-gray-600 hover:text-gray-800 hover:border-gray-400 transition-colors flex items-center justify-center text-sm min-h-[44px]",children:[e.jsx(V,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Add Another Project"]})]}),ot=()=>e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"bg-purple-100 w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:e.jsx(Z,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Add Skills"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Organize your technical skills by category."})]}),g.map((i,c)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg sm:rounded-xl p-3 sm:p-4 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Skill Category #",c+1]}),g.length>1&&e.jsx("button",{onClick:()=>je(c),className:"text-red-600 hover:text-red-700 p-2 min-w-[44px] min-h-[44px] flex items-center justify-center",children:e.jsx(Y,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Category Name *"}),e.jsx("input",{type:"text",value:i.category,onChange:o=>me(c,"category",o.target.value),placeholder:"e.g., Programming Languages, Frameworks, Tools",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-purple-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Skills (comma-separated or add individually)"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-2",children:[e.jsx("input",{type:"text",value:k[c]||"",onChange:o=>{const w=[...k];w[c]=o.target.value,N(w)},onKeyDown:o=>{o.key==="Enter"&&(o.preventDefault(),he(c,k[c]||""))},placeholder:"e.g., JavaScript, React, Node.js",className:"w-full sm:flex-1 px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-purple-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"}),e.jsx("button",{onClick:()=>{he(c,k[c]||"")},className:"w-full sm:w-auto bg-purple-600 hover:bg-purple-700 text-white px-3 py-3 rounded-lg transition-colors text-sm min-h-[44px]",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.list.map((o,w)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:[o,e.jsx("button",{onClick:()=>h(c,w),className:"ml-2 text-purple-600 hover:text-purple-800",children:e.jsx(Y,{className:"w-3 h-3"})})]},w))})]})]},c)),e.jsxs("button",{onClick:ye,className:"w-full border-2 border-dashed border-gray-300 rounded-lg sm:rounded-xl p-3 sm:p-4 text-gray-600 hover:text-gray-800 hover:border-gray-400 transition-colors flex items-center justify-center text-sm min-h-[44px]",children:[e.jsx(V,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Add Another Skill Category"]})]}),lt=()=>{const i=A.startsWith("education:"),c=i?A.split(":")[1]:null;return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"bg-blue-100 w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:e.jsx(Qe,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:i?`Add Missing Education ${c}`:"Add Education"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:i?`Your education section is missing the ${c}. Please fill it in below.`:"Please provide your educational background."}),i&&e.jsxs("div",{className:"mt-2 inline-flex items-center px-3 py-1 rounded-full text-xs bg-amber-100 text-amber-800 border border-amber-300",children:[e.jsx(ae,{className:"w-3 h-3 mr-1"}),"Missing: ",c]})]}),m.map((o,w)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg sm:rounded-xl p-3 sm:p-4 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Education #",w+1]}),m.length>1&&e.jsx("button",{onClick:()=>M(w),className:"text-red-600 hover:text-red-700 p-2 min-w-[44px] min-h-[44px] flex items-center justify-center",children:e.jsx(Y,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Degree *"}),e.jsx("input",{type:"text",value:o.degree,onChange:B=>H(w,"degree",B.target.value),placeholder:"e.g., Bachelor of Technology",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-neon-cyan-500 focus:border-blue-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Institution *"}),e.jsx("input",{type:"text",value:o.school,onChange:B=>H(w,"school",B.target.value),placeholder:"e.g., University Name",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-neon-cyan-500 focus:border-blue-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Year *"}),e.jsx("input",{type:"text",value:o.year,onChange:B=>H(w,"year",B.target.value),placeholder:"e.g., 2020-2024",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-neon-cyan-500 focus:border-blue-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"CGPA/GPA"}),e.jsx("input",{type:"text",value:o.cgpa||"",onChange:B=>H(w,"cgpa",B.target.value),placeholder:"e.g., 8.5/10 or 3.8/4.0",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-neon-cyan-500 focus:border-blue-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:o.location||"",onChange:B=>H(w,"location",B.target.value),placeholder:"e.g., City, State",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-neon-cyan-500 focus:border-blue-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]})]},w)),e.jsxs("button",{onClick:v,className:"w-full border-2 border-dashed border-gray-300 rounded-lg sm:rounded-xl p-3 sm:p-4 text-gray-600 hover:text-gray-800 hover:border-gray-400 transition-colors flex items-center justify-center text-sm min-h-[44px]",children:[e.jsx(V,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Add Another Education Entry"]})]})},ct=()=>e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"bg-amber-500/15 border border-amber-400/40 w-10 h-10 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-4 shadow-[0_0_20px_rgba(251,191,36,0.3)]",children:e.jsx(Xe,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-300"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-slate-100 mb-2",children:"Add Certifications"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-300",children:"Professional certifications can boost your ATS score by 3-8%. Add any relevant certifications you have."})]}),l&&l.length>0&&e.jsxs("div",{className:"bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-400/30 rounded-lg p-4 mb-4 shadow-[0_0_20px_rgba(6,182,212,0.1)]",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[e.jsx("div",{className:"bg-cyan-500/20 rounded-full p-1",children:e.jsx(Z,{className:"w-4 h-4 text-cyan-400 flex-shrink-0"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-cyan-300",children:"ðŸŽ¯ Job-Relevant Certifications"}),e.jsx("p",{className:"text-xs text-slate-400",children:u==="jd_analysis"?"These certifications align with the job description and can boost your ATS score:":"Popular certifications that could enhance your profile:"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((i,c)=>e.jsxs("button",{onClick:()=>{if(!E.some(o=>o.toLowerCase()===i.toLowerCase())){const o=E.findIndex(w=>!w.trim());o>=0?we(o,i):$([...E,i])}},className:"px-3 py-1.5 bg-cyan-500/20 hover:bg-cyan-500/30 border border-cyan-400/40 rounded-full text-xs text-cyan-200 transition-colors flex items-center gap-1 hover:shadow-[0_0_10px_rgba(6,182,212,0.3)]",children:[e.jsx(V,{className:"w-3 h-3"}),i]},c))}),u==="jd_analysis"&&e.jsxs("div",{className:"mt-3 text-xs text-cyan-300/80 flex items-center gap-1",children:[e.jsx(K,{className:"w-3 h-3"}),"Adding relevant certifications can improve your score by 3-8%"]})]}),E.map((i,c)=>e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("input",{type:"text",value:i,onChange:o=>we(c,o.target.value),placeholder:"e.g., AWS Certified Solutions Architect",className:"w-full sm:flex-1 px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-yellow-500 dark:focus:ring-yellow-400 focus:border-yellow-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"}),E.length>1&&e.jsx("button",{onClick:()=>ne(c),className:"w-full sm:w-auto text-red-600 hover:text-red-700 p-3 sm:p-2 min-w-[44px] min-h-[44px] flex items-center justify-center border border-red-300 rounded-lg sm:border-none",children:e.jsx(Y,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]},c)),e.jsxs("button",{onClick:re,className:"w-full border-2 border-dashed border-gray-300 rounded-lg sm:rounded-xl p-3 sm:p-4 text-gray-600 hover:text-gray-800 hover:border-gray-400 transition-colors flex items-center justify-center text-sm min-h-[44px]",children:[e.jsx(V,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Add Another Certification"]}),e.jsx("div",{className:"bg-amber-500/10 border border-amber-400/30 rounded-lg p-4 mt-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ae,{className:"w-4 h-4 text-amber-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-amber-300",children:"No certifications?"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:`That's okay! Certifications are optional. Click "Skip" below to proceed without adding any. You can always add them later to improve your score.`})]})]})})]}),dt=()=>e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"bg-yellow-100 w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:e.jsx(Ie,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-600"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Add Contact Details"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Please provide your contact information"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:C.email,onChange:i=>oe("email",i.target.value),placeholder:"e.g., your.email@example.com",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-yellow-500 dark:focus:ring-yellow-400 focus:border-yellow-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:C.phone,onChange:i=>oe("phone",i.target.value),placeholder:"e.g., +1 (555) 123-4567",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-yellow-500 dark:focus:ring-yellow-400 focus:border-yellow-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LinkedIn Profile URL"}),e.jsx("input",{type:"url",value:C.linkedin,onChange:i=>oe("linkedin",i.target.value),placeholder:"e.g., https://linkedin.com/in/yourprofile",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-yellow-500 dark:focus:ring-yellow-400 focus:border-yellow-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GitHub Profile URL"}),e.jsx("input",{type:"url",value:C.github,onChange:i=>oe("github",i.target.value),placeholder:"e.g., https://github.com/yourusername",className:"w-full px-3 py-3 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-yellow-500 dark:focus:ring-yellow-400 focus:border-yellow-500 dark:bg-dark-200 dark:text-gray-100 dark:placeholder-gray-400 text-sm min-h-[44px]"})]})]}),mt=i=>{switch(i.includes(":")?i.split(":")[0]:i){case"workExperience":return e.jsx(Pe,{className:"w-4 h-4"});case"projects":return e.jsx(Ze,{className:"w-4 h-4"});case"skills":return e.jsx(Z,{className:"w-4 h-4"});case"education":return e.jsx(Qe,{className:"w-4 h-4"});case"certifications":return e.jsx(Xe,{className:"w-4 h-4"});case"contactDetails":return e.jsx(Ie,{className:"w-4 h-4"});default:return e.jsx(ae,{className:"w-4 h-4"})}},ht=i=>{if(i.includes(":")){const c=i.split(":"),o=c[0];if(o==="workExperience"&&c[1]==="date")return`Add Date for: ${c[2]||"Experience"}`;const w=c[1];return`${{workExperience:"Work Experience",projects:"Projects",skills:"Skills",education:"Education",certifications:"Certifications",contactDetails:"Contact Details"}[o]||o} - ${w}`}switch(i){case"workExperience":return"Work Experience";case"projects":return"Projects";case"skills":return"Skills";case"education":return"Education";case"certifications":return"Certifications";case"contactDetails":return"Contact Details";default:return i}};return e.jsx("div",{className:"fixed inset-0 lg:left-16 z-50 bg-black/70 flex justify-center items-center p-2 sm:p-2 backdrop-blur-md",onClick:te,children:e.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-xl rounded-xl sm:rounded-2xl shadow-[0_25px_80px_rgba(16,185,129,0.15)] border border-emerald-400/30 w-full max-w-[95vw] sm:max-w-4xl overflow-y-auto",style:{maxHeight:"80vh",overscrollBehavior:"contain"},children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-amber-500/10 to-orange-500/10 p-3 sm:p-6 sm:mb-6 border-b border-amber-400/20",children:[e.jsx("button",{onClick:a,className:"absolute top-2 right-2 sm:top-4 sm:right-4 w-10 h-10 flex items-center justify-center text-slate-400 hover:text-slate-200 transition-colors rounded-full hover:bg-slate-800/50 min-w-[44px] min-h-[44px]",children:e.jsx(Y,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 shadow-[0_0_30px_rgba(251,191,36,0.4)]",children:e.jsx(ae,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-slate-100 mb-2 px-4",children:x?"Complete Missing Sections":"Complete Your Resume"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-300 px-4",children:x?"The following sections are required to continue the optimization pipeline":"We found some missing sections that are important for optimization"}),e.jsx("div",{className:"mt-4 bg-cyan-500/10 border border-cyan-400/30 rounded-lg p-3 mx-4",children:e.jsx("p",{className:"text-xs text-cyan-200",children:x?e.jsxs(e.Fragment,{children:["ðŸ”’ ",e.jsx("strong",{children:"Required:"})," Work Experience, Projects, Skills, and Education cannot be skipped. Only Certifications are optional."]}):e.jsxs(e.Fragment,{children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"})," Filling these sections will significantly improve your resume's ATS score and job match rate."]})})})]})]}),e.jsx("div",{className:"p-3 sm:p-6 overflow-y-auto grow shrink basis-0 pb-[100px] bg-slate-900/50",children:e.jsx("div",{className:"flex justify-center sm:justify-between items-center flex-wrap gap-4 sm:gap-6 mb-2 sm:mb-6",children:s.map((i,c)=>e.jsxs("div",{className:"flex items-center w-auto sm:w-auto",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${c<P?"bg-emerald-500 text-white shadow-[0_0_20px_rgba(16,185,129,0.4)]":c===P?"bg-cyan-500 text-white shadow-[0_0_20px_rgba(6,182,212,0.4)]":"bg-slate-800/50 text-slate-400 border border-slate-700/50"}`,children:c<P?e.jsx(K,{className:"w-4 h-4 sm:w-5 sm:h-5"}):mt(i)}),e.jsxs("div",{className:"ml-2 hidden sm:block",children:[e.jsx("div",{className:"text-sm font-medium text-slate-100",children:ht(i)}),e.jsx("div",{className:"text-xs text-slate-400",children:c<P?"Completed":c===P?"Current":"Pending"})]}),c<s.length-1&&e.jsx("div",{className:`w-6 h-px mx-2 sm:w-16 sm:h-1 sm:mx-4 transition-all duration-300 ${c<P?"bg-emerald-500":"bg-slate-700/50"}`})]},i))})}),e.jsxs("div",{className:"p-3 sm:p-6 overflow-y-auto flex-1 grow shrink basis-0 bg-slate-900/50",children:[A==="workExperience"&&at(),A.startsWith("workExperience:date:")&&nt(),A==="projects"&&it(),A==="skills"&&ot(),(A==="education"||A.startsWith("education:"))&&lt(),A==="certifications"&&ct(),(A==="contactDetails"||A.startsWith("contactDetails:"))&&dt()]}),e.jsxs("div",{className:"bg-slate-800/80 backdrop-blur-xl p-3 sm:p-6 border-t border-emerald-400/20 flex flex-col gap-2",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-500/10 to-cyan-500/10 border border-emerald-400/30 rounded-lg p-3 mb-2",children:e.jsx("div",{className:"flex items-center justify-between flex-wrap gap-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center",children:e.jsx(Z,{className:"w-4 h-4 text-emerald-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium text-emerald-300",children:["Adding this section can improve your score by ",ee(A).impact]}),e.jsxs("p",{className:"text-xs text-slate-400",children:[ee(A).tier," â€¢ ",ee(A).weight]})]})]})})}),e.jsxs("div",{className:"flex flex-row justify-between items-center gap-3",children:[e.jsxs("button",{onClick:()=>F(Math.max(0,P-1)),disabled:P===0,className:"flex-1 sm:w-auto px-4 py-3 border border-slate-700/50 rounded-lg text-slate-300 hover:bg-slate-700/50 hover:border-emerald-400/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm min-h-[44px] flex justify-center items-center",children:[e.jsx(Fe,{className:"w-4 h-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 order-first sm:order-none",children:["Step ",P+1," of ",s.length]}),e.jsxs("div",{className:"flex gap-2",children:[le()&&e.jsxs("button",{onClick:ke,className:"px-4 py-3 border border-amber-500/50 rounded-lg text-amber-400 hover:bg-amber-500/10 hover:border-amber-400 transition-colors text-sm min-h-[44px] flex justify-center items-center",title:"Certifications are optional and can be skipped",children:[e.jsx("span",{className:"hidden sm:inline",children:"Skip Optional"}),e.jsx("span",{className:"sm:hidden",children:"Skip"})]}),e.jsxs("button",{onClick:ze,disabled:!X&&!le(),className:"flex-1 sm:w-auto px-6 py-3 bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 disabled:from-gray-500 disabled:to-gray-600 text-white font-semibold rounded-lg transition-all shadow-[0_0_20px_rgba(16,185,129,0.3)] disabled:shadow-none disabled:cursor-not-allowed text-sm min-h-[44px] flex justify-center items-center",title:!X&&!le()?"This section is required and cannot be skipped":"Continue to next step",children:[e.jsx("span",{className:"hidden sm:inline",children:P===s.length-1?x?"Continue Pipeline":"Complete":"Next"}),e.jsx(ie,{className:"w-4 h-4 sm:ml-2"})]})]}),!X&&ve()&&e.jsxs("div",{className:"mt-2 text-xs text-red-400 flex items-center gap-1 justify-center",children:[e.jsx(ae,{className:"w-3 h-3"}),"This section is required to continue the optimization pipeline"]})]})]})]})})},Mt=(t,a)=>a.origin==="guided"||a.origin==="jd_optimized"?Math.max(t,90):t,Bt=async(t,a,s)=>{const r=`You are an expert resume evaluator and ATS specialist. Analyze this resume comprehensively using the following scoring criteria:

RESUME DATA:
${JSON.stringify(t,null,2)}

JOB DESCRIPTION:
${a}

SCORING CRITERIA (Total: 100 points, calculated from weighted sum of categories):

1. ATS Compatibility (15 points max):
    - 15 points: No tables, columns, or unusual fonts; Proper file structure (PDF or DOCX, not image); Bullet formatting is plain and consistent.
    - **Detailed checks:** Consistency in font sizes, bold/italic usage, date formats, spacing, and section alignment. Use of simple, ATS-friendly fonts (e.g., Arial, Times New Roman, Calibri). Checks for a single-column layout and avoidance of tables, images, or excessive graphical elements. Ensuring proper section headings (e.g., WORK EXPERIENCE, EDUCATION, SKILLS) for accurate parsing by ATS only words to give easy understand way.
    - 0-14 points: Deductions for each deviation from ATS best practices.

2. Keyword & Skill Match (20 points max):
    - 20 points: Excellent alignment of technical & soft skills from JD; All tools, technologies, and certifications are present and relevant; Strong use of role-specific verbs.
    - **Detailed checks:** Highlighting presence and absence of critical keywords and skills directly from the job description or industry standards. Recommending adding both hard and soft skills as explicitly required by the target job. Evaluate if the resume sufficiently demonstrates proficiency in listed skills only words to give easy understand way.
    - 0-19 points: Deductions based on missing keywords, irrelevant skills, or weak verb usage.

3. Project & Work Relevance (15 points max):
    - 15 points: All projects and work experience are highly aligned with JD; Quantified impact (e.g., "reduced time by 30%") is consistently present.
    - **Detailed checks:** Whether bullet points are accomplishment-oriented (focus on impact and results) instead of merely listing responsibilities. Consistent quantification of achievements with numbers, percentages, or metrics. Verification that experiences are in reverse chronological order and clearly dated only words to give easy understand way.
    - 0-14 points: Deductions for irrelevant projects/experience or lack of quantifiable achievements.

4. Structure & Flow (10 points max):
    - 10 points: Logical section order (Summary > Skills > Experience > Projects > Education/Certifications); No missing key sections; Excellent use of whitespace and consistent margins.
    - **Detailed checks:** Ensuring resumes are the proper length (e.g., 1 page for <10 years' experience, 2 pages for 10+). Highlighting the absence or misuse of photos, personal information (beyond contact), or outdated/unnecessary sections like "Objective" (unless for students/freshers), or "References available upon request." Analyzing each resume section (Work Experience, Education, Projects, Additional Info like Certifications, Languages) for completeness, clarity, and conciseness. Checking proper formatting of education details (degrees, school names, graduation year, GPA/CGPA if included), skills lists, languages, and professional memberships only words to give easy understand way.
    - 0-9 points: Deductions for illogical order, missing critical sections, or poor formatting.

5. Critical Fixes & Red Flags (10 points max):
    - 10 points: All essential contact info (email, LinkedIn, phone) is present and correctly formatted; No overused or repeated words; Consistent use of strong action verbs and no passive language; No grammatical errors or spelling issues.
    - **Detailed checks:** Flagging use of personal pronouns (e.g., "I", "my") which should be omitted. Discouraging vague adverbs (e.g., "very," "really"), buzzwords (e.g., "synergy," "paradigm shift"), and ambiguous language. Thoroughly checking for spelling, grammar, or typographical errors throughout the resume only words to give easy understand way .
    - 0-9 points: Deductions for each red flag identified.

6. **Impact Score (0-10 points):**
    - **Criteria:** Strong Action Verbs, Quantified Accomplishments, Achievement-Oriented Content, Measurable Results.
    - **Detailed checks:** How well does each bullet point demonstrate impact and value? Are strong action verbs used consistently to start accomplishments? Are results quantified with numbers, percentages, or other metrics wherever possible? Does the content clearly show *what* was achieved and *what was the outcome* only words to give easy understand way?
    - 0-10 points: Score based on the degree to which accomplishments are impactful and quantified.

7. **Brevity Score (0-10 points):**
    - **Criteria:** Conciseness, Word Economy, Avoiding Redundancy, Direct Language.
    - **Detailed checks:** Is there any unnecessary filler? Can sentences be shortened without losing meaning? Are there repeated phrases or information? Is the language direct and to the point, avoiding verbose explanations only words to give easy understand way?
    - 0-10 points: Score based on the resume's conciseness and efficiency of language.

8. **Style Score (0-10 points):**
    - **Criteria:** Professional Tone, Consistency in Formatting, Clarity of Language, Overall Polish.
    - **Detailed checks:** Does the resume maintain a professional and confident tone? Is formatting (e.g., bolding, bullet styles, capitalization) consistent throughout? Is the language clear, precise, and free of jargon (unless industry-standard)? Does the resume look polished and well-edited only words to give easy understand way ?
    - 0-10 points: Score based on the overall professional presentation and writing style.

9. **Skills Score (0-10 points):**
    - **Criteria:** Relevance to JD, Proficiency Indicated, Variety (Technical/Soft), Placement.
    - **Detailed checks:** How directly relevant are the listed skills to the job description? Is there any indication of proficiency level (e.g., "proficient in", "expert in")? Is there a good balance between technical and soft skills (if applicable to the role)? Are skills placed logically and easy to find only words to give easy understand way?
    - 0-10 points: Score based on the quality, relevance, and presentation of the skills section.



ANALYSIS REQUIREMENTS:
- Calculate exact scores for each category.
- Provide detailed breakdown and reasoning for each category's score within the 'details' field. This field MUST contain specific, actionable feedback relevant to the checks outlined for each category.
- Identify specific actionable recommendations for overall improvement in the 'recommendations' array, especially for scores below 70% in any *individual category* (not just totalScore). These recommendations should be concrete and directly related to the issues found.
- Assign a letter grade (A+ 95-100, A 90-94, B+ 85-89, B 80-84, C+ 75-79, C 70-74, D 60-69, F <60).

-section order summary education and work experience and  project and skill certifications any not this flow -10 points per section unders and miss section -20 if any section miss 

Respond ONLY with valid JSON in this exact structure:

{
  "totalScore": 0,
  "analysis": "2-3 sentence summary of overall match quality and main factors affecting the score",
  "keyStrengths": ["strength1", "strength2", "strength3"],
  "improvementAreas": ["area1", "area2", "area3"],
  "breakdown": {
    "atsCompatibility": {
      "score": 0,
      "maxScore": 14,
      "details": "Concise explanation (max 10 words) of ATS compatibility scoring based on consistency in font sizes, date formats, single-column layout, avoidance of tables/images, and proper section headings. Example: 'Resume uses two different font sizes (11pt and 12pt) and a two-column layout which might confuse ATS.'",
      "noTablesColumnsFonts": true,
      "properFileStructure": true,
      "consistentBulletFormatting": true
    },
    "keywordSkillMatch": {
      "score": 0,
      "maxScore": 18,
      "details": "Concise explanation (max 10 words) of keyword and skill match scoring, highlighting missing keywords from JD and relevance of listed skills. Example: 'Missing keywords like 'React Native' and 'AWS' from the job description. Consider integrating these skills into your projects or work experience.'",
      "technicalSoftSkillsAligned": true,
      "toolsTechCertsPresent": true,
      "roleSpecificVerbsUsed": true
    },
    "projectWorkRelevance": {
      "score": 0,
      "maxScore": 14,
      "details": "Concise explanation (max 10 words) of project and work relevance, focusing on accomplishment-oriented bullets and quantified impact. Example: 'Several bullet points describe responsibilities rather than achievements. Rewrite 'Responsible for managing social media' to 'Increased social media engagement by 25% through strategic content planning.'",
      "projectsAlignedWithJD": true,
      "quantifiedImpact": true
    },
    "structureFlow": {
      "score": 0,
      "maxScore": 9,
      "details": "Concise explanation (max 10 words) of structure and flow, including resume length, presence of unnecessary sections, and section completeness. Example: 'Resume is 3 pages long; condense relevant experience to fit within 2 pages as per industry standard for your experience level. Consider removing the 'References' section.'",
      "logicalSectionOrder": true,
      "noMissingSections": true,
      "goodWhitespaceMargins": true
    },
    "criticalFixesRedFlags": {
      "score": 0,
      "maxScore": 9,
      "details": "Concise explanation (max 10 words) of critical fixes and red flags, such as pronouns, buzzwords, and grammar. Example: 'Avoid using personal pronouns like 'I' and 'my'. Correct the spelling error in 'managment' to 'management'.' ",
      "hasContactInfo": true,
      "noOverusedWords": true,
      "usesActionVerbs": true,
      "noGrammarSpellingErrors": true
    },
    "impactScore": {
      "score": 0,
      "maxScore": 9,
      "details": "Concise explanation (max 10 words) of impact score, focusing on strong action verbs, quantified accomplishments, and achievement-oriented content. Example: 'Many bullet points lack quantifiable results. For instance, instead of 'Managed a team', state 'Managed a team of 5 engineers, leading to a 15% increase in project delivery speed.'",
      "strongActionVerbs": true,
      "quantifiedAccomplishments": true,
      "achievementOrientedContent": true,
      "measurableResults": true
    },
    "brevityScore": {
      "score": 0,
      "maxScore": 9,
      "details": "Concise explanation (max 10 words) of brevity score, focusing on conciseness, word economy, and avoiding redundancy. Example: 'The resume contains redundant phrases such as 'responsible for' and 'duties included'. Streamline sentences for greater impact.'",
      "conciseness": true,
      "wordEconomy": true,
      "avoidingRedundancy": true,
      "directLanguage": true
    },
    "styleScore": {
      "score": 0,
      "maxScore": 9,
      "details": "Concise explanation (max 10 words) of style score, focusing on professional tone, formatting consistency, and clarity of language. Example: 'Inconsistent use of bolding for job titles and company names. Maintain a consistent formatting style throughout the document.'",
      "consistencyInFormatting": true,
      "clarityOfLanguage": true,
      "overallPolish": true
    },
    "skillsScore": {
      "score": 0,
      "maxScore": 9,
      "details": "Concise explanation (max 10 words) of skills score, focusing on relevance to JD, proficiency indication, and variety. Example: 'Skills section lists many generic tools. Prioritize skills directly mentioned in the job description and consider adding a proficiency level for key technical skills.'",
      "relevanceToJD": true,
      "proficiencyIndicated": true,
      "varietyTechnicalSoft": true,
      "placement": true
    }
  },
  "recommendations": ["recommendation1", "recommendation2", "recommendation3"],
  "grade": "A+"
}`;try{s(!0);const l=await G.generateTextWithRetry(r,{temperature:.3,maxTokens:4e3});return G.parseJSONResponse(l)}catch(l){throw console.error("Error calling EdenAI for detailed scoring:",l),new Error("Failed to calculate detailed resume score. Please try again.")}finally{s(!1)}},ds=t=>{const a=[];return a.push(`Name: ${t.name}`),t.phone&&a.push(`Phone: ${t.phone}`),t.email&&a.push(`Email: ${t.email}`),t.linkedin&&a.push(`LinkedIn: ${t.linkedin}`),t.github&&a.push(`GitHub: ${t.github}`),t.summary&&a.push(`
PROFESSIONAL SUMMARY:
${t.summary}`),t.workExperience&&t.workExperience.length>0&&(a.push(`
WORK EXPERIENCE:`),t.workExperience.forEach(s=>{a.push(`${s.role} at ${s.company} (${s.year})`),s.bullets&&s.bullets.forEach(r=>a.push(`â€¢ ${r}`))})),t.education&&t.education.length>0&&(a.push(`
EDUCATION:`),t.education.forEach(s=>{a.push(`${s.degree} from ${s.school} (${s.year})`)})),t.projects&&t.projects.length>0&&(a.push(`
PROJECTS:`),t.projects.forEach(s=>{a.push(`${s.title}`),s.bullets&&s.bullets.forEach(r=>a.push(`â€¢ ${r}`))})),t.skills&&t.skills.length>0&&(a.push(`
SKILLS:`),t.skills.forEach(s=>{a.push(`${s.category}: ${s.list?s.list.join(", "):""}`)})),t.certifications&&t.certifications.length>0&&(a.push(`
CERTIFICATIONS:`),t.certifications.forEach(s=>{const r=typeof s=="string"?s:s.title||s.name||"";r&&a.push(`â€¢ ${r}`)})),t.achievements&&t.achievements.length>0&&(a.push(`
ACHIEVEMENTS:`),t.achievements.forEach(s=>a.push(`â€¢ ${s}`))),t.extraCurricularActivities&&t.extraCurricularActivities.length>0&&(a.push(`
EXTRA-CURRICULAR ACTIVITIES:`),t.extraCurricularActivities.forEach(s=>a.push(`â€¢ ${s}`))),t.languagesKnown&&t.languagesKnown.length>0&&(a.push(`
LANGUAGES KNOWN:`),a.push(t.languagesKnown.join(", "))),t.personalDetails&&a.push(`
PERSONAL DETAILS:
${t.personalDetails}`),a.join(`
`)},ms=t=>{const a=t.trim().split(/\s+/).length,s=/skills|technical|programming|software/i.test(t),r=/experience|work|employment|job/i.test(t),l=/education|degree|university|college/i.test(t),u=(t.match(/[â€¢\-\*]\s/g)||[]).length;let n=20;return a>=300?n+=15:a>=150?n+=10:a>=50&&(n+=5),s&&(n+=10),r&&(n+=10),l&&(n+=5),u>=5?n+=10:u>=2&&(n+=5),n=Math.min(65,Math.max(15,n)),{score:n,analysis:"The resume shows basic qualifications but lacks optimization for ATS systems and keyword alignment. Several key areas need improvement to increase competitiveness.",keyStrengths:["Relevant educational background","Some technical skills mentioned","Basic work experience listed"],improvementAreas:[]}},hs=async(t,a)=>{const s=await Bt(t,a,()=>{});let r=s.totalScore,l=[...s.improvementAreas];if(r=Mt(r,t),t.origin!=="guided"&&t.origin!=="jd_optimized"){const u=Object.entries(s.breakdown).filter(([,n])=>n.score<n.maxScore*.5).map(([n])=>`Major gaps in ${n}`);l=[...l,...u]}return{score:r,analysis:s.analysis,keyStrengths:s.keyStrengths,improvementAreas:l}};export{os as M,ls as P,Wt as a,is as b,cs as c,Bt as d,Ut as e,hs as f,ms as g,ds as r};
