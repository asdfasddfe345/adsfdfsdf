import{j as e,m as W}from"./vendor-motion-_XdJ9pBm.js";import{r as s,R as rt,u as at}from"./vendor-react-B4msnGgW.js";import{u as He,L as Ye,a as $e,F as Qe,B as pe,h as nt,n as be,e as Le,S as ae,i as ve,C as it,A as lt,g as ot,V as dt,s as Ce,k as ct}from"./index-BbSeE-q4.js";import{a as Re}from"./resumeAnalysisService-CK8PLPdm.js";import{P as Oe,T as xt,D as fe,u as ut,a as mt,s as q,i as je,h as gt,t as D,b as R,S as ht,V as Ue,c as pt,M as bt,d as ft,e as jt,I as yt}from"./InterviewSummaryReport-DvnPzzAF.js";import{U as ye}from"./upload-CurydzNZ.js";import{B as We}from"./building-2-B7dH_DvY.js";import{u as vt}from"./useSEO-DCRvpjAE.js";import"./vendor-pdf-B1igRwBP.js";import"./vendor-supabase-B_87WqdG.js";import"./vendor-forms-BxTF4-4_.js";import"./index-4HxsnF8w.js";import"./geminiServiceWrapper-tvm4MzT7.js";import"./edenAITextService-y6w1oEiu.js";import"./aiProxyService-HwcJnoDm.js";import"./play-BW95sg1B.js";import"./pause-C7_k2ztz.js";import"./trophy-D8agcnr9.js";import"./lightbulb-ZFvDqHVp.js";import"./rotate-ccw-BQdMKeUh.js";const wt=({onConfigComplete:h,onBack:z})=>{const{user:j}=He(),[i,N]=s.useState(0),[M,l]=s.useState(null),[n,d]=s.useState(null),[V,p]=s.useState(!1),[B,x]=s.useState(null),[c,$]=s.useState(""),[F,S]=s.useState(""),[b,H]=s.useState(15),[f,E]=s.useState(""),[y,Y]=s.useState("general"),[P,ne]=s.useState(""),u=Oe.find(r=>r.name===P),K=async r=>{var se,Q,ue;const o=(se=r.target.files)==null?void 0:se[0];if(!o)return;const xe=((ue=(Q=Re.resumeParsingService)==null?void 0:Q.validateFile)==null?void 0:ue.call(Q,o))||{valid:o.size<=5242880,error:o.size>5242880?"File too large":void 0};if(!xe.valid){x(xe.error||"Invalid file");return}l(o),x(null)},ie=async()=>{if(!(!M||!j)){p(!0),x(null);try{const r=await Re.uploadAndAnalyzeResume(M,j.id);d(r);const o=await Re.waitForAnalysis(r.id,15);d(o)}catch(r){console.error("Resume upload error:",r),x(r.message||"Failed to upload resume")}finally{p(!1)}}},le=()=>{l(null),d(null),x(null)},oe=()=>{if(!n||!c){alert("Please complete all required steps");return}h({sessionType:y,interviewCategory:c,companyName:y==="company-based"?P:void 0,targetRole:f||void 0,domain:c==="technical"?F:void 0,durationMinutes:b},n)},v=[{id:"resume",title:"Upload Resume",icon:e.jsx(ye,{className:"w-6 h-6"}),component:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200 dark:bg-dark-200 dark:border-dark-300",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2 flex items-center",children:[e.jsx(ye,{className:"w-6 h-6 mr-3 text-blue-600 dark:text-blue-400"}),"Step 1: Upload Your Resume"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload your resume to get personalized interview questions based on your skills and experience."})]}),n?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-6 border-2 border-green-500 dark:border-green-600",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(Qe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-gray-100 text-lg",children:n.file_name}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:n.analysis_completed?"âœ“ Analysis Complete":"â³ Analyzing..."})]})]}),e.jsx("button",{onClick:le,className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium",children:"Remove"})]}),n.analysis_completed&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-300 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Experience Level"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:n.experience_level||"N/A"})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-300 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Skills Detected"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:n.skills_detected.length})]})]}),n.skills_detected.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Top Skills:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills_detected.slice(0,8).map((r,o)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium",children:r},o))})]})]})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:e.jsxs("label",{className:"cursor-pointer block",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(ye,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:M?M.name:"Click to upload your resume"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Supported formats: PDF, DOCX (max 5MB)"})]}),e.jsx("input",{type:"file",accept:".pdf,.docx,.doc",onChange:K,className:"hidden"})]})}),M&&e.jsx("button",{onClick:ie,disabled:V,className:"w-full btn-primary py-4 text-lg font-semibold flex items-center justify-center gap-3",children:V?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-5 h-5 animate-spin"}),"Analyzing Resume..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-5 h-5"}),"Upload & Analyze Resume"]})}),B&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:B})]})}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"ðŸ“Œ Why upload your resume?"}),e.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[e.jsx("li",{children:"â€¢ Get questions tailored to your experience level"}),e.jsx("li",{children:"â€¢ Practice with skills from your actual resume"}),e.jsx("li",{children:"â€¢ Receive personalized feedback on your answers"}),e.jsx("li",{children:"â€¢ Better preparation for real interviews"})]})]})]})]}),isValid:n!==null&&n.analysis_completed===!0},{id:"category",title:"Interview Category",icon:e.jsx(pe,{className:"w-6 h-6"}),component:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200 dark:bg-dark-200 dark:border-dark-300",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2 flex items-center",children:[e.jsx(pe,{className:"w-6 h-6 mr-3 text-green-600 dark:text-green-400"}),"Step 2: Choose Interview Category"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Select the type of interview you want to practice."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsx("button",{onClick:()=>$("technical"),className:`p-6 rounded-xl border-2 transition-all ${c==="technical"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400 shadow-lg":"border-gray-200 dark:border-dark-300 hover:border-blue-300 dark:hover:border-blue-600"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-16 h-16 rounded-full mx-auto mb-3 flex items-center justify-center ${c==="technical"?"bg-blue-500":"bg-gray-200 dark:bg-dark-400"}`,children:e.jsx(pe,{className:`w-8 h-8 ${c==="technical"?"text-white":"text-gray-500"}`})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Technical Interview"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Coding, algorithms, system design, and technical concepts"})]})}),e.jsx("button",{onClick:()=>$("hr"),className:`p-6 rounded-xl border-2 transition-all ${c==="hr"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 dark:border-purple-400 shadow-lg":"border-gray-200 dark:border-dark-300 hover:border-purple-300 dark:hover:border-purple-600"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-16 h-16 rounded-full mx-auto mb-3 flex items-center justify-center ${c==="hr"?"bg-purple-500":"bg-gray-200 dark:bg-dark-400"}`,children:e.jsx(nt,{className:`w-8 h-8 ${c==="hr"?"text-white":"text-gray-500"}`})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:"HR Interview"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Behavioral questions, soft skills, and cultural fit"})]})})]}),c==="technical"&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-700",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Technical Domain (Optional)"}),e.jsxs("select",{value:F,onChange:r=>S(r.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-dark-400 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-dark-300 dark:text-gray-100",children:[e.jsx("option",{value:"",children:"All Domains"}),xt.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),n&&n.skills_detected.length>0&&e.jsxs("div",{className:"mt-4 bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-700",children:[e.jsxs("p",{className:"text-sm font-medium text-green-900 dark:text-green-100 mb-2",children:["ðŸ’¡ Based on your resume skills: ",n.skills_detected.slice(0,3).join(", ")]}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"We'll tailor questions to match your experience level and skills."})]})]}),isValid:c!==""},{id:"preferences",title:"Duration & Preferences",icon:e.jsx(be,{className:"w-6 h-6"}),component:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200 dark:bg-dark-200 dark:border-dark-300",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2 flex items-center",children:[e.jsx(be,{className:"w-6 h-6 mr-3 text-purple-600 dark:text-purple-400"}),"Step 3: Set Duration & Preferences"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Configure your interview settings."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3",children:[e.jsx(be,{className:"inline w-4 h-4 mr-2"}),"Interview Duration: ",b," minutes"]}),e.jsx("input",{type:"range",min:fe[0],max:fe[fe.length-1],step:5,value:b,onChange:r=>H(parseInt(r.target.value)),className:"w-full h-3 bg-gray-200 dark:bg-dark-400 rounded-lg appearance-none cursor-pointer accent-purple-500"}),e.jsx("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-2",children:fe.map(r=>e.jsxs("span",{children:[r,"m"]},r))}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["â‰ˆ ",Math.ceil(b/3)," questions"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3",children:[e.jsx(Le,{className:"inline w-4 h-4 mr-2"}),"Target Role (Optional)"]}),e.jsx("input",{type:"text",value:f,onChange:r=>E(r.target.value),placeholder:"e.g., Software Engineer, Product Manager",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-dark-400 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-dark-300 dark:text-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Interview Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{type:"button",onClick:()=>Y("general"),className:`p-4 rounded-lg border-2 transition-all ${y==="general"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-dark-400"}`,children:e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"General"})}),e.jsx("button",{type:"button",onClick:()=>Y("company-based"),className:`p-4 rounded-lg border-2 transition-all ${y==="company-based"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-dark-400"}`,children:e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Company-Based"})})]})]}),y==="company-based"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3",children:[e.jsx(We,{className:"inline w-4 h-4 mr-2"}),"Select Company"]}),e.jsxs("select",{value:P,onChange:r=>ne(r.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-dark-400 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-dark-300 dark:text-gray-100",children:[e.jsx("option",{value:"",children:"Choose a company..."}),Oe.map(r=>e.jsx("option",{value:r.name,children:r.name},r.name))]})]}),u&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Select Role"}),e.jsxs("select",{value:f,onChange:r=>E(r.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-dark-400 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-dark-300 dark:text-gray-100",children:[e.jsx("option",{value:"",children:"Choose a role..."}),u.roles.map(r=>e.jsx("option",{value:r,children:r},r))]})]})]})]})]}),isValid:b>=10&&b<=30},{id:"review",title:"Review & Start",icon:e.jsx(ae,{className:"w-6 h-6"}),component:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200 dark:bg-dark-200 dark:border-dark-300",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2 flex items-center",children:[e.jsx(ae,{className:"w-6 h-6 mr-3 text-orange-600 dark:text-orange-400"}),"Step 4: Review & Confirm"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Review your interview configuration and start when ready."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Interview Summary"}),e.jsxs("div",{className:"space-y-3",children:[n&&e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-dark-300 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Resume"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.file_name})]})]}),e.jsx("button",{onClick:()=>N(0),className:"text-blue-600 dark:text-blue-400 text-sm hover:underline",children:"Edit"})]}),e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-dark-300 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Category"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:[c," ",F&&`- ${F}`]})]})]}),e.jsx("button",{onClick:()=>N(1),className:"text-blue-600 dark:text-blue-400 text-sm hover:underline",children:"Edit"})]}),e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-dark-300 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(be,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Duration"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[b," minutes"]})]})]}),e.jsx("button",{onClick:()=>N(2),className:"text-blue-600 dark:text-blue-400 text-sm hover:underline",children:"Edit"})]}),f&&e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-dark-300 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Le,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Target Role"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f})]})]}),e.jsx("button",{onClick:()=>N(2),className:"text-blue-600 dark:text-blue-400 text-sm hover:underline",children:"Edit"})]}),P&&e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-dark-300 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(We,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Company"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:P})]})]}),e.jsx("button",{onClick:()=>N(2),className:"text-blue-600 dark:text-blue-400 text-sm hover:underline",children:"Edit"})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-yellow-900 dark:text-yellow-100 mb-2 flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5"}),"Important Guidelines"]}),e.jsxs("ul",{className:"text-sm text-yellow-800 dark:text-yellow-200 space-y-1",children:[e.jsx("li",{children:"â€¢ The interview will run in full-screen mode"}),e.jsx("li",{children:"â€¢ Do not switch tabs or minimize the window"}),e.jsx("li",{children:"â€¢ Your camera and microphone will be used"}),e.jsx("li",{children:"â€¢ Security violations will be tracked"}),e.jsx("li",{children:"â€¢ Answers auto-submit after 5 seconds of silence"})]})]}),e.jsxs("button",{onClick:oe,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-3",children:[e.jsx(ae,{className:"w-6 h-6"}),e.jsx("span",{children:"Start Interview"})]})]})]}),isValid:!0}],I=v[i],we=()=>{i<v.length-1&&I.isValid&&N(i+1)},G=()=>{i>0&&N(i-1)},de=96+16,ee=3,te=-(Math.max(0,v.length-ee)*de);let T=0;const ce=Math.floor(ee/2);return i>ce&&(T=-(i-ce)*de),T=Math.max(te,T),T=Math.min(0,T),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-dark-100 dark:via-dark-50 dark:to-dark-100",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs("button",{onClick:z,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200 mb-8 transition-colors",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Back"})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-200 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-dark-300 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Mock Interview Setup"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Step ",i+1," of ",v.length]})]}),e.jsx("div",{className:"relative overflow-x-auto overflow-hidden w-[320px] mx-auto md:w-auto",children:e.jsx("div",{className:"flex items-center space-x-4 mb-6 transition-transform duration-300",style:{transform:`translateX(${T}px)`},children:v.map((r,o)=>e.jsxs(rt.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center w-24 flex-shrink-0",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 ${o<i?"bg-green-500 text-white":o===i?"bg-blue-500 text-white":"bg-gray-200 text-gray-500 dark:bg-dark-400 dark:text-gray-400"}`,children:o<i?e.jsx(it,{className:"w-6 h-6"}):r.icon}),e.jsx("span",{className:`text-xs mt-2 font-medium text-center ${o<=i?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400"}`,children:r.title})]}),o<v.length-1&&e.jsx("div",{className:`flex-1 h-1 rounded-full transition-all duration-300 ${o<i?"bg-green-500":"bg-gray-200 dark:bg-dark-400"}`})]},r.id))})}),e.jsx("div",{className:"text-center mb-4",children:e.jsx("div",{className:"w-full bg-gray-200 dark:bg-dark-400 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${(i+1)/v.length*100}%`}})})})]}),e.jsx("div",{className:"mb-6",children:I.component}),i<v.length-1&&e.jsx("div",{className:"bg-white dark:bg-dark-200 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-dark-300",children:e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsxs("button",{onClick:G,disabled:i===0,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${i===0?"bg-gray-200 text-gray-400 cursor-not-allowed dark:bg-dark-400":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Previous"})]}),e.jsxs("button",{onClick:we,disabled:!I.isValid,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${I.isValid?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-200 text-gray-400 cursor-not-allowed dark:bg-dark-400"}`,children:[e.jsx("span",{children:"Next"}),e.jsx(lt,{className:"w-5 h-5"})]})]})}),i===v.length-1&&e.jsx("div",{className:"bg-white dark:bg-dark-200 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-dark-300",children:e.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-6 py-3 rounded-lg font-semibold bg-gray-600 hover:bg-gray-700 text-white transition-all",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Previous"})]})})]})})},kt=({config:h,userId:z,userName:j,resume:i,onInterviewComplete:N,onBack:M})=>{const[l,n]=s.useState("loading"),[d,V]=s.useState(null),[p,B]=s.useState([]),[x,c]=s.useState(0),[$,F]=s.useState(h.durationMinutes*60),[S,b]=s.useState(!1),[H,f]=s.useState(""),[E,y]=s.useState(!1),[Y,P]=s.useState(!1),[ne,u]=s.useState("Initializing interview..."),[K,ie]=s.useState(!1),[le,oe]=s.useState(""),[v,I]=s.useState(!1),[we,G]=s.useState(""),[Z,Te]=s.useState(0),[de,ee]=s.useState(!1),[te,T]=s.useState(!1),[ce,r]=s.useState(!1),[o,xe]=s.useState(!0),[se,Q]=s.useState(!1),[ue,_e]=s.useState(0),[Ge,Ae]=s.useState(0),_=s.useRef(null),Me=s.useRef([]),C=s.useRef(null),m=s.useRef(null),Fe=s.useRef(0),L=s.useRef(null),w=s.useRef(null),ke=s.useRef(!1),X=s.useRef(!1),A=s.useRef(null),J=s.useRef(null),O=ut({onFullScreenExit:()=>{G("âš ï¸ You exited full-screen mode. Please return to full-screen to continue."),I(!0),Ae(t=>t+1),ge()},onViolation:t=>{console.log("Full-screen violation:",t)}}),me=mt({onTabSwitch:()=>{G("âš ï¸ You switched tabs. Please stay on this page during the interview."),I(!0),Ae(t=>t+1),ge()},onWindowBlur:()=>{G("âš ï¸ You switched to another application. Please stay focused on the interview."),I(!0),ge()},onViolation:(t,a)=>{console.log(`Violation: ${t}, Duration: ${a}s`)}}),g=p[x];s.useEffect(()=>(Xe(),()=>{ze()}),[]),s.useEffect(()=>(l==="listening"&&!S?w.current=setInterval(()=>{if(q.isInitialized()){const t=q.getCurrentSilenceDuration();t>0&&ee(!1);const a=Math.max(0,5-t);Te(a),a===0&&!ke.current&&(ke.current=!0,Ze())}},100):w.current&&(clearInterval(w.current),w.current=null),()=>{w.current&&clearInterval(w.current)}),[l,S,se,ue]),s.useEffect(()=>{(async()=>{if(m.current&&C.current){m.current.srcObject!==C.current&&(m.current.srcObject=C.current);try{m.current.readyState>=2?await m.current.play():(await new Promise(a=>{if(!m.current)return a();m.current.onloadedmetadata=()=>a()}),m.current&&await m.current.play())}catch(a){console.error("Error ensuring video playback:",a)}}})()},[l]),s.useEffect(()=>(!S&&l==="listening"?L.current=setInterval(()=>{F(t=>t<=1?(Se(),0):t-1)},1e3):L.current&&clearInterval(L.current),()=>{L.current&&clearInterval(L.current)}),[S,l]);const Xe=async()=>{try{u("Setting up interview session...");const t=await je.createSession(h,z,i);V(t),u("Analyzing your resume and selecting personalized questions...");const a=await gt.selectQuestionsForInterview(h,i,10);if(a.length===0)throw new Error("No questions available for this configuration");B(a),u("Requesting camera and microphone access..."),await Je(),n("ready"),u("Ready to start interview")}catch(t){console.error("Error initializing interview:",t),alert(`Failed to initialize interview: ${t.message}`),M()}},Je=async()=>{try{const t=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});if(C.current=t,P(!0),m.current){m.current.srcObject=t,await new Promise(a=>{m.current&&(m.current.onloadedmetadata=()=>{a()})}),await new Promise(a=>setTimeout(a,100));try{await m.current.play(),console.log("Video playback started successfully")}catch(a){console.error("Error playing video:",a)}}}catch(t){console.error("Error accessing media devices:",t),P(!1),alert("Camera/microphone access denied. You can continue, but your responses will not be recorded.")}},Ke=async()=>{if(await O.requestFullScreen(),n("question"),u(`Question ${x+1} of ${p.length}`),f(""),g&&D.isSupported())try{await D.speak(g.question_text,(t,a)=>{ie(a),oe(a?t:"")},{rate:.9,pitch:1})}catch(t){console.error("Error with text-to-speech:",t)}A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{X.current||Ee()},500)},Ee=async()=>{if(!X.current){if(n("listening"),u("Listening to your answer..."),Fe.current=Date.now(),Y&&C.current)try{Me.current=[];const t={mimeType:"video/webm;codecs=vp8,opus"};MediaRecorder.isTypeSupported(t.mimeType)||(t.mimeType="video/webm");const a=new MediaRecorder(C.current,t);a.ondataavailable=k=>{k.data.size>0&&Me.current.push(k.data)},a.start(1e3),_.current=a,y(!0)}catch(t){console.error("Error starting media recorder:",t)}if(R.isSupported())try{await R.startListening(t=>f(t),t=>f(t),t=>console.error("Speech recognition error:",t))}catch(t){console.error("Failed to start speech recognition:",t)}if(C.current)try{await q.initialize(C.current,{silenceThreshold:5e3,adaptive:!0,calibrationMs:1e3,minSpeechMs:250,hangoverMs:300,rmsMultiplier:2.8,absoluteRmsFloor:.035}),q.start(t=>{console.log("Silence detected for",t,"seconds")},()=>{ee(!0),se||Q(!0),_e(t=>t+.1)})}catch(t){console.error("Failed to start silence detection:",t)}ke.current=!1,r(!1),Q(!1),_e(0)}},Pe=async(t=!1)=>{const a=Math.floor((Date.now()-Fe.current)/1e3),k=t?q.getCurrentSilenceDuration():0;_.current&&_.current.state!=="inactive"&&(_.current.stop(),y(!1)),R.isSupported()&&R.stopListening(),q.stop(),w.current&&(clearInterval(w.current),w.current=null),n("processing"),u(t?"Auto-submitting your answer...":"Processing your answer..."),await tt(a,t,k)},Ze=async()=>{r(!0),await Pe(!0)},et=async()=>{if(!te){if(T(!0),u("Skipping question..."),_.current&&_.current.state!=="inactive"&&(_.current.stop(),y(!1)),R.isSupported()&&R.stopListening(),q.stop(),d&&g)try{const{data:t}=await Ce.from("mock_interview_sessions").select("skipped_questions, skip_count").eq("id",d.id).maybeSingle(),a=(t==null?void 0:t.skipped_questions)||[],k=((t==null?void 0:t.skip_count)||0)+1;await Ce.from("mock_interview_sessions").update({skipped_questions:[...a,g.id],skip_count:k}).eq("id",d.id),await je.saveResponse(d.id,g.id,x+1,{userAnswerText:"[Question Skipped]",audioTranscript:"[Question Skipped]",aiFeedback:{score:0,feedback:"Question was skipped by the user.",strengths:[],improvements:[],tone_confidence_rating:"N/A"},individualScore:0,responseDuration:0})}catch(t){console.error("Error saving skipped question:",t)}setTimeout(()=>{T(!1),Ne()},1e3)}},tt=async(t,a=!1,k=0)=>{try{if(!d||!g)return;const re=H||"No answer provided";u("Analyzing your answer with AI...");const he=await jt.analyzeAnswer(g.question_text,re,g.category,g.difficulty);u("Saving your response...");const U={userAnswerText:re,audioTranscript:re,aiFeedback:he,individualScore:he.score,toneRating:he.tone_confidence_rating,confidenceRating:he.score,responseDuration:t},{data:Nt,error:Be}=await Ce.from("interview_responses").insert({session_id:d.id,question_id:g.id,question_order:x+1,user_answer_text:U.userAnswerText,audio_transcript:U.audioTranscript,ai_feedback_json:U.aiFeedback,individual_score:U.individualScore,tone_rating:U.toneRating,confidence_rating:U.confidenceRating,response_duration_seconds:U.responseDuration,auto_submitted:a,silence_duration:k}).select().single();Be&&console.error("Error saving response:",Be),n("feedback"),u("Feedback generated"),J.current&&clearTimeout(J.current),J.current=setTimeout(()=>{X.current||Ne()},1200)}catch(re){console.error("Error processing answer:",re),alert("Failed to process answer. Moving to next question."),Ne()}},Ne=async()=>{if(!X.current)if(R.reset(),f(""),x+1<p.length){c(a=>a+1),n("question");const t=p[x+1];if(t&&D.isSupported())try{await D.speak(t.question_text,(a,k)=>{ie(k),oe(k?a:"")},{rate:.9,pitch:1})}catch(a){console.error("Error with text-to-speech:",a)}A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{X.current||Ee()},500)}else qe()},qe=async()=>{if(n("completed"),u("Completing interview..."),d){const t=h.durationMinutes*60-$,a=await je.calculateOverallScore(d.id);await je.updateSessionWithSecurity(d.id,"completed",a,t,{tabSwitchCount:me.tabSwitchCount,fullScreenExits:O.violations,totalViolationTime:me.totalTimeAway,violationsLog:me.violations}),O.exitFullScreen(),N(d.id)}},ge=()=>{b(!0),l==="listening"&&R.isSupported()&&R.stopListening(),D.pause()},De=()=>{b(!1),I(!1),D.resume(),O.isFullScreen||O.requestFullScreen()},st=()=>{S?De():ge()},Se=async()=>{window.confirm("End interview now and view your report? Your progress so far will be analyzed.")&&(X.current=!0,ze(),await qe())},ze=()=>{_.current&&_.current.stop(),C.current&&C.current.getTracks().forEach(t=>t.stop()),L.current&&clearInterval(L.current),w.current&&clearInterval(w.current),A.current&&(clearTimeout(A.current),A.current=null),J.current&&(clearTimeout(J.current),J.current=null),q.cleanup(),D.stop(),R.reset()},Ve=Ge;return l==="loading"?e.jsx("div",{className:"min-h-screen bg-dark-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-300 text-lg",children:ne})]})}):l==="ready"?e.jsx("div",{className:"min-h-screen bg-dark-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-dark-200 rounded-2xl p-8 max-w-2xl w-full text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-100 mb-4",children:"Ready to Start?"}),e.jsxs("p",{className:"text-gray-400 mb-6",children:["You will answer ",p.length," questions in ",h.durationMinutes," minutes. Take your time and speak clearly."]}),e.jsxs("div",{className:"bg-dark-300 rounded-lg p-4 mb-6 space-y-2",children:[e.jsx("p",{className:"text-gray-300 text-sm",children:Y?"âœ“ Camera and microphone are ready":"âš  Media devices not available"}),e.jsx("p",{className:"text-gray-300 text-sm",children:D.isSupported()?"âœ“ AI voice enabled":"âš  Text-to-speech not available"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"âœ“ Full-screen security mode will be enabled"})]}),e.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-700 rounded-lg p-4 mb-6 text-left",children:[e.jsx("h3",{className:"text-yellow-400 font-semibold mb-2",children:"âš ï¸ Important Guidelines:"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"â€¢ The interview will run in full-screen mode"}),e.jsx("li",{children:"â€¢ Do not switch tabs or minimize the window"}),e.jsx("li",{children:"â€¢ Do not open other applications"}),e.jsx("li",{children:"â€¢ Violations will be tracked and reported"}),e.jsx("li",{children:"â€¢ Answers auto-submit after 5 seconds of silence"})]})]}),e.jsx("button",{onClick:Ke,className:"btn-primary px-8 py-4 text-lg",children:"Start Interview"})]})}):e.jsxs("div",{className:"min-h-screen bg-dark-100 flex flex-col",children:[v&&e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-dark-200 rounded-2xl p-8 max-w-md w-full border-2 border-red-500",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ot,{className:"w-8 h-8 text-red-500"}),e.jsx("h3",{className:"text-xl font-bold text-red-400",children:"Interview Paused"})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:we}),e.jsxs("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-4 mb-6",children:[e.jsxs("p",{className:"text-red-300 text-sm",children:[e.jsx("strong",{children:"Violations Detected:"})," ",Ve]}),e.jsxs("p",{className:"text-red-300 text-sm mt-1",children:[e.jsx("strong",{children:"Time Away:"})," ",me.totalTimeAway,"s"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx("button",{onClick:De,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors",children:"Return to Interview"}),e.jsx("button",{onClick:Se,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-lg transition-colors",children:"End Interview & View Report"})]})]})}),e.jsx(ht,{userName:j,timeRemaining:$,currentQuestionIndex:x,totalQuestions:p.length,isPaused:S,totalViolations:Ve,isFullScreen:O.isFullScreen,onPause:st,onEnd:Se,onEnterFullScreen:O.requestFullScreen}),e.jsx("div",{className:"flex-1 mt-20 pt-8 pb-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid md:grid-cols-[300px_1fr_350px] gap-6 h-full",children:[e.jsx("div",{className:"bg-dark-200 rounded-xl p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-32 h-32 rounded-full mx-auto mb-4 flex items-center justify-center transition-all ${K?"bg-gradient-to-br from-blue-500 to-purple-600 animate-pulse":"bg-gradient-to-br from-blue-500/50 to-purple-600/50"}`,children:e.jsx("span",{className:"text-4xl",children:"ðŸ¤–"})}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"AI Interviewer"}),K&&e.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-400",children:[e.jsx(Ue,{className:"w-4 h-4 animate-pulse"}),e.jsx("span",{className:"text-xs",children:"Speaking..."})]})]})}),e.jsx("div",{className:"bg-dark-200 rounded-xl p-8 flex flex-col justify-center",children:g&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-blue-400 mb-4",children:[g.category," â€¢ ",g.difficulty]}),e.jsx("h3",{className:"text-3xl font-bold text-gray-100 mb-6 leading-relaxed",children:g.question_text}),K&&le&&e.jsxs("div",{className:"bg-blue-900/20 border border-blue-700 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-blue-400 text-sm",children:"AI is speaking:"})]}),e.jsx("p",{className:"text-gray-300 text-sm italic",children:le})]}),l==="listening"&&e.jsxs("div",{className:"space-y-4",children:[o&&e.jsx("div",{className:"bg-blue-900/20 border border-blue-700 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"text-blue-300 text-sm flex-1",children:[e.jsx("strong",{className:"text-blue-200 text-base",children:"ðŸ“Œ Auto-Submit Info:"}),e.jsxs("p",{className:"mt-1",children:["Your answer will automatically submit after ",e.jsx("strong",{children:"5 seconds"})," of silence."]})]}),e.jsx("button",{onClick:()=>xe(!1),className:"text-blue-400 hover:text-blue-300 text-lg font-bold leading-none",children:"âœ•"})]})}),e.jsx("div",{className:"bg-dark-300 rounded-lg p-4 min-h-[100px] max-h-[200px] overflow-y-auto",children:e.jsx("p",{className:"text-gray-300 text-sm",children:H||"Start speaking..."})}),Z<=5&&Z>0&&e.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-700 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-yellow-400 text-sm",children:"Auto-submitting in:"}),e.jsxs("span",{className:"text-yellow-400 font-mono font-bold text-lg",children:[Z,"s"]})]}),e.jsx("div",{className:"mt-2 w-full bg-dark-400 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-yellow-400 h-full transition-all duration-1000",style:{width:`${Z/5*100}%`}})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Pe(!1),className:"flex-1 btn-primary py-3",disabled:ce,children:"Submit Answer"}),e.jsx("button",{onClick:et,className:"flex items-center justify-center gap-2 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-lg transition-colors",disabled:te,children:te?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm",children:"Skipping..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(pt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Skip"})]})})]}),e.jsx("div",{className:"flex items-center justify-center gap-3 py-2",children:de?e.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm font-semibold",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{children:"ðŸŽ¤ Speaking..."})]}):e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),e.jsx("span",{children:"Waiting for speech..."})]})})]}),l==="processing"&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-pulse text-blue-400 mb-2",children:"Processing..."}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Analyzing your response"})]}),l==="feedback"&&e.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-green-400",children:"âœ“ Answer recorded successfully!"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Moving to next question..."})]})]})}),e.jsxs("div",{className:"bg-dark-200 rounded-xl p-6 flex flex-col",children:[e.jsx("div",{className:"text-gray-400 text-sm mb-4",children:"Your Camera"}),e.jsxs("div",{className:"flex-1 bg-dark-300 rounded-lg overflow-hidden relative",style:{minHeight:"400px"},children:[e.jsx("video",{ref:m,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover min-h-[400px]"}),!Y&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(dt,{className:"w-12 h-12 text-gray-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Camera not available"})]})})]}),e.jsx("div",{className:"mt-4 flex items-center justify-center gap-2",children:E?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-5 h-5 text-red-500 animate-pulse"}),e.jsx("span",{className:"text-red-500 text-sm font-semibold",children:"Recording"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ft,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"Not Recording"})]})})]})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-dark-200 border-t border-dark-300 py-3",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center text-sm text-gray-400",children:ne})})]})},Ie=({className:h,delay:z=0})=>e.jsx(W.div,{className:`absolute rounded-full blur-3xl pointer-events-none ${h}`,animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,delay:z,ease:"easeInOut"}}),Ut=({isAuthenticated:h,onShowAuth:z})=>{const j=at(),{user:i}=He(),{isChristmasMode:N,colors:M}=ct();vt({title:"AI Mock Interview - Practice with AI Interviewer",description:"Practice interviews with our AI-powered mock interview system. Get real-time feedback, scoring, and improvement suggestions for technical and behavioral interviews.",canonical:"/mock-interview"});const[l,n]=s.useState("welcome"),[d,V]=s.useState(null),[p,B]=s.useState(null),[x,c]=s.useState(null),$=()=>{j(-1)},F=(E,y)=>{V(E),B(y),n("interview"),j("/mock-interview?session=active",{replace:!0})},S=E=>{c(E),n("summary"),j("/mock-interview",{replace:!0})},b=()=>{n("welcome"),V(null),B(null),c(null),j("/mock-interview",{replace:!0})},H=()=>{n("setup")},f=()=>e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-[#0a1e1e] via-[#0d1a1a] to-[#070b14] text-slate-100 lg:pl-16 overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[e.jsx(Ie,{className:"w-[500px] h-[500px] -top-40 -left-40 bg-indigo-500/20",delay:0}),e.jsx(Ie,{className:"w-[400px] h-[400px] top-1/3 -right-40 bg-purple-500/15",delay:2}),e.jsx(Ie,{className:"w-[300px] h-[300px] bottom-20 left-1/4 bg-cyan-500/10",delay:4})]}),e.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 py-12",children:[e.jsxs(W.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:$,className:"lg:hidden flex items-center gap-2 text-slate-400 hover:text-slate-200 mb-6 transition-colors",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Dashboard"})]}),e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-[0_25px_80px_rgba(99,102,241,0.15)] border border-indigo-400/30 p-8 md:p-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 p-3 rounded-xl shadow-[0_0_30px_rgba(99,102,241,0.4)]",children:e.jsx(ae,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-100",children:"AI Mock Interview"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Beta Version - Practice with AI-Powered Feedback"})]})]}),e.jsxs("div",{className:"max-w-none mb-8",children:[e.jsx("p",{className:"text-lg text-slate-300 mb-4",children:"Welcome to PrimoBoost AI's Mock Interview Practice Tool. Get real-time feedback from our AI interviewer and improve your interview skills."}),e.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-400/30 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-indigo-200 mb-3",children:"How It Works:"}),e.jsxs("ol",{className:"space-y-2 text-slate-300",children:[e.jsx("li",{children:"1. Upload your resume for personalized questions"}),e.jsx("li",{children:"2. Choose interview category (Technical or HR)"}),e.jsx("li",{children:"3. Set duration and preferences"}),e.jsx("li",{children:"4. Answer questions in a meet-style interview environment"}),e.jsx("li",{children:"5. Get comprehensive AI feedback and improvement tips"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs(W.div,{whileHover:{scale:1.02,y:-2},className:"bg-emerald-500/10 border border-emerald-400/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-emerald-200 mb-2",children:"âœ… Features Available"}),e.jsxs("ul",{className:"text-sm text-slate-300 space-y-1",children:[e.jsx("li",{children:"â€¢ Resume-Based Questions"}),e.jsx("li",{children:"â€¢ Audio/Video Recording"}),e.jsx("li",{children:"â€¢ Real-time Speech-to-Text"}),e.jsx("li",{children:"â€¢ AI Feedback on Every Answer"}),e.jsx("li",{children:"â€¢ Detailed Performance Reports"})]})]}),e.jsxs(W.div,{whileHover:{scale:1.02,y:-2},className:"bg-purple-500/10 border border-purple-400/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-purple-200 mb-2",children:"ðŸŽ¯ What You'll Practice"}),e.jsxs("ul",{className:"text-sm text-slate-300 space-y-1",children:[e.jsx("li",{children:"â€¢ Technical Concepts"}),e.jsx("li",{children:"â€¢ Behavioral Questions"}),e.jsx("li",{children:"â€¢ HR Questions"}),e.jsx("li",{children:"â€¢ Communication Skills"}),e.jsx("li",{children:"â€¢ Confidence Building"})]})]})]}),e.jsx("div",{className:"bg-amber-500/10 border border-amber-400/30 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-amber-200",children:[e.jsx("strong",{children:"Note:"})," Resume upload is mandatory. Your resume will be analyzed to provide personalized interview questions. We recommend using Chrome or Edge for the best experience."]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(W.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>{h?j("/realistic-interview"):z()},className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-400 hover:to-purple-500 text-white py-4 text-lg font-semibold flex items-center justify-center gap-2 rounded-xl shadow-[0_0_30px_rgba(99,102,241,0.4)] hover:shadow-[0_0_40px_rgba(99,102,241,0.5)] transition-all",children:[e.jsx(ae,{className:"w-5 h-5"}),h?"Start Interview":"Sign In to Start"]}),e.jsxs(W.div,{whileHover:{scale:1.01},className:"bg-emerald-500/10 border border-emerald-400/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-emerald-200 mb-2 flex items-center gap-2",children:"âœ¨ New: Enhanced Realistic Interview"}),e.jsxs("ul",{className:"text-sm text-slate-300 space-y-1",children:[e.jsx("li",{children:"â€¢ Role-based question selection (General or Company-specific)"}),e.jsx("li",{children:"â€¢ Project deep-dive with intelligent follow-ups"}),e.jsx("li",{children:"â€¢ Code review with line-by-line explanations"}),e.jsx("li",{children:"â€¢ Dynamic questions based on your answers"}),e.jsx("li",{children:"â€¢ No repeated questions across sessions"})]})]})]}),h&&i&&e.jsxs("p",{className:"text-center text-sm text-slate-400 mt-4",children:["Logged in as ",e.jsx("strong",{className:"text-slate-200",children:i.name})]})]})]})]});return e.jsxs(e.Fragment,{children:[l==="welcome"&&f(),l==="setup"&&e.jsx(wt,{onConfigComplete:F,onBack:()=>n("welcome")}),l==="interview"&&d&&p&&i&&e.jsx(kt,{config:d,userId:i.id,userName:i.name,resume:p,onInterviewComplete:S,onBack:H}),l==="summary"&&x&&e.jsx(yt,{sessionId:x,onRetake:b,onBackHome:()=>j("/")})]})};export{Ut as MockInterviewPage};
