import{j as e,m as r}from"./vendor-motion-_XdJ9pBm.js";import{b as ye,r as o}from"./vendor-react-B4msnGgW.js";import{F as ve}from"./FileUpload-BOclREAt.js";import{A as O}from"./atsScoreChecker16Parameter-Y6m_ylQU.js";import{L as Ne}from"./parsingMetricsService-4OdIQr6T.js";import{u as we,p as j,i as te,e as ke,C as E,S as Ce,B as ae,r as Se,A as P,T as Q,F as re,E as Re,t as Te}from"./index-BbSeE-q4.js";import{A as W}from"./award-BwmFe92M.js";import{L as ie}from"./lightbulb-ZFvDqHVp.js";import{U as _e}from"./upload-CurydzNZ.js";import{B as Ie}from"./bar-chart-3-Da2kizNa.js";import"./aiProxyService-HwcJnoDm.js";import"./quote-DhoHTT2m.js";import"./fullResumeRewriter16ParameterService-DSVdtcHM.js";import"./vendor-pdf-B1igRwBP.js";import"./skillsTaxonomy-DwA4nl1M.js";import"./zap-BGmE2sY4.js";import"./vendor-supabase-B_87WqdG.js";import"./vendor-forms-BxTF4-4_.js";const B=({className:_,delay:u=0})=>e.jsx(r.div,{className:`absolute rounded-full blur-3xl pointer-events-none ${_}`,animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,delay:u,ease:"easeInOut"}}),Ee={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},H={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},Xe=({onNavigateBack:_,isAuthenticated:u,onShowAuth:N,userSubscription:y,onShowSubscriptionPlans:w,onShowSubscriptionPlansDirectly:Pe,onShowAlert:i,refreshUserSubscription:I,toolProcessTrigger:Ue,setToolProcessTrigger:U})=>{if(typeof i!="function")throw console.error("CRITICAL ERROR: onShowAlert prop is not a function or is undefined!",i),new Error("onShowAlert prop is missing or invalid in ResumeScoreChecker");const{user:d}=we(),Y=ye(),[p,K]=o.useState({text:"",extraction_mode:"TEXT",trimmed:!1}),[z,le]=o.useState(null),[x,F]=o.useState(""),[b,$]=o.useState(""),[l,G]=o.useState(null),[ne,D]=o.useState(!1),[oe,C]=o.useState(""),[a,M]=o.useState(null),[V,de]=o.useState(null),[ce,me]=o.useState(null),[J,S]=o.useState(0),[xe,X]=o.useState(!1),[c,R]=o.useState(null),[Z,A]=o.useState(!1);o.useEffect(()=>{const s=Y.state||{};if((s.jobDescription||s.jobTitle)&&(G("jd_based"),S(1),s.jobDescription&&F(s.jobDescription),s.jobTitle&&$(s.jobTitle),s.jobDescription)){const t=ge(s.jobDescription);R(t)}},[Y.state]);const T=o.useCallback(async()=>{if(!(d!=null&&d.id)){console.error("_analyzeResumeInternal: User ID not available, cannot proceed with analysis."),i("Authentication Required","User data not fully loaded. Please try again or sign in.","error","Sign In",N);return}const s=await j.getUserSubscription(d.id);if(!s||s.scoreChecksTotal-s.scoreChecksUsed<=0){console.error("_analyzeResumeInternal: Credits unexpectedly exhausted during internal analysis. This should not happen if pre-check worked."),i("Credits Exhausted","Your credits were used up before analysis could complete. Please upgrade.","error","Upgrade Plan",()=>w("score-checker")),A(!0);return}if(!p.text.trim()){i("Missing Resume","Please upload your resume first to get a score.","warning");return}if(l==="jd_based"){if(!x.trim()){i("Missing Job Description","Job description is required for JD-based scoring.","warning");return}if(!b.trim()){i("Missing Job Title","Job title is required for JD-based scoring.","warning");return}}M(null),D(!0),C("Extracting & cleaning your resume...");try{const t=await j.useScoreCheck(d.id);if(!t.success){console.error("Failed to deduct score check credit:",t.error),i("Credits Exhausted","No score check credits available. Please upgrade.","error","Upgrade Plan",()=>w("score-checker")),D(!1),C("");return}await I(),l==="jd_based"&&C(`Comparing with Job Title: ${b}...`),C("Scoring across 16 ATS parameters...");let n;l==="jd_based"&&x.trim()?z?n=await O.evaluateWithUnified16AndParsedData(p.text,x,z,b||void 0):n=await O.evaluateWithUnified16(p.text,x,b||void 0):n=await O.evaluateResume(p.text,void 0,V||void 0,ce||void 0,!0),M(n),S(2)}catch(t){console.error("_analyzeResumeInternal: Error in try block:",t),i("Analysis Failed",`Failed to analyze resume: ${t.message||"Unknown error"}. Please try again.`,"error")}finally{D(!1),C("")}},[p,z,x,b,l,u,N,w,i,I,d,V,xe]),q=o.useCallback(async()=>{var L;if(l===null){i("Choose a Scoring Method",'Please select "Score Against a Job" to continue.',"warning");return}if(!u){i("Authentication Required","Please sign in to get your resume score.","error","Sign In",N);return}if(!(d!=null&&d.id)){i("Authentication Required","User data not fully loaded. Please try again or sign in.","error","Sign In",N);return}if(!p.text.trim()){i("Missing Resume","Please upload your resume first to get a score.","warning");return}if(l==="jd_based"){if(!x.trim()){i("Missing Job Description","Job description is required for JD-based scoring.","warning");return}if(!b.trim()){i("Missing Job Title","Job title is required for JD-based scoring.","warning");return}}const s=await j.getUserSubscription(d.id),t=s?s.scoreChecksTotal-s.scoreChecksUsed:0,n=await j.getAddOnCreditsByType(d.id,"score_check"),m=Math.max(0,t)+n>0,g=j.getPlanById("lite_check")&&(!s||s.planId!=="lite_check");if(m)T();else if(g){i("Activating Free Trial","Activating your free trial for Resume Score Check...","info");try{await j.activateFreeTrial(d.id),await I(),i("Free Trial Activated!","Your free trial has been activated. Analyzing your resume now.","success"),T()}catch(k){i("Free Trial Activation Failed","Failed to activate free trial: "+(k.message||"Unknown error"),"error")}}else{const k=s?((L=j.getPlanById(s.planId))==null?void 0:L.name)||"your current plan":"your account";let f="";t<=0&&n<=0?(s?f=`You have used all your Resume Score Checks from ${k}.`:f="You don't have any active plan or add-on credits for Resume Score Checks.",f+=" Please purchase credits or upgrade your plan to continue."):f="Your Resume Score Check credits are exhausted. Please purchase more credits.",i("Resume Score Check Credits Exhausted",f,"warning","Get Credits",()=>w("score-checker")),A(!0)}},[p,x,b,l,u,N,w,i,I,d,T]);o.useEffect(()=>{if(Z&&u&&y&&y.scoreChecksTotal-y.scoreChecksUsed>0){A(!1);let s=0,t=500;const n=6;(async()=>{for(;s<n;){const m=await j.getUserSubscription(d.id);if(m&&m.scoreChecksTotal-m.scoreChecksUsed>0){T();return}s++,s<n&&(await new Promise(v=>setTimeout(v,t)),t*=2)}console.error("ResumeScoreChecker: Failed to re-trigger analysis after purchase due to persistent credit check failure."),i("Analysis Not Started","We could not confirm your new credits. Please try again manually.","error")})()}},[Z,u,y,T,i,d]),o.useEffect(()=>(U(()=>q),()=>{U(null)}),[U,q]);const ue=(s,t)=>{K(s),me(t||null),de(s.filename||null);const n=(s.filename||"").toLowerCase(),h=(s.text||"").toLowerCase(),m=n.includes("optimized")||n.includes("jd_optimized")||n.includes("jd-optimized")||h.includes("<!-- jd_optimized -->")||h.includes("origin: jd_optimized");X(m)},he=s=>{le(s)},pe=s=>{G(s),setTimeout(()=>{const t=document.querySelector("[data-user-type-section]");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},300)},be=()=>{l&&c&&S(1)},ge=s=>{const t=s.toLowerCase(),n=[/(\d+)\+?\s*years?\s*(of\s*)?(work\s*|software\s*development\s*)?experience/gi,/minimum\s*(\d+)\+?\s*years?/gi,/at\s*least\s*(\d+)\+?\s*years?/gi,/(\d+)\s*[-â€“to]\s*(\d+)\s*years?/gi,/(\d+)\+\s*years?/gi];let h=0,m=!1;for(const k of n){const f=[...t.matchAll(k)];f.length>0&&(m=!0,f.forEach(je=>{const ee=je[1];if(ee){const se=parseInt(ee);se>h&&(h=se)}}))}return m&&h>=2?"experienced":/fresher|entry.level|graduate\s+program|junior|0.1\s*year|new\s*grad|campus|intern|trainee|associate|no\s*experience|recent\s*graduate|freshers?\s+allowed/i.test(t)?"fresher":/internship|intern\s+position|student|academic|university|college|thesis|dissertation|summer\s+program/i.test(t)?"student":/0\s*[-â€“to]\s*2\s*years?|1\s*[-â€“to]\s*2\s*years?/i.test(t)||(!m||h<=1)&&(/project.based|academic|learning|training|development.program|graduate.program/i.test(t)||!m&&/b\.tech|b\.e\.|bachelor|degree|computer.science|engineering|graduate/i.test(t))?"fresher":"experienced"},fe=()=>{M(null),K({text:"",extraction_mode:"TEXT",trimmed:!1}),F(""),$(""),R(null),S(0),X(!1)};return e.jsx(e.Fragment,{children:ne?e.jsx(Ne,{message:oe,submessage:"Please wait while we analyze your resume."}):e.jsxs("div",{className:"relative min-h-screen flex flex-col bg-gradient-to-b from-[#0a1e1e] via-[#0d1a1a] to-[#070b14] text-slate-100 px-4 sm:px-0 lg:pl-16 transition-colors duration-300 overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[e.jsx(B,{className:"w-[500px] h-[500px] -top-40 -left-40 bg-emerald-500/20",delay:0}),e.jsx(B,{className:"w-[400px] h-[400px] top-1/3 -right-40 bg-cyan-500/15",delay:2}),e.jsx(B,{className:"w-[300px] h-[300px] bottom-20 left-1/4 bg-indigo-500/10",delay:4})]}),e.jsx("div",{className:"bg-slate-900/80 backdrop-blur-xl shadow-lg border-b border-emerald-400/20 sticky top-0 z-40",children:e.jsx("div",{className:"container-responsive",children:e.jsxs("div",{className:"flex items-center justify-between h-16 py-3",children:[e.jsxs("button",{onClick:_,className:"lg:hidden bg-gradient-to-r from-neon-cyan-500 to-neon-blue-500 text-white hover:from-neon-cyan-400 hover:to-neon-blue-400 active:from-neon-cyan-600 active:to-neon-blue-600 shadow-md hover:shadow-neon-cyan py-3 px-5 rounded-xl inline-flex items-center space-x-2 transition-all duration-200",children:[e.jsx(te,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:block",children:"Back to Home"})]}),e.jsx("h1",{className:"text-lg font-semibold text-emerald-50",children:"Resume Score Checker"}),e.jsx("div",{className:"w-24"})]})})}),e.jsxs("div",{className:"relative flex-grow py-8",children:[u&&y&&e.jsx("div",{className:"relative text-center mb-6 z-10",children:e.jsx("button",{className:"inline-flex items-center space-x-2 px-6 py-3 rounded-full transition-all duration-200 font-semibold text-sm bg-gradient-to-r from-emerald-500 to-cyan-600 text-white shadow-md hover:shadow-emerald-500/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 max-w-[300px] mx-auto justify-center",children:e.jsxs("span",{children:["Score Checks Left: ",y.scoreChecksTotal-y.scoreChecksUsed]})})}),J===0&&e.jsxs("div",{className:"container-responsive",children:[e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-emerald-500/10 border border-emerald-400/30 mb-6",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),e.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Step 1 of 3 - Choose Scoring Method"})]}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-100 mb-4",children:["Get Your Resume ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400",children:"Score"})]}),e.jsx("p",{className:"text-slate-400 text-lg max-w-2xl mx-auto",children:"Our AI analyzes your resume against industry standards and ATS requirements to help you land more interviews"})]}),e.jsx("div",{className:"max-w-2xl mx-auto mb-12",children:e.jsxs(r.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},onClick:()=>pe("jd_based"),className:`relative w-full p-6 rounded-2xl border text-left transition-all duration-300 overflow-hidden group ${l==="jd_based"?"border-emerald-400/60 bg-gradient-to-br from-emerald-500/20 to-cyan-500/10 shadow-[0_0_40px_rgba(16,185,129,0.25)]":"border-slate-700/50 hover:border-emerald-400/40 bg-slate-900/60 hover:bg-slate-800/60"}`,children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-emerald-500 to-cyan-500 text-white text-xs rounded-full font-semibold shadow-lg",children:"Recommended"})}),e.jsx("div",{className:"relative mb-6",children:e.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center transition-all duration-300 ${l==="jd_based"?"bg-gradient-to-br from-emerald-500 to-cyan-500 shadow-[0_0_30px_rgba(16,185,129,0.5)]":"bg-gradient-to-br from-emerald-500/20 to-cyan-500/20 group-hover:from-emerald-500/30 group-hover:to-cyan-500/30"}`,children:e.jsx(ke,{className:`w-8 h-8 ${l==="jd_based"?"text-white":"text-emerald-400"}`})})}),e.jsx("h3",{className:"text-xl font-bold text-slate-100 mb-2",children:"Score Against a Job"}),e.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Compare your resume against a specific job description for targeted optimization"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(E,{className:"w-4 h-4 text-emerald-400"})}),e.jsx("span",{className:"text-slate-300 text-sm",children:"Keyword match analysis"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(E,{className:"w-4 h-4 text-emerald-400"})}),e.jsx("span",{className:"text-slate-300 text-sm",children:"Skills gap identification"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(E,{className:"w-4 h-4 text-emerald-400"})}),e.jsx("span",{className:"text-slate-300 text-sm",children:"Role-specific recommendations"})]})]}),l==="jd_based"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-emerald-500 to-cyan-500"})]})}),l&&e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"max-w-4xl mx-auto mb-8","data-user-type-section":!0,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-amber-500/10 border border-amber-400/30 mb-4",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400 animate-pulse"}),e.jsx("span",{className:"text-amber-300 text-sm font-medium",children:"Step 2 of 3"})]}),e.jsx("h3",{className:"text-xl font-semibold text-slate-100 mb-2",children:"What's your experience level?"}),e.jsx("p",{className:"text-slate-400",children:"This helps us apply the right evaluation criteria for your resume"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs(r.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>R("fresher"),className:`p-4 rounded-xl border text-left transition-all duration-300 ${c==="fresher"?"border-emerald-400/60 bg-gradient-to-br from-emerald-500/20 to-cyan-500/10 shadow-[0_0_30px_rgba(16,185,129,0.2)]":"border-slate-700/50 hover:border-emerald-400/40 bg-slate-900/60 hover:bg-slate-800/60"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${c==="fresher"?"bg-emerald-500/20":"bg-slate-700/50"}`,children:e.jsx(Ce,{className:`w-5 h-5 ${c==="fresher"?"text-emerald-400":"text-slate-400"}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-100",children:"Fresher"}),e.jsx("p",{className:"text-xs text-slate-400",children:"0-2 years experience"})]})]}),e.jsx("p",{className:"text-sm text-slate-300",children:"Recent graduate or entry-level professional. We'll focus on education, projects, and skills."})]}),e.jsxs(r.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>R("experienced"),className:`p-4 rounded-xl border text-left transition-all duration-300 ${c==="experienced"?"border-indigo-400/60 bg-gradient-to-br from-indigo-500/20 to-purple-500/10 shadow-[0_0_30px_rgba(99,102,241,0.2)]":"border-slate-700/50 hover:border-indigo-400/40 bg-slate-900/60 hover:bg-slate-800/60"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${c==="experienced"?"bg-indigo-500/20":"bg-slate-700/50"}`,children:e.jsx(ae,{className:`w-5 h-5 ${c==="experienced"?"text-indigo-400":"text-slate-400"}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-100",children:"Experienced"}),e.jsx("p",{className:"text-xs text-slate-400",children:"2+ years experience"})]})]}),e.jsx("p",{className:"text-sm text-slate-300",children:"Professional with work experience. We'll emphasize achievements, career progression, and impact."})]}),e.jsxs(r.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>R("student"),className:`p-4 rounded-xl border text-left transition-all duration-300 ${c==="student"?"border-amber-400/60 bg-gradient-to-br from-amber-500/20 to-orange-500/10 shadow-[0_0_30px_rgba(245,158,11,0.2)]":"border-slate-700/50 hover:border-amber-400/40 bg-slate-900/60 hover:bg-slate-800/60"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${c==="student"?"bg-amber-500/20":"bg-slate-700/50"}`,children:e.jsx(Se,{className:`w-5 h-5 ${c==="student"?"text-amber-400":"text-slate-400"}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-100",children:"Student"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Currently studying"})]})]}),e.jsx("p",{className:"text-sm text-slate-300",children:"Current student seeking internships or entry-level roles. We'll focus on academics and potential."})]})]}),l&&c&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs(r.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:be,className:"px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center space-x-3 mx-auto shadow-xl hover:shadow-2xl bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-400 hover:to-cyan-400 text-white animate-pulse",children:[e.jsx(P,{className:"w-6 h-6"}),e.jsx("span",{children:"Continue to Upload Resume"})]})}),l&&!c&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-amber-500/10 border border-amber-400/30",children:[e.jsx(P,{className:"w-4 h-4 text-amber-400"}),e.jsx("span",{className:"text-amber-300 text-sm font-medium",children:"Please select your experience level above to continue"})]})})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-slate-900/60 backdrop-blur-xl rounded-2xl border border-slate-700/50 p-8 max-w-5xl mx-auto",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-6 text-center",children:"What You'll Get"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500/20 to-orange-500/20 flex items-center justify-center mx-auto mb-3",children:e.jsx(W,{className:"w-6 h-6 text-amber-400"})}),e.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Overall Score"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"0-100 rating"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20 flex items-center justify-center mx-auto mb-3",children:e.jsx(ie,{className:"w-6 h-6 text-blue-400"})}),e.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Smart Tips"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"AI suggestions"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500/20 to-green-500/20 flex items-center justify-center mx-auto mb-3",children:e.jsx(Q,{className:"w-6 h-6 text-emerald-400"})}),e.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Improvements"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Action items"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500/20 to-pink-500/20 flex items-center justify-center mx-auto mb-3",children:e.jsx(re,{className:"w-6 h-6 text-purple-400"})}),e.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Detailed Report"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Full breakdown"})]})]})]})]}),J===1&&e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},className:"container-responsive",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:e.jsxs("button",{onClick:()=>S(0),className:"bg-slate-800/80 hover:bg-slate-700/80 text-slate-100 font-semibold py-2 px-4 rounded-xl transition-all duration-300 flex items-center space-x-2 border border-slate-700/50 hover:border-emerald-400/30",children:[e.jsx(te,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Scoring Method"})]})}),e.jsxs(r.div,{variants:Ee,initial:"hidden",animate:"visible",className:"space-y-8",children:[e.jsxs(r.div,{variants:H,className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-[0_25px_80px_rgba(16,185,129,0.12)] border border-emerald-400/30 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500/10 to-cyan-500/10 p-6 border-b border-emerald-400/20",children:[e.jsxs("h2",{className:"text-xl font-semibold text-emerald-50 flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/15 border border-emerald-400/40 mr-3",children:e.jsx(_e,{className:"w-5 h-5 text-emerald-300"})}),"Upload Your Resume"]}),c&&x&&e.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-emerald-500/10 border border-emerald-400/30",children:[e.jsxs("div",{className:"flex items-center gap-2 text-emerald-300 text-sm",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsxs("span",{children:["Auto-detected as ",e.jsx("span",{className:"font-semibold capitalize",children:c})," role from job description"]})]}),e.jsxs("p",{className:"text-emerald-400/70 text-xs mt-1",children:["We'll apply ",c==="fresher"||c==="student"?"fresher-friendly":"experienced"," evaluation criteria"]})]}),e.jsx("p",{className:"text-slate-300 mt-1 ml-12",children:"Upload your current resume for analysis"})]}),e.jsx("div",{className:"p-6",children:e.jsx(ve,{onFileUpload:ue,onParsedResume:he,isAuthenticated:u,onShowAuth:N,requireAuth:!0,userId:d==null?void 0:d.id,creditType:"score_check",onShowSubscriptionPlans:w,onCreditCheckPassed:()=>{}})})]}),l==="jd_based"&&e.jsxs(r.div,{variants:H,className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-[0_25px_80px_rgba(251,191,36,0.1)] border border-amber-400/30 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-500/10 to-orange-500/10 p-6 border-b border-amber-400/20",children:[e.jsxs("h2",{className:"text-xl font-semibold text-amber-50 flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-amber-500/15 border border-amber-400/40 mr-3",children:e.jsx(ae,{className:"w-5 h-5 text-amber-300"})}),"Job Title *"]}),e.jsx("p",{className:"text-slate-300 mt-1 ml-12",children:"Enter the exact job title you're targeting"})]}),e.jsx("div",{className:"p-6",children:e.jsx("input",{type:"text",value:b,onChange:s=>$(s.target.value),placeholder:"e.g., Senior Software Engineer, Product Manager, Data Scientist",className:"w-full px-4 py-3 border border-slate-700/50 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-slate-800/50 text-slate-100 placeholder-slate-400 transition-all duration-300"})})]}),l==="jd_based"&&e.jsxs(r.div,{variants:H,className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-[0_25px_80px_rgba(34,197,94,0.1)] border border-emerald-400/30 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500/10 to-teal-500/10 p-6 border-b border-emerald-400/20",children:[e.jsxs("h2",{className:"text-xl font-semibold text-emerald-50 flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/15 border border-emerald-400/40 mr-3",children:e.jsx(re,{className:"w-5 h-5 text-emerald-300"})}),"Job Description ",e.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),e.jsx("p",{className:"text-slate-300 mt-1 ml-12",children:"Paste the complete job description for accurate matching"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("textarea",{value:x,onChange:s=>F(s.target.value),placeholder:"Paste the full job description here including responsibilities, requirements, qualifications, and benefits...",rows:8,className:"w-full px-4 py-3 border border-slate-700/50 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 resize-y min-h-[200px] bg-slate-800/50 text-slate-100 placeholder-slate-400 transition-all duration-300"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Required for JD-based scoring and analysis"}),e.jsxs("span",{className:"text-xs text-slate-400",children:[x.length," characters"]})]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("button",{onClick:()=>q(),disabled:l===null||!p.text.trim()||l==="jd_based"&&(!x.trim()||!b.trim()),className:`px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center space-x-3 mx-auto shadow-xl hover:shadow-2xl ${l===null||!p.text.trim()||l==="jd_based"&&(!x.trim()||!b.trim())?"bg-gray-400 cursor-not-allowed text-white":"bg-gradient-to-r from-neon-cyan-500 to-neon-purple-500 hover:from-neon-cyan-400 hover:to-neon-purple-400 text-white hover:shadow-neon-cyan transform hover:scale-105"}`,children:[e.jsx(Q,{className:"w-6 h-6"}),e.jsx("span",{children:u?"Analyze My Resume":"Sign In to Analyze"})]}),!u&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-3",children:"Sign in to access our AI-powered resume analysis"})]})]})]})}),J===2&&a&&e.jsx("div",{className:"container-responsive py-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-emerald-400/30 overflow-hidden shadow-[0_25px_80px_rgba(16,185,129,0.15)]",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-500/10 to-cyan-500/10 p-6 border-b border-emerald-400/20",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-emerald-500/20 border border-emerald-400/40",children:e.jsx(W,{className:"w-6 h-6 text-emerald-400"})}),e.jsx("h2",{className:"text-xl font-bold text-slate-100",children:"Your Resume Score"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.extraction_mode==="OCR"&&e.jsxs("span",{className:"px-3 py-1 bg-amber-500/20 text-amber-300 text-xs rounded-full font-medium border border-amber-400/30",children:[e.jsx(Re,{className:"w-3 h-3 inline mr-1"}),"OCR Used"]}),e.jsxs("span",{className:`px-3 py-1 text-xs rounded-full font-medium border ${a.confidence==="High"?"bg-emerald-500/20 text-emerald-300 border-emerald-400/30":a.confidence==="Medium"?"bg-amber-500/20 text-amber-300 border-amber-400/30":"bg-red-500/20 text-red-300 border-red-400/30"}`,children:[e.jsx(Te,{className:"w-3 h-3 inline mr-1"}),a.confidence," Confidence"]})]})]})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(r.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,delay:.2},className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative w-40 h-40 mb-4",children:[e.jsxs("svg",{className:"w-40 h-40 transform -rotate-90",viewBox:"0 0 120 120",children:[e.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:"#1e293b",strokeWidth:"10"}),e.jsx(r.circle,{cx:"60",cy:"60",r:"50",fill:"none",strokeWidth:"10",strokeLinecap:"round",initial:{strokeDasharray:"0 314"},animate:{strokeDasharray:`${a.overallScore/100*314} 314`},transition:{duration:1.5,ease:"easeOut",delay:.3},className:`${a.overallScore>=80?"stroke-emerald-400":a.overallScore>=60?"stroke-amber-400":"stroke-red-400"}`})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:`text-5xl font-bold ${a.overallScore>=80?"text-emerald-400":a.overallScore>=60?"text-amber-400":"text-red-400"}`,children:a.overallScore}),e.jsx("div",{className:"text-slate-400 text-sm",children:"out of 100"})]})})]}),e.jsx("div",{className:`px-4 py-2 rounded-full text-sm font-semibold ${a.overallScore>=80?"bg-emerald-500/20 text-emerald-300 border border-emerald-400/30":a.overallScore>=60?"bg-amber-500/20 text-amber-300 border border-amber-400/30":"bg-red-500/20 text-red-300 border border-red-400/30"}`,children:a.overallScore>=80?"Excellent":a.overallScore>=60?"Good":"Needs Work"})]}),e.jsxs(r.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-5 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/20 border border-indigo-400/30",children:e.jsx(W,{className:"w-5 h-5 text-indigo-400"})}),e.jsx("span",{className:"text-slate-400 text-sm",children:"Match Quality"})]}),e.jsx("div",{className:`text-2xl font-bold ${a.matchQuality==="Excellent"?"text-emerald-400":a.matchQuality==="Good"?"text-cyan-400":a.matchQuality==="Adequate"?"text-amber-400":"text-red-400"}`,children:a.matchQuality})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-5 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20 border border-emerald-400/30",children:e.jsx(Q,{className:"w-5 h-5 text-emerald-400"})}),e.jsx("span",{className:"text-slate-400 text-sm",children:"Shortlist Chances"})]}),e.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:a.interviewChance})]})]}),e.jsxs(r.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"bg-slate-800/50 rounded-xl p-5 border border-slate-700/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-3",children:"Analysis Summary"}),e.jsx("p",{className:"text-slate-300 text-sm leading-relaxed mb-4",children:a.summary}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-400/30 rounded-lg p-3",children:[e.jsx("div",{className:"text-emerald-400 font-bold text-lg",children:a.strengths.length}),e.jsx("div",{className:"text-emerald-300/70 text-xs",children:"Strengths"})]}),e.jsxs("div",{className:"bg-amber-500/10 border border-amber-400/30 rounded-lg p-3",children:[e.jsx("div",{className:"text-amber-400 font-bold text-lg",children:a.areasToImprove.length}),e.jsx("div",{className:"text-amber-300/70 text-xs",children:"To Improve"})]})]})]})]})})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-indigo-400/30 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-500/10 to-purple-500/10 p-6 border-b border-indigo-400/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-indigo-500/20 border border-indigo-400/40",children:e.jsx(Ie,{className:"w-6 h-6 text-indigo-400"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-100",children:["16-Parameter Breakdown",a.unified16Scores&&a.unified16Scores.length>0&&e.jsx("span",{className:"ml-2 text-xs text-emerald-400 font-normal",children:"(Unified with JD Optimizer)"})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:a.unified16Scores&&a.unified16Scores.length>0?"Same parameters as JD Optimizer for consistent scoring":"Industry-standard ATS parameters"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.unified16Scores&&a.unified16Scores.length>0?a.unified16Scores.map((s,t)=>{const n={1:"ðŸ“‡",2:"ðŸ“",3:"ðŸŽ¯",4:"ðŸ’»",5:"ðŸ¤",6:"ðŸ“‹",7:"âœï¸",8:"ðŸ“Š",9:"âš¡",10:"ðŸ”‘",11:"ðŸ“",12:"âœ…",13:"ðŸ“…",14:"ðŸŽ¯",15:"ðŸ”§",16:"ðŸ”¬"};return e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4+t*.05},className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 hover:border-indigo-400/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-semibold text-slate-200 text-sm",children:[e.jsx("span",{className:"mr-1",children:n[s.parameterNumber]||"ðŸ“Œ"}),s.parameter]}),e.jsxs("span",{className:"text-xs text-slate-500",children:[s.maxScore," pts max"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:`text-xl font-bold ${s.percentage>=80?"text-emerald-400":s.percentage>=60?"text-amber-400":"text-red-400"}`,children:s.score}),e.jsxs("span",{className:"text-slate-500",children:["/ ",s.maxScore]}),e.jsxs("span",{className:"ml-auto text-xs text-indigo-400",children:[s.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-2",children:e.jsx(r.div,{initial:{width:0},animate:{width:`${Math.min(s.percentage,100)}%`},transition:{duration:.8,delay:.5+t*.05},className:`h-2 rounded-full ${s.percentage>=80?"bg-emerald-500":s.percentage>=60?"bg-amber-500":"bg-red-500"}`})}),s.suggestions.length>0&&e.jsx("p",{className:"text-xs text-slate-400 mt-2 italic",children:s.suggestions[0]})]},s.parameterNumber)}):Object.entries(a.scores).map(([s,t],n)=>{const h={keywordMatch:25,skillsAlignment:20,experienceRelevance:15,technicalCompetencies:12,educationScore:10,quantifiedAchievements:8,employmentHistory:8,industryExperience:7,jobTitleMatch:6,careerProgression:6,certifications:5,formatting:5,contentQuality:4,grammar:3,resumeLength:2,filenameQuality:2},m={keywordMatch:"Keyword Match",skillsAlignment:"Skills Alignment",experienceRelevance:"Experience Relevance",technicalCompetencies:"Technical Competencies",educationScore:"Education Score",quantifiedAchievements:"Quantified Achievements",employmentHistory:"Employment History",industryExperience:"Industry Experience",jobTitleMatch:"Job Title Match",careerProgression:"Career Progression",certifications:"Certifications",formatting:"Formatting",contentQuality:"Content Quality",grammar:"Grammar",resumeLength:"Resume Length",filenameQuality:"Filename Quality"},v=h[s]||5,g=t/v*100;return e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4+n*.05},className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 hover:border-indigo-400/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-slate-200 text-sm",children:m[s]||s}),e.jsxs("span",{className:"text-xs text-slate-500",children:[v," pts max"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:`text-xl font-bold ${g>=80?"text-emerald-400":g>=60?"text-amber-400":"text-red-400"}`,children:t}),e.jsxs("span",{className:"text-slate-500",children:["/ ",v]}),e.jsxs("span",{className:"ml-auto text-xs text-indigo-400",children:[g.toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-2",children:e.jsx(r.div,{initial:{width:0},animate:{width:`${Math.min(g,100)}%`},transition:{duration:.8,delay:.5+n*.05},className:`h-2 rounded-full ${g>=80?"bg-emerald-500":g>=60?"bg-amber-500":"bg-red-500"}`})})]},s)})})})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-purple-400/30 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 p-6 border-b border-purple-400/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-purple-500/20 border border-purple-400/40",children:e.jsx(ie,{className:"w-6 h-6 text-purple-400"})}),e.jsx("h2",{className:"text-xl font-bold text-slate-100",children:"Recommendations"})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:a.areasToImprove.length>0?a.areasToImprove.map((s,t)=>e.jsxs(r.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.5+t*.1},className:"flex items-start gap-3 bg-slate-800/30 rounded-lg p-4 border border-slate-700/30",children:[e.jsx("div",{className:"p-1 rounded-full bg-purple-500/20 mt-0.5",children:e.jsx(P,{className:"w-4 h-4 text-purple-400"})}),e.jsx("span",{className:"text-slate-300 text-sm",children:s})]},t)):e.jsx("p",{className:"text-slate-400 italic text-center py-4",children:"Your resume looks great! No specific recommendations."})})})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:[e.jsxs("button",{onClick:fe,className:"px-8 py-3 bg-gradient-to-r from-emerald-500 to-cyan-500 text-white font-semibold rounded-xl hover:from-emerald-400 hover:to-cyan-400 transition-all duration-300 shadow-lg shadow-emerald-500/25 flex items-center gap-2",children:["Check Another Resume",e.jsx(P,{className:"w-4 h-4"})]}),e.jsx("button",{onClick:_,className:"px-8 py-3 bg-slate-800 text-slate-200 font-semibold rounded-xl hover:bg-slate-700 transition-all duration-300 border border-slate-700",children:"Back to Home"})]})]})})]})]})})};export{Xe as ResumeScoreChecker};
