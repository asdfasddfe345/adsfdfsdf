const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/enhancedJdOptimizerService-BgBDoQ2l.js","assets/fullResumeRewriter16ParameterService-DSVdtcHM.js","assets/vendor-pdf-B1igRwBP.js","assets/vendor-react-B4msnGgW.js","assets/parsingMetricsService-4OdIQr6T.js","assets/vendor-motion-_XdJ9pBm.js","assets/quote-DhoHTT2m.js","assets/index-BbSeE-q4.js","assets/vendor-supabase-B_87WqdG.js","assets/vendor-forms-BxTF4-4_.js","assets/index-CsxlXGMT.css","assets/zap-BGmE2sY4.js","assets/skillsTaxonomy-DwA4nl1M.js","assets/geminiService-Cvd_mUGO.js","assets/aiProxyService-HwcJnoDm.js"])))=>i.map(i=>d[i]);
import{_ as kt}from"./vendor-pdf-B1igRwBP.js";import{j as e}from"./vendor-motion-_XdJ9pBm.js";import{r as a,R as St,u as Ct,b as Pt}from"./vendor-react-B4msnGgW.js";import{c as Ze,e as ee,T as Se,a as le,C as B,X as Ee,g as Ce,F as Y,B as qe,h as Ie,S as re,A as $s,i as Ue,L as We,b as Ls,j as Et,u as zt,k as Tt,p as _e,d as Je,s as xe}from"./index-BbSeE-q4.js";import{F as $t}from"./FloatingParticles-DT4T20-4.js";import{C as Lt}from"./ChristmasSnow-BRNxvkei.js";import{d as Ge,l as Rs,p as Rt,R as Pe,Z as Js,a as Us,G as Mt}from"./ResumePreview-Br_JyetK.js";import{D as Ft}from"./download-DWlYtjQA.js";import{X as At}from"./x-circle-ytsTtMRB.js";import{T as Ot}from"./type-Cez_liJx.js";import{e as Ws,a as Bs,r as It,M as _t,P as Jt,b as Ut,c as Wt}from"./scoringService-DCsBvtcR.js";import{F as Bt}from"./FileUpload-BOclREAt.js";import{U as Ms}from"./upload-CurydzNZ.js";import{B as Be}from"./building-2-B7dH_DvY.js";import{L as Zt}from"./parsingMetricsService-4OdIQr6T.js";import{M as qt}from"./maximize-2-jpotZCLP.js";import{j as Gt}from"./jobsService--I8tbRfO.js";import{e as Ht,g as Dt}from"./aiProxyService-HwcJnoDm.js";import{C as Vt}from"./code-GxPtUTRK.js";import{C as Fs}from"./chevron-up-n5SsRS4Y.js";import{L as Yt}from"./lightbulb-ZFvDqHVp.js";import{E as Xt}from"./external-link-CSmvpDBS.js";import{S as Kt}from"./star-DBKesPgG.js";import{Z as Qt}from"./zap-BGmE2sY4.js";import{S as ea}from"./send-BNy5p617.js";import{P as As}from"./plus-C66eGFjH.js";import"./vendor-supabase-B_87WqdG.js";import"./vendor-forms-BxTF4-4_.js";import"./rotate-ccw-BQdMKeUh.js";import"./edenAITextService-y6w1oEiu.js";import"./quote-DhoHTT2m.js";import"./award-BwmFe92M.js";import"./graduation-cap-C94epHPK.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Ze("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Ze("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ze("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),aa={1:"ðŸ“‡",2:"ðŸ“",3:"ðŸŽ¯",4:"ðŸ’»",5:"ðŸ¤",6:"ðŸ“‹",7:"ðŸ”¤",8:"ðŸ“Š",9:"âš¡",10:"ðŸ”‘",11:"ðŸ“",12:"âœ…",13:"ðŸ“…",14:"ðŸŽ¯",15:"ðŸ”§",16:"ðŸ”¬"},ra=({beforeScores:t,afterScores:o,overallBefore:n,overallAfter:c,improvement:i,compact:m=!1})=>{const r=o||t||[],f=l=>l>=80?"text-green-500":l>=60?"text-yellow-500":l>=40?"text-orange-500":"text-red-500",d=l=>l>=80?"bg-green-500":l>=60?"bg-yellow-500":l>=40?"bg-orange-500":"bg-red-500",w=l=>l>=90?{grade:"A+",color:"text-green-500"}:l>=80?{grade:"A",color:"text-green-500"}:l>=70?{grade:"B",color:"text-yellow-500"}:l>=60?{grade:"C",color:"text-orange-500"}:{grade:"D",color:"text-red-500"};return m?e.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-blue-900/30 rounded-lg p-4 border border-purple-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4 text-purple-400"}),"16-Parameter ATS Score"]}),i!==void 0&&i>0&&e.jsxs("span",{className:"text-xs text-green-400 flex items-center gap-1",children:[e.jsx(Se,{className:"w-3 h-3"}),"+",i,"%"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[n!==void 0&&n>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-lg font-bold ${f(n)} opacity-60`,children:[n,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Before"})]}),e.jsx("span",{className:"text-gray-500",children:"â†’"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-2xl font-bold ${f(c||0)}`,children:[c||0,"%"]}),e.jsx("div",{className:"text-xs text-gray-400",children:n!==void 0&&n>0?"After":"Overall"})]})]}),e.jsx("div",{className:"flex-1 grid grid-cols-8 gap-1",children:r.slice(0,16).map(l=>e.jsxs("div",{className:"relative group",title:`${l.parameter}: ${l.percentage}%`,children:[e.jsx("div",{className:`w-full h-2 rounded-full ${d(l.percentage)} opacity-70`}),e.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[l.parameter,": ",l.percentage,"%"]})]},l.parameterNumber))})]})]}):e.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-purple-400"}),"16-Parameter ATS Optimization"]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Full resume rewrite based on job description analysis"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center gap-4",children:[n!==void 0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Before"}),e.jsxs("div",{className:`text-xl font-bold ${f(n)}`,children:[n,"%"]})]}),i!==void 0&&i>0&&e.jsx("div",{className:"text-green-400",children:e.jsx(Se,{className:"w-6 h-6"})}),c!==void 0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"After"}),e.jsxs("div",{className:`text-3xl font-bold ${f(c)}`,children:[c,"%"]}),e.jsxs("div",{className:`text-sm font-semibold ${w(c).color}`,children:["Grade: ",w(c).grade]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.map(l=>{const k=t==null?void 0:t.find(P=>P.parameterNumber===l.parameterNumber),v=k&&l.percentage>k.percentage;return e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-700 hover:border-purple-500/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:aa[l.parameterNumber]}),e.jsxs("span",{className:"text-sm font-medium text-white",children:[l.parameterNumber,". ",l.parameter]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(Se,{className:"w-3 h-3 text-green-400"}),e.jsxs("span",{className:`text-sm font-bold ${f(l.percentage)}`,children:[l.percentage,"%"]})]})]}),e.jsx("div",{className:"w-full h-1.5 bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${d(l.percentage)} transition-all duration-500`,style:{width:`${l.percentage}%`}})}),l.percentage<70&&l.suggestions.length>0&&e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[e.jsx(le,{className:"w-3 h-3 inline mr-1 text-yellow-500"}),l.suggestions[0]]}),l.percentage>=80&&e.jsxs("div",{className:"mt-2 text-xs text-green-400",children:[e.jsx(B,{className:"w-3 h-3 inline mr-1"}),"Optimized"]})]},l.parameterNumber)})}),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-6 text-xs text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{children:"80%+ Excellent"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("span",{children:"60-79% Good"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),e.jsx("span",{children:"40-59% Needs Work"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{children:"<40% Critical"})]})]})]})},la=({isOpen:t,onClose:o,onProceed:n,resumeData:c,exportOptions:i,format:m})=>{const r=a.useMemo(()=>{var F,I;const d=[];i.bodyTextSize>=11?d.push({category:"Font Size",passed:!0,message:"Body text is 11pt or larger (ATS-friendly)",severity:"success"}):d.push({category:"Font Size",passed:!1,message:`Body text is ${i.bodyTextSize}pt (recommended: 11pt+)`,severity:"warning"}),i.sectionHeaderSize>=13?d.push({category:"Header Size",passed:!0,message:"Section headers are 13pt or larger (ATS-friendly)",severity:"success"}):d.push({category:"Header Size",passed:!1,message:`Headers are ${i.sectionHeaderSize}pt (recommended: 13-14pt)`,severity:"warning"}),["Calibri","Arial","Times New Roman","Verdana"].includes(i.fontFamily)?d.push({category:"Font Family",passed:!0,message:`Using ${i.fontFamily} (ATS-friendly)`,severity:"success"}):d.push({category:"Font Family",passed:!1,message:`Using ${i.fontFamily} (may not be ATS-friendly)`,severity:"warning"}),i.layoutType==="ats-optimized"?d.push({category:"Layout",passed:!0,message:"Using ATS-Optimized layout with proper margins",severity:"success"}):d.push({category:"Layout",passed:!0,message:`Using ${i.layoutType} layout`,severity:"success"}),c.name&&c.email&&c.phone?d.push({category:"Contact Info",passed:!0,message:"All essential contact details present",severity:"success"}):d.push({category:"Contact Info",passed:!1,message:"Missing essential contact information",severity:"error"});let l=0;(F=c.workExperience)==null||F.forEach(h=>{var p;(p=h.bullets)==null||p.forEach(A=>{typeof A=="string"&&A.length>120&&l++})}),(I=c.projects)==null||I.forEach(h=>{var p;(p=h.bullets)==null||p.forEach(A=>{typeof A=="string"&&A.length>120&&l++})}),l===0?d.push({category:"Bullet Points",passed:!0,message:"All bullet points under 120 characters",severity:"success"}):d.push({category:"Bullet Points",passed:!1,message:`${l} bullet point(s) exceed 120 characters`,severity:"warning"});const k=JSON.stringify(c).toLowerCase(),v=["aws","azure","gcp","cloud"].some(h=>k.includes(h)),P=["agile","scrum","sdlc","ci/cd"].some(h=>k.includes(h));if(v&&P)d.push({category:"Keywords",passed:!0,message:"Contains cloud and methodology keywords",severity:"success"});else{const h=[];v||h.push("cloud platforms"),P||h.push("methodologies"),d.push({category:"Keywords",passed:!1,message:`Missing: ${h.join(", ")}`,severity:"warning"})}const N=d.filter(h=>h.passed).length,O=d.some(h=>h.severity==="error"),g=d.some(h=>!h.passed&&h.severity==="warning");return{items:d,passedCount:N,totalCount:d.length,percentage:Math.round(N/d.length*100),hasErrors:O,hasWarnings:g,canProceed:!O}},[c,i]);if(!t)return null;const f=(d,w)=>d==="error"?e.jsx(At,{className:"w-5 h-5 text-red-500"}):d==="warning"?e.jsx(Ce,{className:"w-5 h-5 text-yellow-500"}):w?e.jsx(B,{className:"w-5 h-5 text-green-500"}):e.jsx(Ce,{className:"w-5 h-5 text-yellow-500"});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-dark-100 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-dark-300",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"ATS Export Validation"}),e.jsx("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(Ee,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Validation Score"}),e.jsxs("span",{className:`text-2xl font-bold ${r.percentage>=85?"text-green-600":r.percentage>=70?"text-yellow-600":"text-red-600"}`,children:[r.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 dark:bg-dark-300",children:e.jsx("div",{className:`h-3 rounded-full transition-all ${r.percentage>=85?"bg-green-500":r.percentage>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${r.percentage}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[r.passedCount," of ",r.totalCount," checks passed"]})]})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-96",children:[e.jsx("div",{className:"space-y-3",children:r.items.map((d,w)=>e.jsx("div",{className:`p-4 rounded-lg border ${d.severity==="error"?"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-500/50":d.severity==="warning"?"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/20 dark:border-yellow-500/50":"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-500/50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[f(d.severity,d.passed),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-medium text-sm ${d.severity==="error"?"text-red-900 dark:text-red-300":d.severity==="warning"?"text-yellow-900 dark:text-yellow-300":"text-green-900 dark:text-green-300"}`,children:d.category}),e.jsx("p",{className:`text-xs mt-1 ${d.severity==="error"?"text-red-700 dark:text-red-400":d.severity==="warning"?"text-yellow-700 dark:text-yellow-400":"text-green-700 dark:text-green-400"}`,children:d.message})]})]})},w))}),r.hasErrors&&e.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-500/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-red-900 dark:text-red-300",children:"Critical Issues Found"}),e.jsx("p",{className:"text-xs text-red-700 dark:text-red-400 mt-1",children:"Please fix the errors above before exporting. These issues may prevent your resume from being parsed correctly by ATS systems."})]}),r.hasWarnings&&!r.hasErrors&&e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-500/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-900 dark:text-yellow-300",children:"Warnings Detected"}),e.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-400 mt-1",children:"Your resume can be exported, but addressing these warnings will improve ATS compatibility."})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-dark-300 bg-gray-50 dark:bg-dark-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:o,className:"flex-1 px-4 py-3 border border-gray-300 dark:border-dark-300 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-100 transition-colors font-medium",children:"Go Back"}),e.jsxs("button",{onClick:n,disabled:!r.canProceed,className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 ${r.canProceed?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 dark:bg-dark-300 text-gray-500 dark:text-gray-600 cursor-not-allowed"}`,children:[e.jsx(Ft,{className:"w-5 h-5"}),e.jsxs("span",{children:["Export ",m.toUpperCase()]})]})]})})]})})},na=({resumeData:t,userType:o="experienced",onExport:n,showInlinePreview:c=!0,onOptionsChange:i,initialOptions:m})=>{const[r,f]=a.useState(m||Ge),[d,w]=a.useState(null),[l,k]=a.useState(!1),[v,P]=a.useState(null);a.useEffect(()=>{m&&f(m)},[m]);const N=(h,p)=>{f(A=>{const $={...A,[h]:p};if(h==="layoutType"){const X=Rs[p];$.sectionSpacing=X.spacing.section,$.entrySpacing=X.spacing.entry}return i&&i($),$})},O=h=>{P(h),k(!0)},g=()=>{if(v){console.log("ðŸŸ¢ EXPORT SETTINGS - OPTIONS TO USE:",{fontFamily:r.fontFamily,nameSize:r.nameSize,bodyTextSize:r.bodyTextSize,sectionHeaderSize:r.sectionHeaderSize,paperSize:r.paperSize});try{n(r,v),w(`${v.toUpperCase()} export initiated successfully!`),k(!1),P(null),setTimeout(()=>{w(null)},3e3)}catch(h){console.error("Error during export:",h),w(`Error initiating ${v.toUpperCase()} export. Please try again.`),setTimeout(()=>{w(null)},5e3)}}},F=["Times New Roman","Arial","Verdana","Georgia","Calibri"],I=c?"grid grid-cols-1 lg:grid-cols-2":"grid grid-cols-1";return e.jsxs("div",{className:`${I} gap-6 h-full`,children:[e.jsxs("div",{className:"space-y-6 overflow-y-auto",children:[e.jsxs("div",{className:"card p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(Os,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-emerald-400"}),"Resume Template"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Layout Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(Rs).filter(([h])=>h==="standard").map(([h,p])=>e.jsxs("button",{onClick:()=>N("layoutType",h),className:`flex flex-col items-center p-4 rounded-lg border-2 transition-all bg-slate-800/50 ${r.layoutType===h?"border-emerald-500 bg-emerald-500/10":"border-slate-700/50 hover:border-emerald-500/30"}`,children:[e.jsx("div",{className:"w-20 h-28 bg-slate-700/50 rounded mb-2 flex items-center justify-center text-xs text-slate-400",children:p.name}),e.jsx("span",{className:"font-medium text-sm text-white",children:p.name}),e.jsx("span",{className:"text-xs text-slate-400 text-center",children:p.description}),p.recommended&&e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-1"}),e.jsx("span",{className:"text-xs text-emerald-400 font-medium",children:"â˜… ATS Optimized"})]})]},h))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Paper Size"}),e.jsx("div",{className:"space-y-2",children:Object.entries(Rt).map(([h,p])=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"paperSize",value:h,checked:r.paperSize===h,onChange:A=>N("paperSize",A.target.value),className:"form-radio h-4 w-4 text-emerald-500 focus:ring-emerald-500 bg-slate-800 border-slate-600"}),e.jsx("span",{className:"ml-3 text-sm text-slate-300",children:p.name}),h==="a4"&&e.jsxs("div",{className:"ml-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-1"}),e.jsx("span",{className:"text-xs text-emerald-400 font-medium",children:"â˜… Recommended"})]})]},h))})]})]}),e.jsxs("div",{className:"card p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(Ot,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-violet-400"}),"Font"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Font Family"}),e.jsx("select",{value:r.fontFamily,onChange:h=>N("fontFamily",h.target.value),className:"input-base",children:F.map(h=>e.jsx("option",{value:h,children:h},h))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Name"}),e.jsx("input",{type:"number",value:r.nameSize,onChange:h=>N("nameSize",parseFloat(h.target.value)),className:"input-base",min:"16",max:"30",step:"0.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Section Headers"}),e.jsx("input",{type:"number",value:r.sectionHeaderSize,onChange:h=>N("sectionHeaderSize",parseFloat(h.target.value)),className:"input-base",min:"8",max:"14",step:"0.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sub-Headers"}),e.jsx("input",{type:"number",value:r.subHeaderSize,onChange:h=>N("subHeaderSize",parseFloat(h.target.value)),className:"input-base",min:"8",max:"12",step:"0.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Body Text"}),e.jsx("input",{type:"number",value:r.bodyTextSize,onChange:h=>N("bodyTextSize",parseFloat(h.target.value)),className:"input-base",min:"8",max:"12",step:"0.5"})]})]})]})]}),e.jsxs("div",{className:"card p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(ta,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-cyan-400"}),"Spacing & Margins"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Section Spacing"}),e.jsx("input",{type:"range",value:r.sectionSpacing,onChange:h=>N("sectionSpacing",parseFloat(h.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-emerald-500",min:"0",max:"10",step:"0.5"}),e.jsxs("div",{className:"text-right text-sm text-slate-400",children:[r.sectionSpacing," mm"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Entry Spacing"}),e.jsx("input",{type:"range",value:r.entrySpacing,onChange:h=>N("entrySpacing",parseFloat(h.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-emerald-500",min:"0",max:"5",step:"0.25"}),e.jsxs("div",{className:"text-right text-sm text-slate-400",children:[r.entrySpacing," mm"]})]})]})]}),e.jsxs("div",{className:"card-surface p-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>O("pdf"),className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(Y,{className:"w-5 h-5"}),e.jsx("span",{children:"Download by PDF"})]}),e.jsxs("button",{onClick:()=>O("word"),className:"w-full btn-primary py-4 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center space-x-2 shadow-lg hover:shadow-neon-cyan",children:[e.jsx(Y,{className:"w-5 h-5"}),e.jsx("span",{children:"Download by Word(.docx)"})]})]}),d&&e.jsx("div",{className:`mt-4 p-3 rounded-lg border transition-all ${d.includes("Error")?"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-500/50 dark:text-red-300":"bg-green-50 border-green-200 text-green-800 dark:bg-neon-cyan-500/10 dark:border-neon-cyan-400/50 dark:text-neon-cyan-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[d.includes("Error")?e.jsx(le,{className:"w-4 h-4 flex-shrink-0"}):e.jsx(B,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:d})]})})]})]}),c&&e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 h-full flex flex-col",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(Os,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Live Preview"]}),e.jsx("div",{className:"flex-1 bg-slate-800/20 rounded-lg border border-slate-700/50 flex items-center justify-center p-4",style:{minHeight:"500px"},children:e.jsx("div",{className:"transform-gpu",style:{transform:"scale(0.5)",transformOrigin:"top center"},children:e.jsx(Pe,{resumeData:t,userType:o,exportOptions:r,showControls:!1,defaultZoom:.98})})}),e.jsx("div",{className:"mt-3 text-xs text-slate-500 text-center",children:"Preview updates as you change settings"})]}),e.jsx(la,{isOpen:l,onClose:()=>{k(!1),P(null)},onProceed:g,resumeData:t,exportOptions:r,format:v||"pdf"})]})},ia=({resumeText:t,jobDescription:o,onResumeChange:n,onJobDescriptionChange:c})=>{const i=o.length>=250;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Y,{className:"w-5 h-5 text-cyan-400"}),e.jsx("h3",{className:"text-base font-semibold text-slate-200",children:"Resume Content"}),e.jsx("span",{className:"px-2 py-0.5 bg-cyan-500/20 text-cyan-300 text-xs rounded-full font-medium",children:"Required"})]}),e.jsx("textarea",{value:t,onChange:m=>n(m.target.value),placeholder:"Your resume content will appear here after uploading a file, or you can type/paste it directly...",className:"input-base h-40 resize-none"}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("div",{className:"text-xs text-slate-500",children:[t.length.toLocaleString()," characters"]}),t.length>0&&e.jsxs("div",{className:"flex items-center gap-1 text-emerald-400 text-xs",children:[e.jsx(B,{className:"w-3 h-3"}),"Content loaded"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(qe,{className:"w-5 h-5 text-emerald-400"}),e.jsx("h3",{className:"text-base font-semibold text-slate-200",children:"Target Job Description"}),e.jsx("span",{className:"px-2 py-0.5 bg-emerald-500/20 text-emerald-300 text-xs rounded-full font-medium",children:"Required"})]}),e.jsx("textarea",{value:o,onChange:m=>c(m.target.value),placeholder:"Paste the complete job description here. Enter a minimum of 250 characters for best optimization results...",className:"input-base h-40 resize-none"}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("div",{className:`text-xs ${i?"text-slate-500":"text-amber-400"}`,children:[o.length.toLocaleString()," / 250 characters minimum"]}),i&&e.jsxs("div",{className:"flex items-center gap-1 text-emerald-400 text-xs",children:[e.jsx(B,{className:"w-3 h-3"}),"Job details added"]})]})]}),e.jsx("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(le,{className:"w-5 h-5 text-cyan-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-slate-200 mb-2",children:"ðŸ’¡ Tips for better optimization:"}),e.jsxs("ul",{className:"text-slate-400 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Include the complete job posting with requirements and responsibilities"}),e.jsx("li",{children:"Make sure your resume content is comprehensive and up-to-date"}),e.jsx("li",{children:"The more detailed the job description, the better the optimization"}),e.jsx("li",{children:"Include specific skills, technologies, and qualifications mentioned in the job"})]})]})]})})]})},oa=({extractionResult:t,setExtractionResult:o,jobDescription:n,setJobDescription:c,targetRole:i,setTargetRole:m,userType:r,setUserType:f,scoringMode:d,setScoringMode:w,autoScoreOnUpload:l,setAutoScoreOnUpload:k,handleOptimize:v,isAuthenticated:P,onShowAuth:N,user:O,onShowProfile:g,onParsedResume:F,onShowSubscriptionPlans:I,onCreditCheckPassed:h})=>{const[p,A]=a.useState(0),$=[{id:"upload",title:"Upload Resume",icon:e.jsx(Ms,{className:"w-5 h-5"}),component:e.jsxs("div",{className:"card-surface p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(Ms,{className:"w-5 h-5 text-emerald-400"}),"Upload Resume"]}),e.jsx(Bt,{onFileUpload:o,onParsedResume:F,isAuthenticated:P,onShowAuth:N,requireAuth:!0,userId:O==null?void 0:O.id,creditType:"optimization",onShowSubscriptionPlans:I,onCreditCheckPassed:h})]}),isValid:t.text.trim().length>0},{id:"details",title:"Job Details",icon:e.jsx(Y,{className:"w-5 h-5"}),component:e.jsxs("div",{className:"card-surface p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-cyan-400"}),"Job Details"]}),e.jsx(ia,{resumeText:t.text,jobDescription:n,onResumeChange:z=>o({...t,text:z}),onJobDescriptionChange:c})]}),isValid:t.text.trim().length>0&&n.trim().length>=250},{id:"role",title:"Target Role",icon:e.jsx(ee,{className:"w-5 h-5"}),component:e.jsxs("div",{className:"card-surface p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-purple-400"}),"Target Role",e.jsx("span",{className:"text-xs text-slate-500 font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Role Title"}),e.jsx("input",{type:"text",value:i,onChange:z=>m(z.target.value),placeholder:"e.g., Senior Software Engineer, Product Manager...",className:"input-base"}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Specify the exact role title for more targeted optimization"})]}),e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full mt-2 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-slate-300",children:[e.jsx("p",{className:"font-medium mb-1 text-slate-200",children:"ðŸ“ Profile Information"}),e.jsx("p",{className:"text-slate-400",children:"Your name, email, phone, LinkedIn, and GitHub details will be automatically populated from your profile settings."})]})]}),P&&O&&e.jsxs("button",{onClick:()=>g("profile"),className:"mt-4 w-full flex items-center justify-center gap-2 btn-secondary py-3 px-6 rounded-xl text-sm",children:[e.jsx(sa,{className:"w-4 h-4"}),e.jsx("span",{children:"Update Your Details"})]})]})]})]}),isValid:!0},{id:"experience",title:"Experience Level",icon:e.jsx(Be,{className:"w-5 h-5"}),component:e.jsxs("div",{className:"card-surface p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(Be,{className:"w-5 h-5 text-indigo-400"}),"Experience Level"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>f("student"),className:`flex flex-col items-center justify-center p-5 rounded-xl border-2 transition-all cursor-pointer ${r==="student"?"border-emerald-500 bg-emerald-500/10 shadow-emerald-glow":"border-slate-700 hover:border-emerald-500/50 hover:bg-slate-800/50"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 ${r==="student"?"bg-emerald-500/20":"bg-slate-800"}`,children:e.jsx(Ie,{className:`w-6 h-6 ${r==="student"?"text-emerald-400":"text-slate-400"}`})}),e.jsx("span",{className:`font-semibold mb-1 ${r==="student"?"text-emerald-400":"text-slate-200"}`,children:"Student"}),e.jsx("span",{className:"text-xs text-slate-400 text-center",children:"Currently pursuing degree"})]}),e.jsxs("button",{onClick:()=>f("fresher"),className:`flex flex-col items-center justify-center p-5 rounded-xl border-2 transition-all cursor-pointer ${r==="fresher"?"border-emerald-500 bg-emerald-500/10 shadow-emerald-glow":"border-slate-700 hover:border-emerald-500/50 hover:bg-slate-800/50"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 ${r==="fresher"?"bg-emerald-500/20":"bg-slate-800"}`,children:e.jsx(Ie,{className:`w-6 h-6 ${r==="fresher"?"text-emerald-400":"text-slate-400"}`})}),e.jsx("span",{className:`font-semibold mb-1 ${r==="fresher"?"text-emerald-400":"text-slate-200"}`,children:"Fresher"}),e.jsx("span",{className:"text-xs text-slate-400 text-center",children:"Recent graduate"})]}),e.jsxs("button",{onClick:()=>f("experienced"),className:`flex flex-col items-center justify-center p-5 rounded-xl border-2 transition-all cursor-pointer ${r==="experienced"?"border-emerald-500 bg-emerald-500/10 shadow-emerald-glow":"border-slate-700 hover:border-emerald-500/50 hover:bg-slate-800/50"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 ${r==="experienced"?"bg-emerald-500/20":"bg-slate-800"}`,children:e.jsx(qe,{className:`w-6 h-6 ${r==="experienced"?"text-emerald-400":"text-slate-400"}`})}),e.jsx("span",{className:`font-semibold mb-1 ${r==="experienced"?"text-emerald-400":"text-slate-200"}`,children:"Experienced"}),e.jsx("span",{className:"text-xs text-slate-400 text-center",children:"1+ years experience"})]})]}),e.jsxs("div",{className:"mt-6 bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Why does this matter?"}),e.jsxs("ul",{className:"text-sm text-slate-400 space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-emerald-400",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-slate-300",children:"Student:"})," Prioritizes Education, Skills, and Projects"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-emerald-400",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-slate-300",children:"Fresher:"})," Emphasizes Skills and Projects before Education"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-emerald-400",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-slate-300",children:"Experienced:"})," Highlights Work Experience and Projects"]})]})]})]})]}),isValid:!0},{id:"optimize",title:"Optimize",icon:e.jsx(re,{className:"w-5 h-5"}),component:e.jsxs("div",{className:"card-surface p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-amber-400"}),"Ready to Optimize"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-5 border border-slate-700/50",children:[e.jsx("h3",{className:"text-base font-semibold text-slate-200 mb-4",children:"Review Your Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(B,{className:"w-4 h-4 text-emerald-400"}),e.jsx("span",{className:"font-medium text-slate-200 text-sm",children:"Resume Uploaded"})]}),e.jsxs("p",{className:"text-slate-400 text-sm",children:[t.text.length.toLocaleString()," characters"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(B,{className:"w-4 h-4 text-emerald-400"}),e.jsx("span",{className:"font-medium text-slate-200 text-sm",children:"Job Description"})]}),e.jsxs("p",{className:"text-slate-400 text-sm",children:[n.length.toLocaleString()," characters"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ie,{className:"w-4 h-4 text-cyan-400"}),e.jsx("span",{className:"font-medium text-slate-200 text-sm",children:"Experience Level"})]}),e.jsx("p",{className:"text-slate-400 text-sm capitalize",children:r==="student"?"College Student":r})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ee,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"font-medium text-slate-200 text-sm",children:"Target Role"})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:i||"Not specified"})]})]})]}),e.jsxs("button",{onClick:z=>{z.preventDefault(),z.stopPropagation(),P?v():N()},disabled:!t.text.trim()||d==="jd_based"&&(!n.trim()||!i.trim()),className:`w-full py-4 px-6 rounded-xl font-bold text-base transition-all duration-300 flex items-center justify-center gap-3 ${!t.text.trim()||d==="jd_based"&&(!n.trim()||!i.trim())?"bg-slate-700 cursor-not-allowed text-slate-400":"btn-primary shadow-emerald-glow hover:shadow-emerald-glow-lg"}`,type:"button",children:[e.jsx(re,{className:"w-5 h-5"}),e.jsx("span",{children:P?"Optimize My Resume":"Sign In to Optimize"}),e.jsx($s,{className:"w-5 h-5"})]}),!P&&e.jsx("p",{className:"text-center text-sm text-slate-500",children:"You need to be signed in to optimize your resume."})]})]}),isValid:t.text.trim().length>0&&(d==="general"||n.trim().length>0&&i.trim().length>0)}],X=()=>{p<$.length-1&&A(p+1)},u=()=>{p>0&&A(p-1)},E=$[p];return e.jsxs("div",{className:"container-responsive space-y-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"card-surface p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-xl font-bold text-slate-100",children:"Resume Optimization"}),e.jsxs("div",{className:"text-sm text-slate-400",children:["Step ",p+1," of ",$.length]})]}),e.jsx("div",{className:"flex items-center justify-between",children:$.map((z,R)=>e.jsxs(St.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${R<p?"bg-emerald-500 text-white":R===p?"bg-gradient-to-r from-emerald-500 to-cyan-500 text-white shadow-neon-cyan":"bg-slate-800 text-slate-500 border border-slate-700"}`,children:R<p?e.jsx(B,{className:"w-5 h-5"}):z.icon}),e.jsx("span",{className:`text-xs mt-2 font-medium text-center hidden sm:block ${R<=p?"text-slate-200":"text-slate-500"}`,children:z.title})]}),R<$.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 rounded-full transition-all duration-300 ${R<p?"bg-emerald-500":"bg-slate-700"}`})]},z.id))})]}),e.jsx("div",{className:"transition-all duration-300 animate-fade-in",children:E.component}),e.jsx("div",{className:"card-surface p-5",children:e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsxs("button",{onClick:u,disabled:p===0,className:`flex items-center gap-2 px-5 py-3 rounded-xl font-semibold transition-all duration-300 ${p===0?"bg-slate-800 text-slate-500 cursor-not-allowed":"btn-secondary"}`,children:[e.jsx(Ue,{className:"w-4 h-4"}),e.jsx("span",{children:"Previous"})]}),e.jsxs("div",{className:"flex-1 max-w-xs",children:[e.jsx("div",{className:"text-center text-sm text-slate-400 mb-2",children:"Progress"}),e.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-cyan-500 h-2 rounded-full transition-all duration-300",style:{width:`${(p+1)/$.length*100}%`}})})]}),p<$.length-1?e.jsxs("button",{onClick:X,disabled:!E.isValid,className:`flex items-center gap-2 px-5 py-3 rounded-xl font-semibold transition-all duration-300 ${E.isValid?"btn-primary":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:[e.jsx("span",{children:"Next"}),e.jsx($s,{className:"w-4 h-4"})]}):e.jsx("div",{className:"w-24"})]})})]})},ca=({resumeData:t,userType:o="experienced",targetRole:n,onShowProfile:c,walletRefreshKey:i,exportOptions:m=Ge})=>{const[r,f]=a.useState(!1),[d,w]=a.useState(!1),[l,k]=a.useState({type:null,status:null,message:""}),v=async()=>{if(!(r||d)){f(!0),k({type:null,status:null,message:""});try{await Ws(t,o,m),k({type:"pdf",status:"success",message:"PDF exported successfully!"}),setTimeout(()=>{k({type:null,status:null,message:""})},3e3)}catch(N){console.error("PDF export failed:",N),k({type:"pdf",status:"error",message:"PDF export failed. Please try again."}),setTimeout(()=>{k({type:null,status:null,message:""})},5e3)}finally{f(!1)}}},P=async()=>{if(!(d||r)){w(!0),k({type:null,status:null,message:""});try{await Bs(t,o),k({type:"word",status:"success",message:"Word document exported successfully!"}),setTimeout(()=>{k({type:null,status:null,message:""})},3e3)}catch(N){console.error("Word export failed:",N),k({type:"word",status:"error",message:"Word export failed. Please try again."}),setTimeout(()=>{k({type:null,status:null,message:""})},5e3)}finally{w(!1)}}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:v,disabled:r||d,className:`flex-1 py-3 px-5 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 ${r||d?"bg-slate-700 cursor-not-allowed text-slate-400":"bg-red-500 hover:bg-red-600 text-white shadow-lg hover:shadow-red-glow"}`,children:r?e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Exporting PDF..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"w-5 h-5"}),e.jsx("span",{children:"Download PDF"})]})}),e.jsx("button",{onClick:P,disabled:d||r,className:`flex-1 py-3 px-5 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 ${d||r?"bg-slate-700 cursor-not-allowed text-slate-400":"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-400 hover:to-cyan-400 text-white shadow-lg hover:shadow-emerald-glow"}`,children:d?e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Exporting Word..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"w-5 h-5"}),e.jsx("span",{children:"Download Word"})]})})]}),l.status&&e.jsx("div",{className:`p-4 rounded-xl border transition-all ${l.status==="success"?"bg-emerald-500/10 border-emerald-500/30 text-emerald-300":"bg-red-500/10 border-red-500/30 text-red-300"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[l.status==="success"?e.jsx(B,{className:"w-5 h-5 flex-shrink-0"}):e.jsx(le,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:l.message})]})})]})},da=({zoom:t,onZoomIn:o,onZoomOut:n,onFitWidth:c,onFullScreen:i,minZoom:m,maxZoom:r})=>e.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 px-4 py-3 border-b border-slate-700/50 rounded-t-xl",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Preview Controls"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:n,disabled:t<=m,className:"p-2 rounded-lg hover:bg-slate-700/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Zoom Out",children:e.jsx(Js,{className:"w-4 h-4 text-slate-300"})}),e.jsx("div",{className:"px-3 py-1 bg-slate-900/50 rounded-lg border border-slate-700/50 min-w-[60px] text-center",children:e.jsxs("span",{className:"text-sm font-medium text-slate-300",children:[Math.round(t*100),"%"]})}),e.jsx("button",{onClick:o,disabled:t>=r,className:"p-2 rounded-lg hover:bg-slate-700/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Zoom In",children:e.jsx(Us,{className:"w-4 h-4 text-slate-300"})}),e.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),e.jsx("button",{onClick:c,className:"px-3 py-2 rounded-lg hover:bg-slate-700/50 transition-colors",title:"Fit to Width",children:e.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Fit"})}),e.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-slate-700/50 transition-colors",title:"Full Screen",children:e.jsx(qt,{className:"w-4 h-4 text-slate-300"})})]})]}),ma=({isOpen:t,onClose:o,resumeData:n,userType:c,exportOptions:i})=>{const[m,r]=a.useState(1.8);if(!t)return null;const f=()=>{r(l=>Math.min(l+.1,2))},d=()=>{r(l=>Math.max(l-.1,.98))},w=l=>{l.target===l.currentTarget&&o()};return e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4 backdrop-blur-sm",onClick:w,children:e.jsxs("div",{className:"bg-white dark:bg-dark-100 rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-dark-200 px-6 py-4 border-b border-gray-200 dark:border-dark-300",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Full Screen Preview"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:d,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-300 transition-colors",title:"Zoom Out",children:e.jsx(Js,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),e.jsx("div",{className:"px-3 py-1 bg-white dark:bg-dark-100 rounded-lg border border-gray-200 dark:border-dark-300 min-w-[70px] text-center",children:e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[Math.round(m*100),"%"]})}),e.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-300 transition-colors",title:"Zoom In",children:e.jsx(Us,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]}),e.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-300 transition-colors",children:e.jsx(Ee,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto bg-gray-100 dark:bg-dark-50 p-8",children:e.jsx("div",{className:"mx-auto transition-transform duration-200",style:{transform:`scale(${m})`,transformOrigin:"top center"},children:e.jsx(Pe,{resumeData:n,userType:c,exportOptions:i})})})]})})},xa=async t=>{if(!t||t.trim().length<50)return console.warn("Job description too short for summarization."),"";try{return(await Ht.summarize(t,"medium")).trim()}catch(o){return console.error("EdenAI JD Summarization error:",o),""}},ha={high_match:1,medium_match:.7,low_match:.4},Zs=t=>{const o=t.toLowerCase(),n=[/\b(javascript|typescript|python|java|c\+\+|c#|ruby|go|rust|php|swift|kotlin|scala|r)\b/gi,/\b(react|angular|vue|svelte|next\.?js|nuxt|gatsby|html5?|css3?|sass|less|tailwind|bootstrap)\b/gi,/\b(node\.?js|express|django|flask|fastapi|spring|\.net|rails|laravel|nest\.?js)\b/gi,/\b(sql|mysql|postgresql|postgres|mongodb|redis|elasticsearch|dynamodb|oracle|sqlite|cassandra)\b/gi,/\b(aws|azure|gcp|google cloud|heroku|vercel|netlify|digitalocean)\b/gi,/\b(docker|kubernetes|k8s|jenkins|terraform|ansible|ci\/cd|github actions|gitlab)\b/gi,/\b(tensorflow|pytorch|keras|scikit-learn|pandas|numpy|machine learning|deep learning|nlp)\b/gi],c=new Set;for(const v of n){const P=t.match(v);P&&P.forEach(N=>c.add(N.toLowerCase()))}const i=[/\b(develop|design|implement|build|create|architect|optimize|maintain|deploy|test|debug)\b/gi,/\b(lead|manage|coordinate|collaborate|mentor|review|analyze|integrate|automate)\b/gi],m=new Set;for(const v of i){const P=t.match(v);P&&P.forEach(N=>m.add(N.toLowerCase()))}const r={fintech:["fintech","banking","payment","financial","trading"],healthcare:["healthcare","medical","health","clinical"],ecommerce:["ecommerce","e-commerce","retail","shopping"],ai_ml:["machine learning","ai","deep learning","data science"],cloud:["cloud","infrastructure","devops","platform"],gaming:["gaming","game","entertainment"],edtech:["education","edtech","learning"]},f=new Set;for(const[v,P]of Object.entries(r))for(const N of P)o.includes(N)&&f.add(v);const d=/\b(git|jira|confluence|slack|figma|postman|swagger|grafana|prometheus|datadog)\b/gi,w=new Set,l=t.match(d);l&&l.forEach(v=>w.add(v.toLowerCase()));const k=[...Array.from(c),...Array.from(m),...Array.from(f),...Array.from(w)];return{techSkills:Array.from(c),responsibilities:Array.from(m),domains:Array.from(f),tools:Array.from(w),rawKeywords:k}},ua=t=>!t.projects||t.projects.length===0?[]:t.projects.map(o=>{const n=pa(o.bullets),c=o.bullets.join(" ");return{name:o.title,description:c,techStack:n}}),pa=t=>{const o=new Set,n=t.join(" "),c=n.match(/tech(?:nologies?)?\s*(?:used|stack)?[:\s]+([^.]+)/i);c&&c[1].split(/[,;|]+/).map(f=>f.trim()).filter(f=>f.length>1).forEach(f=>o.add(f.toLowerCase()));const i=/\b(react|angular|vue|node\.?js|express|python|java|typescript|javascript|mongodb|mysql|postgresql|aws|docker|kubernetes|redis|graphql|rest\s?api)\b/gi,m=n.match(i);return m&&m.forEach(r=>o.add(r.toLowerCase())),Array.from(o)},ga=(t,o)=>{let n=0;const c=`${t.name} ${t.description} ${t.techStack.join(" ")}`.toLowerCase();for(const i of o.techSkills)c.includes(i.toLowerCase())&&(n+=2);for(const i of o.responsibilities)c.includes(i.toLowerCase())&&(n+=1);for(const i of o.domains)c.includes(i.toLowerCase())&&(n+=3);for(const i of o.tools)c.includes(i.toLowerCase())&&(n+=1);return n},fa=async(t,o)=>{const n=new Map;return t.length===0,n},ba=(t,o)=>{const n=t.techStack.map(i=>i.toLowerCase()),c=`${t.name} ${t.description}`.toLowerCase();return o.techSkills.filter(i=>{const m=i.toLowerCase();return!n.includes(m)&&!c.includes(m)})},ja=(t,o)=>{const n=t.techStack.map(i=>i.toLowerCase()),c=`${t.name} ${t.description}`.toLowerCase();return o.techSkills.filter(i=>{const m=i.toLowerCase();return n.includes(m)||c.includes(m)})},ya=(t,o,n)=>{const c=[];return n<50&&c.push(`Consider adding ${o.slice(0,3).join(", ")} to strengthen JD alignment`),t.techStack.length<3&&c.push("Add more technologies to the Tech Used section"),t.description.length<100&&c.push("Expand project description with quantifiable achievements"),o.length>5&&c.push("This project may not be the best fit for this JD - consider highlighting other projects"),c},Na=async(t,o,n)=>{const c=Zs(o),i=ua(t);if(i.length===0)return[];const m=new Map;for(const d of i){const w=ga(d,c);m.set(d.name,w)}const r=await fa(i,n||o.slice(0,500)),f=[];for(const d of i){const w=m.get(d.name)||0,l=r.get(d.name),k=l?ha[l]:.7,v=w*k,P=c.techSkills.length*2+c.responsibilities.length*1+c.domains.length*3+c.tools.length*1,N=P>0?Math.min(100,Math.round(v/P*100*2)):0,O=ba(d,c),g=ja(d,c),F=ya(d,O,N);f.push({project:d,baseScore:w,aiLabel:l,finalScore:v,matchPercentage:N,missingSkills:O,matchedSkills:g,recommendations:F})}return f.sort((d,w)=>w.finalScore-d.finalScore),f},wa=t=>{const o=[],n=t.techSkills.slice(0,6);n.length>=2&&o.push(n.slice(0,3).join(" ")),n.length>=4&&o.push(n.slice(2,5).join(" "));for(const c of t.domains.slice(0,2)){const i=`${c} ${n[0]||"project"}`;o.push(i)}return t.tools.length>0&&n.length>0&&o.push(`${n[0]} ${t.tools[0]}`),o.length===0&&t.rawKeywords.length>0&&o.push(t.rawKeywords.slice(0,3).join(" ")),o.slice(0,3)},va=async(t,o=5)=>{try{return(await Dt.searchRepos(t,{sort:"stars",order:"desc",perPage:o})).items||[]}catch(n){return console.error("GitHub search error:",n),[]}},ka=t=>{const o=t.stargazers_count,n=t.forks_count,c=t.open_issues_count;return o>1e4||n>2e3||c>500?"advanced":o>1e3||n>200||c>50?"intermediate":"beginner"},Sa=(t,o)=>{const n=[],c=`${t.name} ${t.description||""} ${t.language||""} ${(t.topics||[]).join(" ")}`.toLowerCase();for(const m of o.techSkills)c.includes(m.toLowerCase())&&n.push(m);if(t.language){const m=t.language.toLowerCase();for(const r of o.techSkills)(m.includes(r.toLowerCase())||r.toLowerCase().includes(m))&&(n.includes(r)||n.push(r))}let i="";n.length>0?i=`Matches JD skills: ${n.slice(0,4).join(", ")}`:t.language?i=`Built with ${t.language}`:i="Relevant project structure";for(const m of o.domains)if(c.includes(m.toLowerCase())){i+=` â€¢ ${m} domain`;break}return{reason:i,matchedSkills:n}},Ca=async t=>{const o=wa(t);if(o.length===0)return console.warn("No search queries could be generated from JD keywords"),[];const n=[],c=new Set;for(const m of o){const r=await va(m,5);for(const f of r)c.has(f.html_url)||(c.add(f.html_url),n.push(f));await new Promise(f=>setTimeout(f,100))}const i=n.map(m=>{const{reason:r,matchedSkills:f}=Sa(m,t);return{name:m.name,url:m.html_url,description:m.description||"No description available",stars:m.stargazers_count,language:m.language,topics:m.topics||[],reason:r,difficulty:ka(m),matchedSkills:f}});return i.sort((m,r)=>r.matchedSkills.length!==m.matchedSkills.length?r.matchedSkills.length-m.matchedSkills.length:r.stars-m.stars),i.slice(0,5)},Is=t=>{const o=[],n=t.techSkills,c=t.domains,i=[{pattern:["react","typescript"],name:"Task Management Dashboard",description:"Build a Kanban-style task management app with drag-and-drop, user authentication, and real-time updates.",difficulty:"intermediate"},{pattern:["node","express","mongodb"],name:"RESTful API Service",description:"Create a production-ready REST API with authentication, rate limiting, and comprehensive documentation.",difficulty:"intermediate"},{pattern:["python","machine learning"],name:"ML Model Pipeline",description:"Build an end-to-end ML pipeline with data preprocessing, model training, and API deployment.",difficulty:"advanced"},{pattern:["aws","docker"],name:"Microservices Architecture",description:"Design and deploy a microservices-based application with containerization and cloud deployment.",difficulty:"advanced"},{pattern:["sql","postgresql"],name:"Analytics Dashboard",description:"Build a data analytics dashboard with complex SQL queries, data visualization, and reporting.",difficulty:"intermediate"}];for(const m of i)m.pattern.filter(f=>n.some(d=>d.toLowerCase().includes(f)||f.includes(d.toLowerCase()))).length>0&&o.push({name:m.name,url:"",description:m.description,stars:0,language:n[0]||null,topics:n.slice(0,5),reason:`Matches JD skills: ${n.slice(0,3).join(", ")}`,difficulty:m.difficulty,matchedSkills:n.slice(0,4)});return c.includes("fintech")&&o.push({name:"Payment Gateway Integration",url:"",description:"Build a secure payment processing system with Stripe/PayPal integration and transaction management.",stars:0,language:n[0]||"JavaScript",topics:["fintech","payments",...n.slice(0,3)],reason:"FinTech domain project",difficulty:"advanced",matchedSkills:n.slice(0,3)}),c.includes("ecommerce")&&o.push({name:"E-commerce Platform",url:"",description:"Full-featured e-commerce site with product catalog, cart, checkout, and order management.",stars:0,language:n[0]||"JavaScript",topics:["ecommerce","shopping",...n.slice(0,3)],reason:"E-commerce domain project",difficulty:"intermediate",matchedSkills:n.slice(0,3)}),o.slice(0,5)},Pa=({isOpen:t,onClose:o,resumeData:n,jobDescription:c,jdSummary:i,onContinue:m})=>{const[r,f]=a.useState(!1),[d,w]=a.useState([]),[l,k]=a.useState([]),[v,P]=a.useState(null),[N,O]=a.useState(null),[g,F]=a.useState(!1),[I,h]=a.useState(null);a.useEffect(()=>{t&&n&&c&&p()},[t,n,c]);const p=async()=>{f(!0),h(null);try{const u=Zs(c);P(u);const E=await Na(n,c,i);w(E);try{const z=await Ca(u);if(z.length>0)k(z);else{const R=Is(u);k(R)}}catch(z){console.warn("GitHub suggestions failed, using generated ideas:",z);const R=Is(u);k(R)}}catch(u){console.error("Project analysis error:",u),h(u.message||"Failed to analyze projects")}finally{f(!1)}},A=u=>u>=70?"text-emerald-400":u>=50?"text-amber-400":"text-red-400",$=u=>u>=70?"bg-emerald-500/10 border-emerald-500/30":u>=50?"bg-amber-500/10 border-amber-500/30":"bg-red-500/10 border-red-500/30",X=u=>{switch(u){case"beginner":return"text-emerald-400 bg-emerald-500/10";case"intermediate":return"text-amber-400 bg-amber-500/10";case"advanced":return"text-red-400 bg-red-500/10";default:return"text-slate-400 bg-slate-500/10"}};return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700 bg-slate-800/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center",children:e.jsx(ee,{className:"w-5 h-5 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Project-JD Match Analysis"}),e.jsx("p",{className:"text-sm text-slate-400",children:"See how your projects align with the job requirements"})]})]}),e.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-slate-700 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5 text-slate-400"})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-140px)] p-4 space-y-6",children:r?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(We,{className:"w-8 h-8 text-emerald-400 animate-spin mb-4"}),e.jsx("p",{className:"text-slate-400",children:"Analyzing your projects against the JD..."})]}):I?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ce,{className:"w-12 h-12 text-amber-400 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-300",children:I}),e.jsx("button",{onClick:p,className:"mt-4 px-4 py-2 bg-emerald-500/20 text-emerald-400 rounded-lg hover:bg-emerald-500/30 transition-colors",children:"Try Again"})]}):e.jsxs(e.Fragment,{children:[v&&v.techSkills.length>0&&e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700",children:[e.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-3 flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4 text-cyan-400"}),"Key Skills from JD"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.techSkills.slice(0,12).map((u,E)=>e.jsx("span",{className:"px-2 py-1 text-xs rounded-md bg-cyan-500/10 text-cyan-300 border border-cyan-500/30",children:u},E))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-3 flex items-center gap-2",children:[e.jsx(Se,{className:"w-4 h-4 text-emerald-400"}),"Your Projects Ranked by JD Match"]}),d.length===0?e.jsxs("div",{className:"text-center py-6 bg-slate-800/30 rounded-xl border border-slate-700",children:[e.jsx(Ce,{className:"w-8 h-8 text-amber-400 mx-auto mb-2"}),e.jsx("p",{className:"text-slate-400",children:"No projects found in your resume"})]}):e.jsx("div",{className:"space-y-3",children:d.map((u,E)=>e.jsxs("div",{className:`rounded-xl border transition-all ${$(u.matchPercentage)}`,children:[e.jsxs("button",{onClick:()=>O(N===u.project.name?null:u.project.name),className:"w-full p-4 flex items-center justify-between text-left",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-lg font-bold text-slate-500",children:["#",E+1]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white",children:u.project.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.aiLabel&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${u.aiLabel==="high_match"?"bg-emerald-500/20 text-emerald-300":u.aiLabel==="medium_match"?"bg-amber-500/20 text-amber-300":"bg-red-500/20 text-red-300"}`,children:u.aiLabel.replace("_"," ")}),e.jsxs("span",{className:"text-xs text-slate-500",children:[u.matchedSkills.length," skills matched"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:`text-2xl font-bold ${A(u.matchPercentage)}`,children:[u.matchPercentage,"%"]}),N===u.project.name?e.jsx(Fs,{className:"w-5 h-5 text-slate-400"}):e.jsx(Ls,{className:"w-5 h-5 text-slate-400"})]})]}),N===u.project.name&&e.jsxs("div",{className:"px-4 pb-4 space-y-3 border-t border-slate-700/50 pt-3",children:[u.matchedSkills.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Matched Skills:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:u.matchedSkills.map((z,R)=>e.jsxs("span",{className:"px-2 py-0.5 text-xs rounded bg-emerald-500/20 text-emerald-300",children:[e.jsx(B,{className:"w-3 h-3 inline mr-1"}),z]},R))})]}),u.missingSkills.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Missing from JD:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[u.missingSkills.slice(0,8).map((z,R)=>e.jsx("span",{className:"px-2 py-0.5 text-xs rounded bg-amber-500/10 text-amber-300",children:z},R)),u.missingSkills.length>8&&e.jsxs("span",{className:"px-2 py-0.5 text-xs rounded bg-slate-700 text-slate-400",children:["+",u.missingSkills.length-8," more"]})]})]}),u.recommendations.length>0&&e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[e.jsxs("p",{className:"text-xs text-slate-500 mb-2 flex items-center gap-1",children:[e.jsx(Yt,{className:"w-3 h-3"}),"Recommendations:"]}),e.jsx("ul",{className:"space-y-1",children:u.recommendations.map((z,R)=>e.jsxs("li",{className:"text-xs text-slate-300",children:["â€¢ ",z]},R))})]})]})]},u.project.name))})]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>F(!g),className:"w-full flex items-center justify-between p-3 bg-slate-800/50 rounded-xl border border-slate-700 hover:bg-slate-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mt,{className:"w-5 h-5 text-slate-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-sm font-medium text-white",children:"Recommended Projects for This JD"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Inspiration projects to build (not your existing work)"})]})]}),g?e.jsx(Fs,{className:"w-5 h-5 text-slate-400"}):e.jsx(Ls,{className:"w-5 h-5 text-slate-400"})]}),g&&e.jsxs("div",{className:"mt-3 space-y-3",children:[l.length===0?e.jsx("p",{className:"text-center text-slate-500 py-4",children:"No suggestions available"}):l.map((u,E)=>e.jsxs("div",{className:"bg-slate-800/30 rounded-xl p-4 border border-slate-700 hover:border-slate-600 transition-colors",children:[e.jsx("div",{className:"flex items-start justify-between gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-white",children:u.name}),u.url&&e.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-emerald-400 transition-colors",children:e.jsx(Xt,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-slate-400 mb-2 line-clamp-2",children:u.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.language&&e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-700 text-slate-300",children:u.language}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${X(u.difficulty)}`,children:u.difficulty}),u.stars>0&&e.jsxs("span",{className:"text-xs text-amber-400 flex items-center gap-1",children:[e.jsx(Kt,{className:"w-3 h-3 fill-current"}),u.stars.toLocaleString()]})]})]})}),e.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700/50",children:e.jsxs("p",{className:"text-xs text-emerald-400",children:[e.jsx(re,{className:"w-3 h-3 inline mr-1"}),u.reason]})})]},E)),e.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-amber-300 flex items-start gap-2",children:[e.jsx(Et,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"These are inspiration projects to help you build relevant experience. Do not claim these as your own work on your resume."})]})})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-slate-700 bg-slate-800/50",children:[e.jsx("button",{onClick:o,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Close"}),e.jsxs("button",{onClick:m,disabled:r,className:"px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:["Continue to Optimization",e.jsx(re,{className:"w-4 h-4"})]})]})]})}):null},_s=5e4,Pr=({isAuthenticated:t,onShowAuth:o,onShowProfile:n,onNavigateBack:c,userSubscription:i,refreshUserSubscription:m,onShowPlanSelection:r,onShowSubscriptionPlansDirectly:f,toolProcessTrigger:d,setToolProcessTrigger:w})=>{var Ts;const{user:l,revalidateUserSession:k}=zt(),{isChristmasMode:v,colors:P}=Tt(),N=Ct(),g=Pt().state,F=g==null?void 0:g.jobId,[I,h]=a.useState({text:"",extraction_mode:"TEXT",trimmed:!1}),[p,A]=a.useState((g==null?void 0:g.jobDescription)||""),[$,X]=a.useState((g==null?void 0:g.roleTitle)||""),u=a.useRef(p);a.useEffect(()=>{u.current=p},[p]);const[E,z]=a.useState("fresher"),[R,qs]=a.useState("general"),[Gs,Hs]=a.useState(!0),[M,He]=a.useState(null),[Z,ze]=a.useState(null),[K,he]=a.useState(null),[Ea,Ds]=a.useState(null),[za,Vs]=a.useState(null),[D,Ys]=a.useState(null),[Ta,Xs]=a.useState(null),[$a,De]=a.useState([]),[Ks,q]=a.useState(!1),[Ve,ne]=a.useState(!1),[Ye,Xe]=a.useState(!1),[La,Ke]=a.useState("resume"),[Qe,es]=a.useState(0),[ss,ue]=a.useState(!1),[ts,pe]=a.useState(!1),[Qs,ge]=a.useState([]),[as,et]=a.useState(""),[rs,st]=a.useState(null),[tt,ls]=a.useState(!1),[Ra,Ma]=a.useState([]),[Fa,Aa]=a.useState(!1),[Oa,ns]=a.useState(!1),[Ia,_a]=a.useState(null),[Ja,is]=a.useState([]),[se,os]=a.useState(null),[at,rt]=a.useState(window.innerWidth<768),[lt,nt]=a.useState(!1);a.useEffect(()=>{const s=()=>{rt(window.innerWidth<768)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const[it,cs]=a.useState(!1),[ot,Te]=a.useState(!1),[Ua,ct]=a.useState([]),[U,Q]=a.useState({title:"",startDate:"",endDate:"",techStack:[],oneLiner:""}),[ie,$e]=a.useState(""),[ds,ms]=a.useState(!1),[Wa,dt]=a.useState(null),[mt,xs]=a.useState(!0),[xt,hs]=a.useState(0),[Ba,Za]=a.useState(""),[qa,Ga]=a.useState(""),[te,ht]=a.useState(Ge),[Le,us]=a.useState(!1),[Re,ps]=a.useState(!1),[Ha,oe]=a.useState({type:null,status:null,message:""}),[gs,Me]=a.useState(!1),[Fe,Ae]=a.useState(null),[fs,Oe]=a.useState(.8),[ut,bs]=a.useState(!1),js=.5,ys=2.5,fe=((Ts=l==null?void 0:l.user_metadata)==null?void 0:Ts.name)||"",be=(l==null?void 0:l.email)||"",je=(l==null?void 0:l.phone)||"",ye=(l==null?void 0:l.linkedin)||"",Ne=(l==null?void 0:l.github)||"",Ns=a.useCallback(()=>{He(null),h({text:"",extraction_mode:"TEXT",trimmed:!1}),A(""),X(""),z("fresher"),Ds(null),Vs(null),Ys(null),Xs(null),ze(null),Q({title:"",startDate:"",endDate:"",techStack:[],oneLiner:""}),$e(""),ct([]),De([]),es(0),Ke("resume"),Me(!1)},[]),ae=a.useCallback(async()=>{if(l)try{const s=await _e.getUserSubscription(l.id);dt(s)}catch(s){console.error("Error checking subscription:",s)}finally{xs(!1)}},[l]);a.useEffect(()=>{t&&l?ae():xs(!1)},[t,l,ae]),a.useEffect(()=>{let s=!0;return!(g!=null&&g.fromJobApplication)||!F?(Ae(null),()=>{s=!1}):((async()=>{var j;try{const S=await Gt.getJobListingById(F);if(s){const T=(j=S==null?void 0:S.application_link)==null?void 0:j.trim();Ae(T&&T.length>0?T:null)}}catch(S){console.error("ResumeOptimizer: Failed to fetch job application link",S),s&&Ae(null)}})(),()=>{s=!1})},[g==null?void 0:g.fromJobApplication,F]),a.useEffect(()=>{I.text.trim().length>0&&Qe===0&&es(1)},[I.text,Qe]);const ws=a.useCallback(s=>{if(Fe){window.open(Fe,"_blank","noopener,noreferrer")||console.warn("ResumeOptimizer: popup blocked when trying to open job application link.");return}if(F){const x=s?{state:{optimizedResumeData:s,fromOptimizer:!0}}:void 0;N(`/jobs/${F}/apply-form`,x);return}N("/jobs")},[Fe,F,N]),we=a.useCallback(s=>{var ce;const x=[],j=y=>[/placeholder/i,/example/i,/sample/i,/\[.*\]/,/your .+ here/i,/^(n\/a|na|none|nil)$/i,/^-+$/,/^\s*$/].some(C=>C.test(y));if(!(s.workExperience&&s.workExperience.length>0&&s.workExperience.some(y=>{var b,C;return(((b=y.role)==null?void 0:b.trim())||((C=y.company)==null?void 0:C.trim()))&&!j(y.role||"")&&!j(y.company||"")})))x.push("workExperience");else{const y=[];(ce=s.workExperience)==null||ce.forEach((b,C)=>{var H,de,me;if(!(((H=b.year)==null?void 0:H.trim())&&!j(b.year)&&/\d{4}/.test(b.year))&&((de=b.role)!=null&&de.trim()||(me=b.company)!=null&&me.trim())){const vt=`${b.role||b.company||`Experience ${C+1}`}`;y.push(vt)}}),y.length>0&&y.forEach(b=>{x.push(`workExperience:date:${b}`)})}if(s.projects&&s.projects.length>0&&s.projects.some(y=>{var b;return((b=y.title)==null?void 0:b.trim())&&!j(y.title)})||x.push("projects"),s.skills&&s.skills.length>0&&s.skills.some(y=>y.list&&y.list.length>0&&y.list.some(b=>b.trim()&&!j(b)))||x.push("skills"),!s.education||s.education.length===0)x.push("education");else{const y=[];s.education.forEach((b,C)=>{var H,de,me;const J=s.education.length>1?` (Entry ${C+1})`:"";(!((H=b.degree)!=null&&H.trim())||j(b.degree))&&y.push(`Degree${J}`),(!((de=b.school)!=null&&de.trim())||j(b.school))&&y.push(`Institution${J}`),(!((me=b.year)!=null&&me.trim())||j(b.year))&&y.push(`Year${J}`)}),y.length>0&&y.forEach(b=>{x.push(`education:${b}`)})}const G=!s.certifications||s.certifications.length===0||s.certifications.some(y=>{const b=y,C=typeof y=="string"?y:(b==null?void 0:b.title)||(b==null?void 0:b.name)||(b==null?void 0:b.text)||(b==null?void 0:b.value)||"";return String(C).trim()&&!j(String(C))});s.certifications&&s.certifications.length>0&&!G&&x.push("certifications");const _=typeof s.phone=="string"&&s.phone.trim().length>0&&!j(s.phone)&&s.phone.length>=10,W=typeof s.email=="string"&&s.email.trim().length>0&&!j(s.email)&&s.email.includes("@")&&s.email.includes(".");return!_&&!W?x.push("contactDetails"):_?W||x.push("contactDetails:Email"):x.push("contactDetails:Phone"),x},[]),V=a.useCallback(async(s,x,j)=>{var T,L;const S=u.current;try{q(!0);const G=await _e.useOptimization(l.id);if(!G.success){console.error("Failed to deduct optimization credit:",G.error),alert("No optimization credits available. Please purchase a plan.");return}await ae(),hs(W=>W+1);let _;if(S&&S.trim().length>50){const{EnhancedJdOptimizerService:W}=await kt(async()=>{const{EnhancedJdOptimizerService:b}=await import("./enhancedJdOptimizerService-BgBDoQ2l.js");return{EnhancedJdOptimizerService:b}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),ce=It(s),y=await W.optimizeResume(s,ce,S,$,"standard");_={...y.optimizedResume,name:fe||s.name||"",email:be||s.email||"",phone:je||s.phone||"",linkedin:ye||s.linkedin||"",github:Ne||s.github||"",targetRole:$||s.targetRole||"",origin:"jd_optimized"},y.userActionsRequired&&y.userActionsRequired.length>0?is(y.userActionsRequired):is([]),y.parameter16Scores?os(y.parameter16Scores):os({overallBefore:((T=y.beforeScore)==null?void 0:T.overall)||0,overallAfter:((L=y.afterScore)==null?void 0:L.overall)||0,improvement:y.scoreImprovement||0})}else _={...s,name:fe||s.name||"",email:be||s.email||"",phone:je||s.phone||"",linkedin:ye||s.linkedin||"",github:Ne||s.github||"",targetRole:$||s.targetRole||"",origin:"eden_optimized"};try{if((!_.certifications||_.certifications.length===0)&&l){const W=await Je.fetchUserProfile(l.id),y=(b=>(b||[]).map(C=>{if(typeof C=="string"){const J=C.trim();return J.length>0?J:null}if(C&&typeof C=="object"){const J=(C.title||C.name||C.certificate||C.text||C.value||C.issuer||C.provider||"").toString().trim(),H=(C.description||C.issuer||C.provider||"").toString().trim();return!J&&!H?null:{title:J||H,description:H&&H!==J?H:""}}return null}).filter(Boolean))((W==null?void 0:W.certifications_details)||[]);if(y.length>0){const b=new Set;_.certifications=(_.certifications||[]).concat(y.filter(C=>{const J=typeof C=="string"?C.toLowerCase():(C.title||C.description||"").toLowerCase();return!J||b.has(J)?!1:(b.add(J),!0)}))}}}catch(W){console.warn("ResumeOptimizer: Could not merge profile certifications:",W)}if(De(["workExperience","education","projects","skills","certifications"]),l)try{await Je.incrementResumesCreatedCount(l.id),await Je.incrementGlobalResumesCreatedCount(),await k()}catch(W){console.error("ResumeOptimizer: Failed to increment resume counts:",W)}Ke("resume"),He(_)}catch(G){console.error("Error in final optimization pass:",G),alert("Failed to complete resume optimization. Please try again.")}finally{q(!1),ne(!1)}},[p,E,fe,be,je,ye,Ne,$,l,ae,k]),ve=a.useCallback(async(s,x)=>{try{ne(!0),ze(s),s.projects&&s.projects.length>0?ue(!0):await V(s,null,x)}catch(j){console.error("Error in initial resume processing:",j),alert("Failed to process resume. Please try again.")}finally{ne(!1)}},[p,V]),vs=a.useCallback(async(s,x)=>{const j=we(s);if(j.length>0){ge(j),he(s),pe(!0),q(!1);return}try{await ve(s,x)}catch(S){console.error("Error in optimization process:",S),alert("Failed to continue optimization. Please try again."),q(!1)}},[ve,we]),pt=a.useCallback(async s=>{var x;Xe(!0);try{if(!K)throw new Error("No pending resume data to update.");let j={...K,...s.workExperience&&s.workExperience.length>0&&{workExperience:s.workExperience},...s.projects&&s.projects.length>0&&{projects:s.projects},...s.skills&&s.skills.length>0&&{skills:s.skills},...s.education&&s.education.length>0&&{education:s.education},...s.certifications&&s.certifications.length>0&&{certifications:s.certifications},...s.summary&&{summary:s.summary},...s.contactDetails&&{phone:s.contactDetails.phone||K.phone,email:s.contactDetails.email||K.email,linkedin:s.contactDetails.linkedin||K.linkedin,github:s.contactDetails.github||K.github}};s.workExperienceDates&&Object.keys(s.workExperienceDates).length>0&&j.workExperience&&(j.workExperience=j.workExperience.map(L=>{const G=L.role||L.company||"",_=s.workExperienceDates[G];return _&&(!L.year||L.year.trim()==="")?{...L,year:_}:L})),pe(!1),ge([]),he(null),q(!1);const{data:S}=await xe.auth.getSession(),T=((x=S==null?void 0:S.session)==null?void 0:x.access_token)||"";await ve(j,T)}catch(j){console.error("Error processing missing sections:",j),alert("Failed to process the provided information. Please try again.")}finally{Xe(!1)}},[K,ve]),ke=a.useCallback(async()=>{if(!I.text.trim()||!p.trim()){alert("Please provide both resume content and job description");return}if(!l){alert("User information not available. Please sign in again."),o();return}const s=I.text.length+p.length;if(s>_s){alert(`Your combined resume and job description are too long (${s} characters). The maximum allowed is ${_s} characters. Please shorten your input.`);return}Me(!1);try{const{data:x,error:j}=await xe.auth.refreshSession();if(j){alert("Your session has expired. Please sign in again."),o();return}const S=x.session;if(!S||!S.access_token){alert("Your session has expired. Please sign in again."),o();return}if(!i||i.optimizationsTotal-i.optimizationsUsed<=0){const T=await _e.getUserSubscription(l.id);if(!T||T.optimizationsTotal-T.optimizationsUsed<=0){r("optimizer");return}}q(!0);try{let T=as;if(!T&&p.length>100){ns(!0);try{T=await xa(p),et(T)}catch(_){console.warn("JD summarization failed, continuing without summary:",_)}finally{ns(!1)}}let L;if(rs)L=rs;else if(Z)L=Z;else{alert("Please upload your resume first. The AI parser will extract your information."),q(!1);return}const G=we(L);if(G.length>0){ge(G),he(L),pe(!0),q(!1);return}await vs(L,S.access_token)}catch(T){console.error("Error optimizing resume:",T),alert("Failed to optimize resume. Please try again.")}finally{q(!1)}}catch(x){console.error("Error during session validation or subscription check:",x),alert(`An error occurred: ${x.message||"Failed to validate session or check subscription."}`),q(!1)}},[I,p,l,o,r,i,E,fe,be,je,ye,Ne,$,we,vs,Z]);a.useEffect(()=>(w(()=>ke),()=>{w(null)}),[w,ke]),a.useEffect(()=>{gs&&i&&i.optimizationsTotal-i.optimizationsUsed>0&&Me(!1)},[gs,m,i,ke]);const ks=a.useCallback(async s=>{var x;if(nt(!1),s)cs(!0);else if(Z&&D){const{data:j}=await xe.auth.getSession();await V(Z,D,((x=j==null?void 0:j.session)==null?void 0:x.access_token)||"")}},[Z,D,V]),Ss=a.useCallback(s=>{cs(!1),s==="manual"?Te(!0):ms(!0)},[]),Cs=a.useCallback(()=>{ie.trim()&&!U.techStack.includes(ie.trim())&&(Q(s=>({...s,techStack:[...s.techStack,ie.trim()]})),$e(""))},[ie,U.techStack]),gt=a.useCallback(s=>{Q(x=>({...x,techStack:x.techStack.filter(j=>j!==s)}))},[]),Ps=a.useCallback(async(s,x)=>`â€¢ Developed ${s.title} using ${s.techStack.join(", ")} technologies
â€¢ Implemented core features and functionality aligned with industry best practices
â€¢ Delivered scalable solution with focus on performance and user experience`,[]),ft=a.useCallback(async()=>{var s;if(!U.title||U.techStack.length===0||!Z){alert("Please provide project title and tech stack.");return}q(!0);try{const x=await Ps(U,p),j={title:U.title,bullets:x.split(`
`).filter(L=>L.trim().startsWith("â€¢")).map(L=>L.replace("â€¢","").trim()),githubUrl:""},S={...Z,projects:[...Z.projects||[],j]};Te(!1);const{data:T}=await xe.auth.getSession();await V(S,null,((s=T==null?void 0:T.session)==null?void 0:s.access_token)||"")}catch(x){console.error("Error creating manual project:",x),alert("Failed to create project. Please try again.")}finally{q(!1)}},[U,Z,Ps,p,D,V]),Es=a.useCallback(async(s,x)=>{try{ne(!0),await V(s,null,x)}catch(j){console.error("Error generating scores after project add:",j),alert("Failed to generate updated scores. Please try again.")}finally{ne(!1)}},[V]),zs=a.useCallback(async s=>{var x,j;try{ue(!1),ze(s);const{data:S}=await xe.auth.getSession();D?await V(s,D,((x=S==null?void 0:S.session)==null?void 0:x.access_token)||""):await Es(s,((j=S==null?void 0:S.session)==null?void 0:j.access_token)||"")}catch(S){console.error("Error in handleProjectsUpdated:",S),ue(!1)}},[D,V,Es]);a.useCallback(()=>{ae(),r(),hs(s=>s+1)},[ae,r]);const bt=a.useCallback(()=>{Oe(s=>Math.min(s+.1,ys))},[]),jt=a.useCallback(()=>{Oe(s=>Math.max(s-.1,js))},[]),yt=a.useCallback(()=>{Oe(1.4)},[]),Nt=a.useCallback(()=>{bs(!0)},[]),wt=a.useCallback(async(s,x)=>{if(M){if(x==="pdf"){if(Le||Re)return;us(!0)}else{if(Re||Le)return;ps(!0)}oe({type:null,status:null,message:""});try{x==="pdf"?await Ws(M,E,s):await Bs(M,E),oe({type:x,status:"success",message:`${x.toUpperCase()} exported successfully!`}),setTimeout(()=>{oe({type:null,status:null,message:""})},3e3)}catch(j){console.error(`${x.toUpperCase()} export failed:`,j),oe({type:x,status:"error",message:`${x.toUpperCase()} export failed. Please try again.`}),setTimeout(()=>{oe({type:null,status:null,message:""})},5e3)}finally{x==="pdf"?us(!1):ps(!1)}}},[M,E,Le,Re]);if(at&&M&&!ss&&!ts&&!ds){const s=[{id:"resume",title:"Optimized Resume",icon:e.jsx(Y,{className:"w-5 h-5"}),component:e.jsx(Pe,{resumeData:M,userType:E,exportOptions:te,defaultZoom:.98}),resumeData:M,userType:E}];return e.jsx(_t,{sections:s,onStartNewResume:Ns,exportOptions:te,jobContext:g,onApplyNow:()=>ws(M)})}if(Ks||Ve||Ye){let s="Optimizing Your Resume...",x="Please wait while our AI analyzes your resume and job description to generate the best possible match.";return Ve?(s="OPTIMIZING RESUME...",x="Our AI is evaluating your resume based on comprehensive criteria."):Ye&&(s="Processing Your Information...",x="We're updating your resume with the new sections you provided."),e.jsx(Zt,{message:s,submessage:x})}return e.jsxs("div",{className:`min-h-screen relative overflow-hidden pb-16 lg:pl-16 ${v?"bg-gradient-to-b from-[#1a0a0f] via-[#0f1a0f] to-[#020617]":"bg-gradient-to-b from-slate-900 via-slate-950 to-[#020617]"}`,children:[e.jsx("div",{className:`pointer-events-none absolute inset-0 ${v?"bg-[radial-gradient(ellipse_at_top,rgba(220,38,38,0.08),transparent_50%),radial-gradient(ellipse_at_bottom_right,rgba(34,197,94,0.08),transparent_50%)]":"bg-[radial-gradient(ellipse_at_top,rgba(16,185,129,0.08),transparent_50%),radial-gradient(ellipse_at_bottom_right,rgba(6,182,212,0.08),transparent_50%)]"}`}),e.jsx($t,{count:15}),v&&e.jsx(Lt,{count:40}),e.jsx("div",{className:"container-responsive py-8 relative z-10",children:M?e.jsxs("div",{className:"max-w-7xl mx-auto",children:[(g==null?void 0:g.fromJobApplication)&&g.jobId&&e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl p-6 border border-emerald-500/30 shadow-lg mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-emerald-500 to-cyan-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(B,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Resume Optimized Successfully!"}),e.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-cyan-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-md",children:"READY"})]}),e.jsxs("p",{className:"text-sm text-slate-300 mb-2",children:["Your resume has been optimized for ",e.jsx("span",{className:"font-semibold text-emerald-400",children:g.roleTitle})," at ",e.jsx("span",{className:"font-semibold text-emerald-400",children:g.companyName})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-slate-400",children:[e.jsx(B,{className:"w-3 h-3 text-emerald-400"}),e.jsx("span",{children:"ATS-optimized"}),e.jsx("span",{children:"â€¢"}),e.jsx(B,{className:"w-3 h-3 text-emerald-400"}),e.jsx("span",{children:"Keyword-matched"}),e.jsx("span",{children:"â€¢"}),e.jsx(B,{className:"w-3 h-3 text-emerald-400"}),e.jsx("span",{children:"Ready to download"})]})]})]}),e.jsxs("button",{onClick:()=>ws(M),className:"group flex-shrink-0 bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-500 hover:to-cyan-500 text-white px-6 py-4 rounded-xl font-bold shadow-lg hover:shadow-xl hover:shadow-emerald-500/20 transition-all duration-300 flex items-center space-x-3",children:[e.jsx(ea,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),e.jsx("span",{children:"Apply Now"})]})]}),e.jsx("div",{className:"mt-4 bg-slate-800/50 rounded-lg p-3 border border-slate-700/50",children:e.jsxs("p",{className:"text-xs text-slate-400 flex items-center space-x-1",children:[e.jsx(le,{className:"w-3 h-3"}),e.jsx("span",{children:"Make sure to download your optimized resume before applying for future reference"})]})})]}),e.jsx("div",{className:"text-center flex flex-col items-center gap-4 mb-6",children:e.jsxs("button",{onClick:Ns,className:"inline-flex items-center space-x-2 bg-slate-800/60 hover:bg-slate-700/60 border border-slate-600/50 hover:border-emerald-500/30 text-white font-semibold py-2 px-4 rounded-xl shadow-lg transition-all duration-300",children:[e.jsx(Ue,{className:"w-4 h-4"}),e.jsx("span",{children:"Create New Resume"})]})}),M&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-xl shadow-lg border border-slate-700/50 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-800/80 to-slate-900/80 p-4 border-b border-slate-700/50",children:e.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center",children:[e.jsx(Y,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Export Resume"]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(ca,{resumeData:M,userType:E,onShowProfile:n,walletRefreshKey:xt,exportOptions:te}),e.jsx(na,{resumeData:M,userType:E,onExport:wt,showInlinePreview:!1,initialOptions:te,onOptionsChange:ht})]})]})}),e.jsxs("div",{className:"lg:sticky lg:top-6 lg:self-start space-y-4",children:[se&&e.jsx(ra,{beforeScores:se.beforeScores,afterScores:se.afterScores,overallBefore:se.overallBefore,overallAfter:se.overallAfter,improvement:se.improvement,compact:!0}),e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-xl shadow-lg border border-slate-700/50 overflow-hidden",children:[e.jsx(da,{zoom:fs,onZoomIn:bt,onZoomOut:jt,onFitWidth:yt,onFullScreen:Nt,minZoom:js,maxZoom:ys}),e.jsx("div",{className:"bg-slate-800/20 p-4 flex items-center justify-center",style:{minHeight:"600px"},children:e.jsx("div",{className:"transform-gpu",style:{transform:`scale(${fs})`,transformOrigin:"top center"},children:e.jsx(Pe,{resumeData:M,userType:E,exportOptions:te,showControls:!1,defaultZoom:.98})})})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>g!=null&&g.fromJobApplication&&g.jobId?N(`/jobs/${g.jobId}/apply`):N("/"),className:"lg:hidden mb-6 bg-gradient-to-r from-neon-cyan-500 to-neon-blue-500 text-white hover:from-neon-cyan-400 hover:to-neon-blue-400 active:from-neon-cyan-600 active:to-neon-blue-600 shadow-md hover:shadow-neon-cyan py-3 px-5 rounded-xl inline-flex items-center space-x-2 transition-all duration-200",children:[e.jsx(Ue,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:block",children:g!=null&&g.fromJobApplication?"Back to Job":"Back to Home"})]}),(g==null?void 0:g.fromJobApplication)&&g.roleTitle&&g.companyName&&e.jsx("div",{className:"mb-6 bg-gradient-to-r from-cyan-900/30 via-blue-900/30 to-blue-900/40 rounded-2xl p-6 border-2 border-cyan-500/30 shadow-xl backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(qe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-100",children:"Optimizing Resume For:"}),e.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 px-3 py-1 rounded-full text-xs font-bold text-gray-900 shadow-md",children:"JOB-SPECIFIC"})]}),e.jsx("p",{className:"text-xl font-semibold text-cyan-300",children:g.roleTitle}),e.jsxs("p",{className:"text-sm text-slate-400 flex items-center space-x-1 mt-1",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:g.companyName})]}),e.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-cyan-300 bg-cyan-500/20 px-2 py-1 rounded-full border border-cyan-500/30",children:[e.jsx(ee,{className:"w-3 h-3"}),e.jsx("span",{children:"Tailored optimization"})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-blue-300 bg-blue-500/20 px-2 py-1 rounded-full border border-blue-500/30",children:[e.jsx(Qt,{className:"w-3 h-3"}),e.jsx("span",{children:"ATS-optimized"})]})]})]})]})}),t&&!mt&&e.jsx("div",{className:"relative text-center mb-8 z-10",children:e.jsx("button",{className:"inline-flex items-center space-x-2 px-6 py-3 rounded-full transition-all duration-200 font-semibold text-sm bg-gradient-to-r from-neon-purple-500 to-neon-blue-600 text-white shadow-md hover:shadow-neon-purple focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-neon-cyan-500 max-w-[300px] mx-auto justify-center dark:shadow-neon-purple",children:e.jsx("span",{children:i?`Optimizations Left: ${i.optimizationsTotal-i.optimizationsUsed}`:"No Active Plan"})})}),e.jsx("div",{className:"max-w-7xl mx-auto space-y-6",children:e.jsx(oa,{extractionResult:I,setExtractionResult:h,scoringMode:R,setScoringMode:qs,autoScoreOnUpload:Gs,setAutoScoreOnUpload:Hs,jobDescription:p,setJobDescription:A,targetRole:$,setTargetRole:X,userType:E,setUserType:z,handleOptimize:ke,isAuthenticated:t,onShowAuth:o,user:l,onShowProfile:n,onParsedResume:st,onShowSubscriptionPlans:r,onCreditCheckPassed:()=>{}})})]})}),lt&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(le,{className:"w-8 h-8 text-orange-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Project Mismatch Detected"}),e.jsx("p",{className:"text-gray-600",children:"Your current projects don't align well with the job description. Would you like to add a relevant project to improve your resume score?"})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-red-600 mb-1",children:[D==null?void 0:D.totalScore,"/100"]}),e.jsx("div",{className:"text-sm text-red-700",children:"Current Resume Score"})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>ks(!0),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:"Yes, Add Project"}),e.jsx("button",{onClick:()=>ks(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 font-semibold py-3 px-4 rounded-xl transition-colors",children:"Skip"})]})]})})}),it&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(As,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Choose Project Addition Method"}),e.jsx("p",{className:"text-gray-600",children:"How would you like to add a relevant project to your resume?"})]}),e.jsxs("div",{className:"space-x-3",children:[e.jsxs("button",{onClick:()=>Ss("manual"),className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-4 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Y,{className:"w-5 h-5"}),e.jsx("span",{children:"Manual Add - I'll provide project details"})]}),e.jsxs("button",{onClick:()=>Ss("ai"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-4 px-4 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[e.jsx(re,{className:"w-5 h-5"}),e.jsx("span",{children:"AI-Suggested - Generate automatically"})]})]})]})})}),ot&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(As,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Add Project Manually"}),e.jsx("p",{className:"text-gray-600",children:"Provide project details and AI will generate a professional description"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title *"}),e.jsx("input",{type:"text",value:U.title,onChange:s=>Q(x=>({...x,title:s.target.value})),placeholder:"e.g., E-commerce Website",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),e.jsx("input",{type:"month",value:U.startDate,onChange:s=>Q(x=>({...x,startDate:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date *"}),e.jsx("input",{type:"month",value:U.endDate,onChange:s=>Q(x=>({...x,endDate:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tech Stack *"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:ie,onChange:s=>$e(s.target.value),placeholder:"e.g., React, Node.js",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",onKeyDown:s=>s.key==="Enter"&&Cs()}),e.jsx("button",{onClick:Cs,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:U.techStack.map((s,x)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:[s,e.jsx("button",{onClick:()=>gt(s),className:"ml-2 text-green-600 hover:text-green-800",children:e.jsx(Ee,{className:"w-3 h-3"})})]},x))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"One-liner Description (Optional)"}),e.jsx("input",{type:"text",value:U.oneLiner,onChange:s=>Q(x=>({...x,oneLiner:s.target.value})),placeholder:"Brief description of the project",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:ft,disabled:!U.title||U.techStack.length===0,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:"Generate & Add Project"}),e.jsx("button",{onClick:()=>Te(!1),className:"px-6 py-3 bg-gray-300 hover:bg-gray-400 text-gray-700 font-semibold rounded-xl transition-colors",children:"Cancel"})]})]})})}),e.jsx(Jt,{isOpen:ds,onClose:()=>ms(!1),currentResume:Z||M||{name:"",phone:"",email:"",linkedin:"",github:"",education:[],workExperience:[],projects:[],skills:[],certifications:[]},jobDescription:p,onProjectsAdded:zs}),e.jsx(Ut,{isOpen:ss,onClose:()=>ue(!1),resumeData:Z||M||{name:"",phone:"",email:"",linkedin:"",github:"",education:[],workExperience:[],projects:[],skills:[],certifications:[]},jobDescription:p,targetRole:$,onProjectsUpdated:zs}),e.jsx(Pa,{isOpen:tt,onClose:()=>ls(!1),resumeData:Z||M||{name:"",phone:"",email:"",linkedin:"",github:"",education:[],workExperience:[],projects:[],skills:[],certifications:[]},jobDescription:p,jdSummary:as,onContinue:()=>{ls(!1)}}),e.jsx(Wt,{isOpen:ts,onClose:()=>{pe(!1),ge([]),he(null),q(!1)},missingSections:Qs,onSectionsProvided:pt}),e.jsx(ma,{isOpen:ut,onClose:()=>bs(!1),resumeData:M||{name:"",phone:"",email:"",linkedin:"",github:"",education:[],workExperience:[],projects:[],skills:[],certifications:[]},userType:E,exportOptions:te})]})};export{Pr as default};
