import{j as e,m as k,A as U}from"./vendor-motion-_XdJ9pBm.js";import{r as m,f as q,u as J}from"./vendor-react-B4msnGgW.js";import{g as P}from"./gamingService-B0z_NE56.js";import{n as K,e as W,C as X,u as Q,i as Z,I as D,_ as ee}from"./index-BbSeE-q4.js";import{T as te}from"./trophy-D8agcnr9.js";import{P as O}from"./play-BW95sg1B.js";import{P as se}from"./pause-C7_k2ztz.js";import{R as ae}from"./rotate-ccw-BQdMKeUh.js";import{X as re}from"./x-circle-ytsTtMRB.js";import{S as le}from"./star-DBKesPgG.js";import"./vendor-pdf-B1igRwBP.js";import"./vendor-supabase-B_87WqdG.js";import"./vendor-forms-BxTF4-4_.js";const ne=({level:x,company:f,userId:S,onGameComplete:g,onGameExit:w})=>{const[l,M]=m.useState(null),[o,b]=m.useState({status:"idle",currentPath:[],timeRemaining:x.time_limit_seconds,score:0,isPathValid:!1}),[j,v]=m.useState([]),[p,N]=m.useState(!1),[G,A]=m.useState(""),d=m.useRef(null);m.useEffect(()=>(T(),()=>{d.current&&clearInterval(d.current)}),[x]);const T=async()=>{const t=P.generateGrid(x.grid_size,x.obstacle_density);M(t);const a=t.grid.map((c,r)=>c.map((I,h)=>r===t.start.row&&h===t.start.col?"start":r===t.end.row&&h===t.end.col?"end":I));v(a),b({status:"ready",currentPath:[],timeRemaining:x.time_limit_seconds,score:0,isPathValid:!1})},B=async()=>{if(l)try{const t=await P.createGameSession(S,x.id,l);A(t.session_token),b(a=>({...a,status:"playing"})),d.current=setInterval(()=>{b(a=>{const c=a.timeRemaining-1;return c<=0?(R(),{...a,timeRemaining:0,status:"failed"}):{...a,timeRemaining:c}})},1e3)}catch(t){console.error("Error starting game:",t)}},Y=()=>{d.current&&(clearInterval(d.current),d.current=null),b(t=>({...t,status:"paused"}))},F=()=>{b(t=>({...t,status:"playing"})),d.current=setInterval(()=>{b(t=>{const a=t.timeRemaining-1;return a<=0?(R(),{...t,timeRemaining:0,status:"failed"}):{...t,timeRemaining:a}})},1e3)},R=()=>{d.current&&(clearInterval(d.current),d.current=null)},E=()=>{d.current&&(clearInterval(d.current),d.current=null),T()},s=(t,a)=>{const c=Math.abs(t.row-a.row),r=Math.abs(t.col-a.col);return c===1&&r===0||c===0&&r===1},i=m.useCallback((t,a)=>{if(o.status!=="playing"||!l||j[t][a]==="obstacle")return;const r=[...o.currentPath],I=r.length>0?r[r.length-1]:l.start;if(!s(I,{row:t,col:a}))return;if(r.some(n=>n.row===t&&n.col===a)){const n=r.findIndex(y=>y.row===t&&y.col===a);r.splice(n)}else r.push({row:t,col:a});const h=[...j];if(j.forEach((n,y)=>{n.forEach((H,C)=>{(H==="path"||H==="current")&&(y===l.start.row&&C===l.start.col?h[y][C]="start":y===l.end.row&&C===l.end.col?h[y][C]="end":h[y][C]=l.grid[y][C])})}),r.forEach(n=>{h[n.row][n.col]!=="start"&&h[n.row][n.col]!=="end"&&(h[n.row][n.col]="path")}),r.length>0){const n=r[r.length-1];h[n.row][n.col]!=="start"&&h[n.row][n.col]!=="end"&&(h[n.row][n.col]="current")}v(h);const V=r.length>0&&r[r.length-1].row===l.end.row&&r[r.length-1].col===l.end.col;b(n=>({...n,currentPath:r,isPathValid:V})),V&&u(r)},[o.status,o.currentPath,l,j]),u=async t=>{if(d.current&&(clearInterval(d.current),d.current=null),!l)return;const a=x.time_limit_seconds-o.timeRemaining,c=t.length+1;b(r=>({...r,status:"completed"}));try{await P.submitScore(S,f.id,x.id,G,a,c,l.optimalPathLength),g(o.score,a,c)}catch(r){console.error("Error submitting score:",r)}},_=(t,a)=>{N(!0),i(t,a)},z=(t,a)=>{p&&i(t,a)};m.useEffect(()=>{const t=()=>N(!1);return window.addEventListener("mouseup",t),()=>window.removeEventListener("mouseup",t)},[]);const $=t=>{switch(t){case"start":return"bg-green-500 border-green-600";case"end":return"bg-red-500 border-red-600";case"obstacle":return"bg-gray-800 border-gray-900";case"path":return"bg-blue-400 border-blue-500";case"current":return"bg-yellow-400 border-yellow-500 animate-pulse";default:return"bg-white border-gray-300 hover:bg-gray-100"}},L=t=>{const a=Math.floor(t/60),c=t%60;return`${a}:${c.toString().padStart(2,"0")}`};return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-dark-50 dark:to-dark-100 p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[f.name," Path Finder"]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Level ",x.level_number," - ",x.grid_size,"x",x.grid_size," Grid"]})]}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-dark-200 dark:hover:bg-dark-300 rounded-lg transition-colors",children:"Exit Game"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white dark:bg-dark-100 rounded-xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(K,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Time Remaining"}),e.jsx("p",{className:`text-2xl font-bold ${o.timeRemaining<30?"text-red-600":"text-gray-900 dark:text-gray-100"}`,children:L(o.timeRemaining)})]})]})}),e.jsx("div",{className:"bg-white dark:bg-dark-100 rounded-xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(W,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Path Length"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[o.currentPath.length+1," / ",l.optimalPathLength]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-dark-100 rounded-xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(te,{className:"w-6 h-6 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Target Score"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:x.target_score})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-100 rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4 space-x-4",children:[o.status==="ready"&&e.jsxs("button",{onClick:B,className:"flex items-center space-x-2 px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-colors",children:[e.jsx(O,{className:"w-5 h-5"}),e.jsx("span",{children:"Start Game"})]}),o.status==="playing"&&e.jsxs("button",{onClick:Y,className:"flex items-center space-x-2 px-6 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-semibold transition-colors",children:[e.jsx(se,{className:"w-5 h-5"}),e.jsx("span",{children:"Pause"})]}),o.status==="paused"&&e.jsxs("button",{onClick:F,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",children:[e.jsx(O,{className:"w-5 h-5"}),e.jsx("span",{children:"Resume"})]}),e.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition-colors",children:[e.jsx(ae,{className:"w-5 h-5"}),e.jsx("span",{children:"Reset"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"inline-grid gap-1 p-4 bg-gray-50 dark:bg-dark-200 rounded-lg",style:{gridTemplateColumns:`repeat(${x.grid_size}, minmax(0, 1fr))`,maxWidth:"600px",width:"100%"},children:j.map((t,a)=>t.map((c,r)=>e.jsx(k.div,{className:`aspect-square border-2 rounded-lg cursor-pointer transition-all ${$(c)}`,onMouseDown:()=>_(a,r),onMouseEnter:()=>z(a,r),whileHover:{scale:c!=="obstacle"?1.1:1},whileTap:{scale:c!=="obstacle"?.95:1}},`${a}-${r}`)))})}),e.jsxs("div",{className:"mt-6 flex items-center justify-center space-x-6 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 border-2 border-green-600 rounded"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Start"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-red-500 border-2 border-red-600 rounded"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"End"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-800 border-2 border-gray-900 rounded"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Obstacle"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-400 border-2 border-blue-500 rounded"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Path"})]})]})]}),e.jsxs(U,{children:[o.status==="completed"&&e.jsx(k.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-dark-100 rounded-2xl p-8 max-w-md w-full text-center",children:[e.jsx(X,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Level Complete!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Congratulations! You've successfully completed this level."}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("p",{className:"text-lg",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Time: "}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:L(x.time_limit_seconds-o.timeRemaining)})]}),e.jsxs("p",{className:"text-lg",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Path Length: "}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:o.currentPath.length+1})]})]}),e.jsx("button",{onClick:w,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",children:"Continue"})]})}),o.status==="failed"&&e.jsx(k.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-dark-100 rounded-2xl p-8 max-w-md w-full text-center",children:[e.jsx(re,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Time's Up!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You ran out of time. Try again to improve your speed!"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:E,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",children:"Try Again"}),e.jsx("button",{onClick:w,className:"flex-1 px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition-colors",children:"Exit"})]})]})})]})]})}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Generating game..."})]})})},je=({onShowAuth:x})=>{const{companyId:f}=q(),S=J(),{user:g,isAuthenticated:w}=Q(),[l,M]=m.useState(null),[o,b]=m.useState(!0),[j,v]=m.useState(!1),[p,N]=m.useState(null),[G,A]=m.useState([]);m.useEffect(()=>{if(!w||!g){x();return}f&&d()},[f,w,g]);const d=async()=>{if(!(!g||!f))try{b(!0);const s=await P.getCompanyWithProgress(g.id,f);M(s);const i=await P.getLeaderboard(f,void 0,"all_time",10);A(i)}catch(s){console.error("Error loading company data:",s)}finally{b(!1)}},T=s=>{var i;(i=s.progress)!=null&&i.is_unlocked&&(v(!0),N(s))},B=()=>{v(!1)},Y=async()=>{N(null),await d()},F=()=>{N(null)},R=s=>{var i,u;return(i=s.progress)!=null&&i.is_completed?e.jsx(X,{className:"w-6 h-6 text-green-600"}):(u=s.progress)!=null&&u.is_unlocked?e.jsx(W,{className:"w-6 h-6 text-blue-600"}):e.jsx(ee,{className:"w-6 h-6 text-gray-400"})},E=s=>{var _;if(!((_=s.progress)!=null&&_.is_completed))return 0;const i=s.progress.best_score||0,u=s.level.target_score;return i>=u*1.5?3:i>=u*1.2?2:i>=u?1:0};return o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-dark-50 dark:to-dark-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading game..."})]})}):l?p&&!j&&g?e.jsx(ne,{level:p.level,company:l.company,userId:g.id,onGameComplete:Y,onGameExit:F}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-dark-50 dark:to-dark-100 lg:pl-16",children:[e.jsxs("div",{className:"container-responsive py-12",children:[e.jsxs("button",{onClick:()=>S("/gaming"),className:"lg:hidden flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 mb-6",children:[e.jsx(Z,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Gaming Center"})]}),e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"bg-white dark:bg-dark-100 rounded-2xl p-8 shadow-lg",style:{borderTop:`4px solid ${l.company.primary_color}`},children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-lg shadow-md flex items-center justify-center p-2",children:e.jsx("img",{src:l.company.logo_url,alt:l.company.name,className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[l.company.name," Path Finder"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Complete all levels to master the challenge"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your Score"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:l.totalScore.toLocaleString()})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Progress"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[l.completedLevels,"/",l.totalLevels]})]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-dark-200 rounded-full h-3",children:e.jsx("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:`${l.completedLevels/l.totalLevels*100}%`,backgroundColor:l.company.primary_color}})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Levels"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:l.levels.map((s,i)=>{var z,$,L,t;const u=!((z=s.progress)!=null&&z.is_unlocked),_=E(s);return e.jsxs(k.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},onClick:()=>T(s),disabled:u,className:`bg-white dark:bg-dark-100 rounded-xl p-6 shadow-lg text-left transition-all transform ${u?"opacity-50 cursor-not-allowed":"hover:shadow-xl hover:-translate-y-1"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[R(s),e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:["Level ",s.level.level_number]})]}),(($=s.progress)==null?void 0:$.is_completed)&&e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:3}).map((a,c)=>e.jsx(le,{className:`w-4 h-4 ${c<_?"text-yellow-500 fill-yellow-500":"text-gray-300 dark:text-gray-600"}`},c))})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Grid Size"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[s.level.grid_size,"x",s.level.grid_size]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Time Limit"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[Math.floor(s.level.time_limit_seconds/60)," min"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Target Score"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:s.level.target_score})]})]}),((L=s.progress)==null?void 0:L.is_completed)&&e.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-dark-300",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Best Score"}),e.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:(t=s.progress.best_score)==null?void 0:t.toLocaleString()})]}),s.progress.best_time_seconds&&e.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Best Time"}),e.jsxs("span",{className:"font-semibold text-blue-600 dark:text-neon-cyan-400",children:[Math.floor(s.progress.best_time_seconds/60),":",(s.progress.best_time_seconds%60).toString().padStart(2,"0")]})]})]}),u&&e.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-dark-300",children:e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Complete Level ",s.level.level_number-1," to unlock"]})})]},s.level.id)})})]}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Leaderboard"}),e.jsx("div",{className:"bg-white dark:bg-dark-100 rounded-xl p-6 shadow-lg",children:G.length>0?e.jsx("div",{className:"space-y-3",children:G.map((s,i)=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${s.user_id===(g==null?void 0:g.id)?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-50 dark:bg-dark-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${i===0?"bg-yellow-500 text-white":i===1?"bg-gray-400 text-white":i===2?"bg-orange-600 text-white":"bg-gray-200 dark:bg-dark-300 text-gray-700 dark:text-gray-300"}`,children:i+1}),e.jsx("div",{children:e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[s.user_name,s.user_id===(g==null?void 0:g.id)&&" (You)"]})})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:s.total_score.toLocaleString()})})]},s.id))}):e.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"No leaderboard entries yet. Be the first!"})})]})]})]}),e.jsx(U,{children:j&&p&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-dark-100 rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(D,{className:"w-8 h-8 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Game Instructions"})]}),e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Objective"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Draw a path from the green start cell to the red end cell by clicking or dragging through adjacent cells. Avoid obstacles (dark cells) and complete the path before time runs out!"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"How to Play"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 dark:text-gray-400",children:[e.jsx("li",{children:"Click and drag to draw your path from start to end"}),e.jsx("li",{children:"You can only move to adjacent cells (up, down, left, right)"}),e.jsx("li",{children:"Click on a cell in your path to backtrack and change direction"}),e.jsx("li",{children:"Dark cells are obstacles - you cannot pass through them"}),e.jsx("li",{children:"Complete the path within the time limit to win"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Scoring"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 dark:text-gray-400",children:[e.jsx("li",{children:"Base score: 1000 points"}),e.jsx("li",{children:"Time bonus: Faster completion = more points"}),e.jsx("li",{children:"Efficiency bonus: Shorter paths = more points"}),e.jsx("li",{children:"Meet the target score to unlock the next level"})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-2",children:["Level ",p.level.level_number," Details"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{className:"text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Grid Size:"})," ",p.level.grid_size,"x",p.level.grid_size]}),e.jsxs("p",{className:"text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Time Limit:"})," ",Math.floor(p.level.time_limit_seconds/60)," minutes"]}),e.jsxs("p",{className:"text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Target Score:"})," ",p.level.target_score," points"]})]})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:B,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",children:"Start Game"}),e.jsx("button",{onClick:()=>{v(!1),N(null)},className:"flex-1 px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})})})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-dark-50 dark:to-dark-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Company not found"}),e.jsx("button",{onClick:()=>S("/gaming"),className:"mt-4 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Back to Gaming"})]})})};export{je as CompanyGamePage};
