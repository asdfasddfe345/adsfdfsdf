import{j as e,m as R}from"./vendor-motion-_XdJ9pBm.js";import{u as $,r as n,R as V,h as q}from"./vendor-react-B4msnGgW.js";import{b as y}from"./blogService-soXAcHLk.js";import{c as F,u as G,T as W,r as X,n as I,E as Z,j as P,X as J,i as K,R as T,a as Q,L as Y}from"./index-BbSeE-q4.js";import{S as z}from"./star-DBKesPgG.js";import{F as ee}from"./folder-open-CIgGjE_j.js";import{S as te}from"./search-DiwtcWwp.js";import{S as ae,P as se}from"./Pagination-CnHyRBza.js";import{B as re}from"./Breadcrumb-CNnPIU0R.js";import{u as le}from"./useSEO-DCRvpjAE.js";import"./vendor-pdf-B1igRwBP.js";import"./vendor-supabase-B_87WqdG.js";import"./vendor-forms-BxTF4-4_.js";import"./chevron-left-Dbkualgq.js";import"./chevron-right-CPxmRku4.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=F("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=F("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),ie=({post:t,isAuthenticated:f,onShowAuth:c})=>{var i;const o=$(),{user:s}=G(),[m,d]=n.useState(!1),[p,u]=n.useState(!1);n.useEffect(()=>{s!=null&&s.id&&h()},[s==null?void 0:s.id,t.id]);const h=async()=>{if(s!=null&&s.id){u(!0);try{const l=await y.isPostBookmarked(s.id,t.id);d(l)}catch(l){console.error("Error checking bookmark status:",l)}finally{u(!1)}}},j=async l=>{if(l.stopPropagation(),!f){c();return}if(s!=null&&s.id)try{m?(await y.removeBookmark(s.id,t.id),d(!1)):(await y.trackUserInteraction(s.id,t.id,"bookmarked"),d(!0))}catch(x){console.error("Error toggling bookmark:",x)}},g=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),w=()=>{if(!t.reading_difficulty)return null;const x={beginner:{color:"from-green-500 to-emerald-500",text:"Beginner"},intermediate:{color:"from-yellow-500 to-orange-500",text:"Intermediate"},advanced:{color:"from-red-500 to-pink-500",text:"Advanced"}}[t.reading_difficulty];return e.jsx("span",{className:`px-2 py-1 bg-gradient-to-r ${x.color} text-white rounded text-xs font-semibold`,children:x.text})},b=t.trending_score&&t.trending_score>.5,a=t.estimated_reading_time||y.calculateReadingTime(t.body_content);return e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},onClick:()=>o(`/blog/${t.slug}`),className:`bg-slate-800/50 backdrop-blur-sm rounded-xl border-2 ${t.is_featured?"border-yellow-500/50 shadow-lg shadow-yellow-500/10":"border-slate-700/50"} hover:border-emerald-500/50 hover:shadow-emerald-500/10 hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden group`,children:[t.is_featured&&e.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 px-4 py-2 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{className:"font-bold text-sm",children:"Featured Article"})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[e.jsxs("div",{className:"flex-shrink-0 w-full sm:w-32 h-32 bg-slate-700/50 rounded-lg border border-slate-600 overflow-hidden relative",children:[t.featured_image_url?e.jsx("img",{src:t.featured_image_url,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",onError:l=>{const x=l.target;x.style.display="none";const k=x.parentElement;k&&(k.innerHTML=`<div class="w-full h-full rounded-lg bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center text-white font-bold text-2xl">${t.title.charAt(0)}</div>`)}}):e.jsx("div",{className:"w-full h-full rounded-lg bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center text-white font-bold text-2xl",children:t.title.charAt(0)}),b&&e.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[e.jsx(W,{className:"w-3 h-3"}),"Trending"]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2 line-clamp-2 group-hover:text-emerald-400 transition-colors",children:t.title}),t.author_name&&e.jsxs("p",{className:"text-sm text-slate-400 mb-2",children:["by ",t.author_name]})]}),e.jsx("button",{onClick:j,disabled:p,className:"flex-shrink-0 p-2 hover:bg-slate-700/50 rounded-lg transition-colors",title:m?"Remove bookmark":"Bookmark this article",children:m?e.jsx(oe,{className:"w-5 h-5 text-emerald-400"}):e.jsx(ne,{className:"w-5 h-5 text-slate-400 hover:text-emerald-400"})})]}),t.excerpt&&e.jsx("p",{className:"text-sm text-slate-400 mb-3 line-clamp-2",children:t.excerpt}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[w(),(i=t.categories)==null?void 0:i.slice(0,2).map(l=>e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded text-xs font-medium border border-blue-500/30",children:l.name},l.id)),t.categories&&t.categories.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-slate-700/50 text-slate-400 rounded text-xs font-medium",children:["+",t.categories.length-2]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 pt-3 border-t border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:g(t.published_at||t.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[a," min"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:t.view_count})]})]}),e.jsx("button",{onClick:l=>{l.stopPropagation(),o(`/blog/${t.slug}`)},className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-cyan-500 text-white rounded-lg text-sm font-semibold hover:from-emerald-600 hover:to-cyan-600 shadow-md hover:shadow-emerald-500/25 transition-all duration-200",children:"Read Article"})]})]})]})})]})},de=({totalPosts:t,totalCategories:f,featuredPosts:c,averageReadingTime:o})=>{const s=[{label:"Total Articles",value:t,icon:e.jsx(P,{className:"w-5 h-5"}),color:"blue"},{label:"Categories",value:f,icon:e.jsx(ee,{className:"w-5 h-5"}),color:"green"},{label:"Featured Posts",value:c,icon:e.jsx(z,{className:"w-5 h-5"}),color:"yellow"},{label:"Avg. Read Time",value:`${o} min`,icon:e.jsx(I,{className:"w-5 h-5"}),color:"purple"}],m=d=>{switch(d){case"blue":return{bg:"bg-blue-500/20 border border-blue-500/30",text:"text-blue-400"};case"green":return{bg:"bg-green-500/20 border border-green-500/30",text:"text-green-400"};case"yellow":return{bg:"bg-yellow-500/20 border border-yellow-500/30",text:"text-yellow-400"};case"purple":return{bg:"bg-purple-500/20 border border-purple-500/30",text:"text-purple-400"};default:return{bg:"bg-slate-500/20 border border-slate-500/30",text:"text-slate-400"}}};return e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:s.map((d,p)=>{const u=m(d.color);return e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"bg-slate-800/50 backdrop-blur-sm rounded-xl shadow-lg p-4 text-center border border-slate-700/50 hover:shadow-emerald-500/10 hover:border-emerald-500/30 transition-all duration-300",children:[e.jsx("div",{className:`${u.bg} w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 ${u.text}`,children:d.icon}),e.jsx("div",{className:"text-2xl font-bold text-slate-100",children:d.value}),e.jsx("div",{className:"text-sm text-slate-400",children:d.label})]},p)})})},ce=({filters:t,categories:f,onFiltersChange:c,isLoading:o=!1})=>{const[s,m]=V.useState(!1),d=a=>{c({...t,search:a.target.value})},p=a=>{c({...t,category_id:a==="all"?void 0:a})},u=a=>{c({...t,reading_difficulty:a==="all"?void 0:a})},h=a=>{c({...t,sort_by:a})},j=(a,i)=>{c({...t,reading_time_min:a,reading_time_max:i})},g=()=>{c({...t,is_featured:t.is_featured?void 0:!0})},w=()=>{c({}),m(!1)},b=!!(t.search||t.category_id||t.reading_difficulty||t.reading_time_min||t.reading_time_max||t.is_featured||t.sort_by&&t.sort_by!=="newest");return e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-xl shadow-lg border border-slate-700/50 p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(te,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e.jsx("input",{type:"text",value:t.search||"",onChange:d,placeholder:"Search articles by title or content...",disabled:o,className:"w-full pl-12 pr-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-slate-100 placeholder-slate-400 disabled:opacity-50 transition-all"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>m(!s),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${s||b?"bg-emerald-500 text-white hover:bg-emerald-400":"bg-slate-800/50 text-slate-300 border border-slate-700 hover:bg-slate-700/50"}`,disabled:o,children:[e.jsx(ae,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Filters"}),b&&e.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs",children:"Active"})]}),b&&e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-3 bg-red-500/20 text-red-400 rounded-lg font-medium hover:bg-red-500/30 border border-red-500/30 transition-all",disabled:o,children:[e.jsx(J,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Clear"})]})]})]}),s&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700/50 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category"}),e.jsxs("select",{value:t.category_id||"all",onChange:a=>p(a.target.value),disabled:o,className:"w-full px-3 py-2 bg-slate-800/50 border border-slate-700 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-slate-100 disabled:opacity-50",children:[e.jsx("option",{value:"all",children:"All Categories"}),f.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Difficulty"}),e.jsxs("select",{value:t.reading_difficulty||"all",onChange:a=>u(a.target.value),disabled:o,className:"w-full px-3 py-2 bg-slate-800/50 border border-slate-700 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-slate-100 disabled:opacity-50",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Reading Time"}),e.jsxs("select",{value:t.reading_time_min&&t.reading_time_max?`${t.reading_time_min}-${t.reading_time_max}`:"all",onChange:a=>{const i=a.target.value;if(i==="all")j(void 0,void 0);else{const[l,x]=i.split("-").map(Number);j(l,x)}},disabled:o,className:"w-full px-3 py-2 bg-slate-800/50 border border-slate-700 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-slate-100 disabled:opacity-50",children:[e.jsx("option",{value:"all",children:"Any Length"}),e.jsx("option",{value:"1-5",children:"1-5 minutes"}),e.jsx("option",{value:"5-10",children:"5-10 minutes"}),e.jsx("option",{value:"10-15",children:"10-15 minutes"}),e.jsx("option",{value:"15-999",children:"15+ minutes"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sort By"}),e.jsxs("select",{value:t.sort_by||"newest",onChange:a=>h(a.target.value),disabled:o,className:"w-full px-3 py-2 bg-slate-800/50 border border-slate-700 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-slate-100 disabled:opacity-50",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"}),e.jsx("option",{value:"most_viewed",children:"Most Viewed"}),e.jsx("option",{value:"trending",children:"Trending"})]})]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:e.jsx("button",{onClick:g,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${t.is_featured?"bg-amber-500 text-white":"bg-slate-800/50 text-slate-300 border border-slate-700 hover:bg-slate-700/50"}`,disabled:o,children:"Featured Only"})})]})},Ce=({isAuthenticated:t,onShowAuth:f})=>{const c=$(),[o,s]=q();le({title:"Blog - Career Tips, Resume Advice & Interview Guides",description:"Read expert articles on resume building, ATS optimization, interview preparation, and career growth. Stay updated with the latest job market insights.",canonical:"/blog"});const[m,d]=n.useState([]),[p,u]=n.useState([]),[h,j]=n.useState({}),[g,w]=n.useState(!0),[b,a]=n.useState(null),[i,l]=n.useState(()=>{const r=o.get("page");return r?Math.max(1,parseInt(r,10)):1}),[x,k]=n.useState(1),[E,D]=n.useState(0),[_,M]=n.useState({totalPosts:0,totalCategories:0,featuredPosts:0,averageReadingTime:5}),C=12;n.useEffect(()=>{O(),A()},[]),n.useEffect(()=>{S(i,h)},[i,h]),n.useEffect(()=>{const r=o.get("page"),B=r?Math.max(1,parseInt(r,10)):1;B!==i&&l(B)},[o]);const O=async()=>{try{const r=await y.fetchAllCategories();u(r)}catch(r){console.error("Error loading categories:",r)}},A=async()=>{try{const r=await y.getBlogStatistics();M(r)}catch(r){console.error("Error loading stats:",r)}},S=n.useCallback(async(r=1,B=h)=>{w(!0),a(null),window.scrollTo({top:0,behavior:"smooth"});try{const N=await y.fetchPublishedPostsWithAdvancedFilters(r,C,B);d(N.posts),D(N.total),k(N.totalPages),l(r),s({page:r.toString()})}catch(N){a(N instanceof Error?N.message:"Failed to load blog posts")}finally{w(!1)}},[h,C,s]),L=r=>{j(r),l(1),s({page:"1"})},H=r=>{S(r,h)},U=async()=>{await A(),await S(1,h)},v=new Date().getMonth()===11||new Date().getMonth()===0;return e.jsxs("div",{className:`min-h-screen lg:pl-16 transition-colors duration-300 ${v?"bg-gradient-to-b from-[#1a0a0f] via-[#0f1a0f] to-[#070b14]":"bg-gradient-to-b from-[#0a1e1e] via-[#0d1a1a] to-[#070b14]"}`,children:[e.jsx("div",{className:"bg-slate-900/80 backdrop-blur-xl shadow-lg border-b border-slate-800/50 sticky top-0 z-40",children:e.jsx("div",{className:"w-full max-w-full mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between h-16 py-3",children:[e.jsxs("button",{onClick:()=>c("/"),className:`lg:hidden py-3 px-5 rounded-xl inline-flex items-center space-x-2 transition-all duration-200 text-white ${v?"bg-gradient-to-r from-red-500 to-green-600 hover:from-red-400 hover:to-green-500":"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-400 hover:to-cyan-400"}`,children:[e.jsx(K,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:block",children:"Back to Home"})]}),e.jsxs("h1",{className:"text-lg font-semibold text-white",children:[v?"ðŸŽ„ ":"","Blog",v?" ðŸŽ„":""]}),e.jsx("div",{className:"w-24"})]})})}),e.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx(re,{items:[{label:"Home",path:"/"},{label:"Blog",path:"/blog"}]})}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg ${v?"bg-gradient-to-r from-red-500 to-green-600 shadow-red-500/30":"bg-gradient-to-r from-emerald-500 to-cyan-500 shadow-emerald-500/30"}`,children:e.jsx(P,{className:"w-10 h-10 text-white"})}),e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:[v?"ðŸŽ ":"","Explore Our Blog",v?" ðŸŽ":""]}),e.jsx("p",{className:"text-base sm:text-lg text-slate-300 max-w-3xl mx-auto",children:"Expert insights on resume optimization, career development, and job search strategies to help you succeed."}),e.jsx("div",{className:"flex items-center justify-center space-x-4 mt-6",children:e.jsxs("button",{onClick:U,disabled:g,className:"px-4 py-3 rounded-xl font-semibold bg-slate-800/50 text-slate-200 border border-slate-700 hover:bg-slate-700/50 hover:scale-105 transition-all shadow-lg disabled:opacity-50 flex items-center space-x-2",title:"Refresh statistics",children:[e.jsx(T,{className:`w-5 h-5 ${g?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})})]}),e.jsx(de,{totalPosts:_.totalPosts,totalCategories:_.totalCategories,featuredPosts:_.featuredPosts,averageReadingTime:_.averageReadingTime}),e.jsx("div",{className:"mb-8",children:e.jsx(ce,{filters:h,categories:p,onFiltersChange:L,isLoading:g})}),b&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-6 mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{className:"w-6 h-6 text-red-400 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-300",children:"Error Loading Articles"}),e.jsx("p",{className:"text-red-400",children:b})]})]}),e.jsxs("button",{onClick:()=>S(i),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:"Retry"})]})]})}),!b&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4 mb-8",children:m.map(r=>e.jsx(ie,{post:r,isAuthenticated:t,onShowAuth:f},r.id))}),g&&e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(Y,{className:"w-8 h-8 animate-spin text-blue-600 mr-3 dark:text-neon-cyan-400"}),e.jsx("span",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Loading articles..."})]}),!g&&m.length>0&&x>1&&e.jsxs("div",{className:"mt-8",children:[e.jsx(se,{currentPage:i,totalPages:x,onPageChange:H}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(i-1)*C+1," -"," ",Math.min(i*C,E)," of ",E," articles"]})})]}),!g&&m.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-gray-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 dark:bg-dark-200",children:e.jsx(P,{className:"w-10 h-10 text-gray-600 dark:text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Articles Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Try adjusting your filters or search terms to find more content."}),e.jsx("button",{onClick:()=>j({}),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl transition-colors",children:"Clear All Filters"})]})]})]})]})};export{Ce as EnhancedBlogPage};
