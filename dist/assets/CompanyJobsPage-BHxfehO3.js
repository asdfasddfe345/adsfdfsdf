import{j as e,m as A}from"./vendor-motion-_XdJ9pBm.js";import{f as S,u as E,r as o}from"./vendor-react-B4msnGgW.js";import{j as P}from"./jobsService--I8tbRfO.js";import{J as k}from"./JobCard-CwFOHr-9.js";import{u as B,r as $,i as F}from"./useSEO-DCRvpjAE.js";import{F as O}from"./FloatingParticles-DT4T20-4.js";import{L as W,o as I,i as T,a as z}from"./index-BbSeE-q4.js";import{E as D}from"./external-link-CSmvpDBS.js";import{B as U}from"./building-2-B7dH_DvY.js";import"./vendor-pdf-B1igRwBP.js";import"./vendor-supabase-B_87WqdG.js";import"./vendor-forms-BxTF4-4_.js";const se=({isAuthenticated:u,onShowAuth:y,onShowProfile:p})=>{const{companySlug:r}=S(),l=E(),[i,f]=o.useState([]),[j,N]=o.useState(""),[c,v]=o.useState(null),[x,w]=o.useState(null),[b,_]=o.useState(null),[m,C]=o.useState(0),[J,h]=o.useState(!0),[n,g]=o.useState(null),a=j||(r||"").replace(/-/g," ");return B({title:`${a} Jobs & Openings - Apply Now`,description:`Browse ${m} latest job openings at ${a}. Find ${a} careers, fresher & experienced roles. Apply directly on PrimoBoost AI.`,canonical:`/jobs/company/${r}`,ogType:"website",ogImage:c||void 0,twitterCard:"summary_large_image"}),o.useEffect(()=>((async()=>{if(!r){l("/jobs");return}try{h(!0),g(null);const t=await P.getJobsByCompany(r);if(f(t.jobs),N(t.companyName),v(t.companyLogo),w(t.companyWebsite),_(t.companyDescription),C(t.total),t.jobs.length>0){const L=t.jobs.slice(0,20).map(s=>({"@type":"JobPosting",title:s.role_title,description:(s.short_description||s.description||"").substring(0,500),datePosted:s.posted_date||s.created_at,hiringOrganization:{"@type":"Organization",name:s.company_name,...s.company_logo_url?{logo:s.company_logo_url}:{},...s.company_website?{sameAs:s.company_website}:{}},jobLocation:{"@type":"Place",address:{"@type":"PostalAddress",addressLocality:s.location_city||"",addressCountry:"IN"}},employmentType:"FULL_TIME",url:`https://primoboost.ai/jobs/${s.id}`}));F("company-jobs-structured-data",{"@context":"https://schema.org","@graph":L})}}catch(t){g(t instanceof Error?t.message:"Failed to load company jobs")}finally{h(!1)}})(),()=>$("company-jobs-structured-data")),[r,l]),J?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(W,{className:"w-12 h-12 animate-spin text-emerald-400 mb-4"}),e.jsxs("p",{className:"text-lg text-slate-300",children:["Loading ",a," jobs..."]})]})}):e.jsxs("div",{className:"min-h-screen relative overflow-hidden lg:pl-16 bg-gradient-to-b from-[#0a1e1e] via-[#0d1a1a] to-[#070b14]",children:[e.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(16,185,129,0.15),transparent_50%),radial-gradient(ellipse_at_bottom_right,rgba(6,182,212,0.15),transparent_50%)]"}),e.jsx(O,{count:10}),e.jsxs("div",{className:"relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[e.jsx("nav",{"aria-label":"Breadcrumb",className:"text-sm text-slate-400 mb-6",children:e.jsxs("ol",{className:"flex items-center gap-1",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>l("/jobs"),className:"hover:text-emerald-400 font-medium transition-colors",children:"Jobs"})}),e.jsx("li",{className:"mx-1","aria-hidden":"true",children:"/"}),e.jsx("li",{className:"font-semibold text-slate-200",children:a})]})}),e.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl border border-slate-700/50 p-8 mb-8",children:e.jsxs("div",{className:"flex items-start gap-6",children:[c?e.jsx("img",{src:c,alt:`${a} company logo`,className:"w-20 h-20 rounded-xl object-contain bg-slate-700/50 p-2 border border-slate-600",loading:"eager",width:80,height:80}):e.jsx("div",{className:"w-20 h-20 rounded-xl bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center text-white font-bold text-2xl shadow-lg flex-shrink-0",children:a.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-2",children:[a," Jobs & Openings"]}),e.jsxs("p",{className:"text-lg text-slate-300 mb-4",children:[m," open position",m!==1?"s":""," available"]}),b&&e.jsx("p",{className:"text-slate-400 mb-4 line-clamp-3",children:b}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[x&&e.jsxs("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-emerald-400 hover:text-emerald-300 transition-colors",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsx("span",{children:"Company Website"}),e.jsx(D,{className:"w-3 h-3"})]}),e.jsxs("button",{onClick:()=>l("/jobs"),className:"inline-flex items-center gap-1.5 text-sm text-slate-400 hover:text-white transition-colors",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:"All Jobs"})]})]})]})]})}),n&&e.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 rounded-xl p-6 mb-8 flex items-center gap-3",children:[e.jsx(z,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),e.jsx("p",{className:"text-red-300",children:n})]}),!n&&i.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(U,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-slate-200 mb-2",children:"No openings found"}),e.jsxs("p",{className:"text-slate-400 mb-6",children:["We don't have any active job listings for ",a," right now."]}),e.jsx("button",{onClick:()=>l("/jobs"),className:"bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors",children:"Browse All Jobs"})]}),!n&&i.length>0&&e.jsx("div",{className:"space-y-4",children:i.map(d=>e.jsx(k,{job:d,isAuthenticated:u,onShowAuth:y,onCompleteProfile:()=>p&&p("profile")},d.id))})]})]})};export{se as CompanyJobsPage};
