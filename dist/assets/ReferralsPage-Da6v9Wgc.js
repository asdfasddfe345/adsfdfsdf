import{j as e,m as c}from"./vendor-motion-_XdJ9pBm.js";import{u as _,r as a}from"./vendor-react-B4msnGgW.js";import{r as d}from"./referralService-D35ZF_Jn.js";import{U as C,t as S,B as k,O as L}from"./index-BbSeE-q4.js";import{S as p}from"./search-DiwtcWwp.js";import{S as R}from"./star-DBKesPgG.js";import{F as P}from"./filter-DR1pDKYq.js";import{B as h}from"./building-2-B7dH_DvY.js";import{C as A}from"./chevron-right-CPxmRku4.js";import{I as n}from"./indian-rupee-CtMJjFIv.js";import{C as B}from"./code-GxPtUTRK.js";import"./vendor-pdf-B1igRwBP.js";import"./vendor-supabase-B_87WqdG.js";import"./vendor-forms-BxTF4-4_.js";const K=({onShowAuth:G})=>{const u=_(),[m,f]=a.useState([]),[i,b]=a.useState(null),[j,g]=a.useState(!0),[r,N]=a.useState(""),[o,y]=a.useState("");a.useEffect(()=>{(async()=>{const[l,t]=await Promise.all([d.getActiveListings(),d.getPricing()]);f(l),b(t),g(!1)})()},[]);const w=[...new Set(m.map(s=>s.company_name))].sort(),x=m.filter(s=>{const l=!r||s.company_name.toLowerCase().includes(r.toLowerCase())||s.role_title.toLowerCase().includes(r.toLowerCase())||s.tech_stack.some(v=>v.toLowerCase().includes(r.toLowerCase())),t=!o||s.company_name===o;return l&&t});return j?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-emerald-400 border-t-transparent rounded-full animate-spin"})}):e.jsx("div",{className:"min-h-screen pb-20 md:pl-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 pt-8 sm:pt-12",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-10",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-sm font-medium mb-5",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:"Company Referrals"})]}),e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4 leading-tight",children:"Get Referred to Top Companies"}),e.jsx("p",{className:"text-slate-400 text-base sm:text-lg max-w-2xl mx-auto leading-relaxed",children:"Access employee referrals at leading companies. Get your profile in front of hiring managers through verified referrers."})]}),i&&e.jsxs(c.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.15},className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-10",children:[e.jsxs("div",{className:"bg-slate-800/40 border border-slate-700/40 rounded-xl p-5 text-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400 mx-auto mb-3",children:e.jsx(p,{className:"w-5 h-5"})}),e.jsx("p",{className:"text-white font-semibold text-sm mb-1",children:"Referral Query"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Get referrer contact details"})]}),e.jsxs("div",{className:"bg-slate-800/40 border border-slate-700/40 rounded-xl p-5 text-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/10 flex items-center justify-center text-amber-400 mx-auto mb-3",children:e.jsx(R,{className:"w-5 h-5"})}),e.jsx("p",{className:"text-white font-semibold text-sm mb-1",children:"Profile Monetization"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Get your profile shared with referrer"})]}),e.jsxs("div",{className:"bg-slate-800/40 border border-slate-700/40 rounded-xl p-5 text-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center text-emerald-400 mx-auto mb-3",children:e.jsx(S,{className:"w-5 h-5"})}),e.jsx("p",{className:"text-white font-semibold text-sm mb-1",children:"Consultation Slot"}),e.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:[i.slot_duration_minutes,"-min resume review session"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-8",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),e.jsx("input",{type:"text",placeholder:"Search by company, role, or tech...",value:r,onChange:s=>N(s.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-800/60 border border-slate-700/50 rounded-xl text-white text-sm placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),e.jsxs("select",{value:o,onChange:s=>y(s.target.value),className:"pl-10 pr-8 py-2.5 bg-slate-800/60 border border-slate-700/50 rounded-xl text-white text-sm appearance-none focus:outline-none focus:border-emerald-500/50 min-w-[160px]",children:[e.jsx("option",{value:"",children:"All Companies"}),w.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),x.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(h,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"No referrals available right now."}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Check back soon for new opportunities!"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:x.map((s,l)=>e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+l*.05},onClick:()=>u(`/referrals/${s.id}`),className:"bg-gradient-to-br from-[#0d1f2d] to-[#0a1a24] border border-slate-700/50 rounded-2xl p-5 sm:p-6 cursor-pointer hover:border-emerald-500/30 transition-all group",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.company_logo_url?e.jsx("img",{src:s.company_logo_url,alt:s.company_name,className:"w-12 h-12 rounded-xl object-contain bg-white/5 p-1.5 flex-shrink-0"}):e.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/10 flex items-center justify-center flex-shrink-0",children:e.jsx(h,{className:"w-6 h-6 text-emerald-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-white font-bold text-lg truncate group-hover:text-emerald-400 transition-colors",children:s.company_name}),e.jsx("p",{className:"text-slate-300 text-sm font-medium truncate",children:s.role_title})]}),e.jsx(A,{className:"w-5 h-5 text-slate-600 group-hover:text-emerald-400 transition-colors flex-shrink-0 mt-1"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.experience_range&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-lg bg-slate-800/60 text-slate-300 text-xs",children:[e.jsx(k,{className:"w-3 h-3"}),s.experience_range]}),s.package_range&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-lg bg-slate-800/60 text-slate-300 text-xs",children:[e.jsx(n,{className:"w-3 h-3"}),s.package_range]}),s.location&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-lg bg-slate-800/60 text-slate-300 text-xs",children:[e.jsx(L,{className:"w-3 h-3"}),s.location]})]}),s.tech_stack.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[s.tech_stack.slice(0,5).map(t=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md bg-emerald-500/10 text-emerald-400 text-xs font-medium",children:[e.jsx(B,{className:"w-3 h-3"}),t]},t)),s.tech_stack.length>5&&e.jsxs("span",{className:"text-slate-500 text-xs self-center",children:["+",s.tech_stack.length-5," more"]})]}),(s.query_price!==null||s.profile_price!==null||s.slot_price!==null)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[s.query_price!==null&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md bg-blue-500/10 text-blue-400 text-xs",children:[e.jsx(n,{className:"w-3 h-3"}),s.query_price/100," Query"]}),s.profile_price!==null&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md bg-amber-500/10 text-amber-400 text-xs",children:[e.jsx(n,{className:"w-3 h-3"}),s.profile_price/100," Profile"]}),s.slot_price!==null&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md bg-emerald-500/10 text-emerald-400 text-xs",children:[e.jsx(n,{className:"w-3 h-3"}),s.slot_price/100," Slot"]})]}),s.referrer_name&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-700/40 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center text-emerald-400 text-xs font-bold",children:s.referrer_name[0]}),e.jsxs("span",{className:"text-slate-400 text-xs",children:["Referred by ",e.jsx("span",{className:"text-slate-300 font-medium",children:s.referrer_name}),s.referrer_designation&&` - ${s.referrer_designation}`]})]})]},s.id))})]})})};export{K as ReferralsPage};
