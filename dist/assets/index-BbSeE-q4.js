const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-CuCJhKd5.js","assets/vendor-motion-_XdJ9pBm.js","assets/vendor-react-B4msnGgW.js","assets/Card-BkG_et63.js","assets/useSEO-DCRvpjAE.js","assets/star-DBKesPgG.js","assets/zap-BGmE2sY4.js","assets/check-BiYzalIN.js","assets/chevron-up-n5SsRS4Y.js","assets/award-BwmFe92M.js","assets/linkedin-BE-lD9p2.js","assets/vendor-pdf-B1igRwBP.js","assets/vendor-supabase-B_87WqdG.js","assets/vendor-forms-BxTF4-4_.js","assets/ResumeOptimizer-BZd0mod8.js","assets/FloatingParticles-DT4T20-4.js","assets/ChristmasSnow-BRNxvkei.js","assets/ResumePreview-Br_JyetK.js","assets/rotate-ccw-BQdMKeUh.js","assets/maximize-2-jpotZCLP.js","assets/download-DWlYtjQA.js","assets/x-circle-ytsTtMRB.js","assets/type-Cez_liJx.js","assets/scoringService-DCsBvtcR.js","assets/edenAITextService-y6w1oEiu.js","assets/aiProxyService-HwcJnoDm.js","assets/plus-C66eGFjH.js","assets/lightbulb-ZFvDqHVp.js","assets/quote-DhoHTT2m.js","assets/send-BNy5p617.js","assets/graduation-cap-C94epHPK.js","assets/code-GxPtUTRK.js","assets/parsingMetricsService-4OdIQr6T.js","assets/FileUpload-BOclREAt.js","assets/upload-CurydzNZ.js","assets/building-2-B7dH_DvY.js","assets/jobsService--I8tbRfO.js","assets/external-link-CSmvpDBS.js","assets/GuidedResumeBuilder-2tRZY8VH.js","assets/geminiService-Cvd_mUGO.js","assets/skillsTaxonomy-DwA4nl1M.js","assets/ResumeScoreChecker-CDfLxlVt.js","assets/atsScoreChecker16Parameter-Y6m_ylQU.js","assets/fullResumeRewriter16ParameterService-DSVdtcHM.js","assets/bar-chart-3-Da2kizNa.js","assets/LinkedInMessageGenerator-CTdIiyzE.js","assets/copy-Cl8vstA9.js","assets/share-2-DTGj1YLy.js","assets/AboutUs-CLSx6Csm.js","assets/heart-ByXJSIR6.js","assets/Contact-556cASbq.js","assets/Tutorials-CNVDSDUs.js","assets/play-BW95sg1B.js","assets/search-DiwtcWwp.js","assets/UserProfileManagement-mDxPU92K.js","assets/sessionBookingService-DouAmnnK.js","assets/webinarService-DXJAyzaf.js","assets/calendar-plus-DnXxx5sQ.js","assets/hash-Cu1sPzkK.js","assets/indian-rupee-CtMJjFIv.js","assets/userPreferencesService-DZIYREKg.js","assets/bell-Be08K7G7.js","assets/save-CEu7G9Ms.js","assets/settings-BIk3p6dz.js","assets/SubscriptionPlans-DfmsVcVJ.js","assets/rocket-B20MutLI.js","assets/chevron-left-Dbkualgq.js","assets/chevron-right-CPxmRku4.js","assets/tag-DQBqne1U.js","assets/ToolsAndPagesNavigation-CA9lzo41.js","assets/PlanSelectionModal-D-dJYogK.js","assets/FloatingChatbot-CZKB-azg.js","assets/CareersPage-ChtFOqao.js","assets/cloud-DgR56UEK.js","assets/database-BUKIZYYv.js","assets/JobDetailsPageNew-EJYdTA5F.js","assets/user-check-BwtIKeEV.js","assets/JobsPage-Bo91r_P8.js","assets/JobCard-CwFOHr-9.js","assets/Pagination-CnHyRBza.js","assets/jobUpdatesService-uAKDJqBS.js","assets/supabase-DdGTG0kf.js","assets/resumeAnalysisService-CK8PLPdm.js","assets/index-4HxsnF8w.js","assets/geminiServiceWrapper-tvm4MzT7.js","assets/check-circle-2-CTQiiFfd.js","assets/CompanyJobsPage-BHxfehO3.js","assets/MyApplicationsPage-7Z5j5NN9.js","assets/filter-DR1pDKYq.js","assets/JobApplicationPage-gZwaWMil.js","assets/Breadcrumb-CNnPIU0R.js","assets/link-XSUKRoOO.js","assets/clipboard-check-DBGI9Bmi.js","assets/JobApplicationFormPage-CrLGwxMb.js","assets/AdminRoute-CZ95OXgT.js","assets/JobUploadForm-1h8FPtRb.js","assets/ImageUpload-BQtfBKk6.js","assets/image-kEimRz0x.js","assets/rotate-cw-C_Z91Fe1.js","assets/AdminJobsPage-C3kYPa1v.js","assets/toggle-right-x2PKfQV-.js","assets/JobEditPage-CVJHe5Sh.js","assets/AdminUsersPage-BAiZGEWq.js","assets/PortfolioBuilderPage-CJoVfX59.js","assets/MockInterviewPage-DYTfb-82.js","assets/InterviewSummaryReport-DvnPzzAF.js","assets/pause-C7_k2ztz.js","assets/trophy-D8agcnr9.js","assets/ResumeBasedInterviewPage-BnkNRDzj.js","assets/codeCompilerService-Fc1MZoaD.js","assets/loader-Bt6ig5Kl.js","assets/UnifiedInterviewOrchestrator-B1QLujcW.js","assets/DurationConfigScreen-BsbmgIDc.js","assets/SmartInterviewPage-D0Bab51R.js","assets/deepseekService-BJOuo5BV.js","assets/EnhancedBlogPage-Cb0bhRmE.js","assets/blogService-soXAcHLk.js","assets/folder-open-CIgGjE_j.js","assets/BlogPostPage-Pj0bixuX.js","assets/AdminBlogPostsList-odGCehw4.js","assets/adminBlogService-CrbxTU7H.js","assets/square-pen-CSgRhjVa.js","assets/AdminBlogPostForm-Ce0b-E6H.js","assets/AdminBlogCategoriesManager-DGTDpwi0.js","assets/EmailTestingPanel-Dy7PCDSQ.js","assets/WebinarsPage-C84_Xa_R.js","assets/ATSScoreChecker16Parameter-DjItqcVY.js","assets/ATSScoreChecker16ParameterAdvanced-r4OCTICc.js","assets/WebinarLandingPage-CFumwCmP.js","assets/WebinarDetailsPage-Dt6FTWgM.js","assets/MyWebinarsPage-D0k0g0cw.js","assets/GamingAptitudePage-CkdJBkQ0.js","assets/gamingService-B0z_NE56.js","assets/key-emeMdLGH.js","assets/CompanyGamePage-CXgMhVFc.js","assets/AccenturePathFinderPage-Bj8LKC-P.js","assets/CognitivePathFinderPage-0z1WQ-px.js","assets/AdminPage-DMmNfji8.js","assets/star-off-CQ3zi2b6.js","assets/dollar-sign-DGh0A-Eb.js","assets/KeyFinderPage-MowjJ62y.js","assets/BubbleSelectionPage-C6WrA7II.js","assets/SpatialReasoningDemoPage-BiU7qiC-.js","assets/ResetPasswordPage-CqUWxLqE.js","assets/TestEmailDigest-DMpHgA0z.js","assets/SessionLandingPage-D0Hk2Qdp.js","assets/SessionBookingFlow-Binx7_vo.js","assets/MyBookingsPage-RfjJlD2A.js","assets/AdminSessionSchedule-BBHCFZp8.js","assets/adminSessionService-BGVyJgNb.js","assets/AdminSessionServiceEditor-OfXTcM1Q.js","assets/AdminWebinarsPage-B9bodCRs.js","assets/ReferralsPage-Da6v9Wgc.js","assets/referralService-D35ZF_Jn.js","assets/ReferralDetailPage-Cox2Q4Lu.js","assets/AdminReferralsPage-DflQ1EoK.js"])))=>i.map(i=>d[i]);
var Bt=Object.defineProperty;var Vt=(o,s,t)=>s in o?Bt(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t;var K=(o,s,t)=>Vt(o,typeof s!="symbol"?s+"":s,t);import{j as e,A as Pe,m as I}from"./vendor-motion-_XdJ9pBm.js";import{a as bt,r as l,u as pe,L as _e,b as yt,R as Ft,c as qt,d as N,N as Ht,B as Gt}from"./vendor-react-B4msnGgW.js";import{_ as S}from"./vendor-pdf-B1igRwBP.js";import{c as Wt}from"./vendor-supabase-B_87WqdG.js";import{o as Jt,r as Zt,a as Kt,b as Ze,s as W,u as Ke}from"./vendor-forms-BxTF4-4_.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();var vt,dt=bt;vt=dt.createRoot,dt.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),k=(o,s)=>{const t=l.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:d,...m},p)=>l.createElement("svg",{ref:p,...Yt,width:r,height:r,stroke:a,strokeWidth:i?Number(n)*24/Number(r):n,className:["lucide",`lucide-${Xt(o)}`,c].join(" "),...m},[...s.map(([f,j])=>l.createElement(f,j)),...Array.isArray(d)?d:[d]]));return t.displayName=`${o}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=k("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=k("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=k("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=k("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=k("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=k("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=k("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=k("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=k("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=k("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=k("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=k("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=k("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=k("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=k("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=k("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=k("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=k("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=k("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=k("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=k("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=k("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=k("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=k("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=k("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=k("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=k("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=k("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=k("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=k("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=k("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=k("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=k("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=k("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=k("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=k("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=k("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=k("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=k("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=k("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=k("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=k("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=k("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=k("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=k("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=k("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=k("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=k("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=k("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=k("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);console.log("DEBUG: Entering supabaseClient.ts");const ds="https://rixmudvtbfkjpwjoefon.supabase.co",ms="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpeG11ZHZ0YmZranB3am9lZm9uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1ODk4NzIsImV4cCI6MjA2NjE2NTg3Mn0.PQss75_gbLaiJDFxKvCuHNirUVkKUGrINYGO1oewQGA";console.log("SupabaseClient: Attempting to initialize client.");console.log("SupabaseClient: VITE_SUPABASE_URL:","FROM ENV");console.log("SupabaseClient: VITE_SUPABASE_ANON_KEY:","FROM ENV");const us=()=>{const o={};return(()=>{try{const t="__supabase_storage_test__";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}})()?(console.log("SupabaseClient: localStorage is available"),window.localStorage):(console.warn("SupabaseClient: localStorage not available, using in-memory storage fallback"),{getItem:t=>o[t]??null,setItem:(t,a)=>{o[t]=a},removeItem:t=>{delete o[t]}})},w=Wt(ds,ms,{auth:{storage:us(),autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});console.log("SupabaseClient: Supabase client initialized successfully.");class hs{async getDeviceInfo(){const s=navigator.userAgent,t=window.screen,a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(s),n=/iPad|Android(?=.*\bMobile\b)(?=.*\bSafari\b)/i.test(s)||t.width>=768&&t.width<=1024?"tablet":a?"mobile":"desktop",i=this.parseBrowserInfo(s),c=this.parseOSInfo(s),d=`${i.name}|${i.version}|${c.name}|${t.width}x${t.height}|${Intl.DateTimeFormat().resolvedOptions().timeZone}|${navigator.language}`,p=new TextEncoder().encode(d),f=await crypto.subtle.digest("SHA-256",p);return{fingerprint:Array.from(new Uint8Array(f)).map(x=>x.toString(16).padStart(2,"0")).join(""),name:this.generateDeviceName(n,i.name,c.name),type:n,browser:i,os:c,screen:{width:t.width,height:t.height,resolution:`${t.width}x${t.height}`},timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language}}parseBrowserInfo(s){const t=[{name:"Chrome",regex:/Chrome\/(\d+\.\d+)/},{name:"Firefox",regex:/Firefox\/(\d+\.\d+)/},{name:"Safari",regex:/Safari\/(\d+\.\d+)/},{name:"Edge",regex:/Edg\/(\d+\.\d+)/},{name:"Opera",regex:/Opera\/(\d+\.\d+)/}];for(const a of t){const r=s.match(a.regex);if(r)return{name:a.name,version:r[1]}}return{name:"Unknown",version:"0.0"}}parseOSInfo(s){const t=[{name:"Windows",regex:/Windows NT (\d+\.\d+)/},{name:"macOS",regex:/Mac OS X (\d+[._]\d+)/},{name:"Linux",regex:/Linux/},{name:"Android",regex:/Android (\d+\.\d+)/},{name:"iOS",regex:/OS (\d+_\d+)/}];for(const a of t){const r=s.match(a.regex);if(r){const n=r[1]?r[1].replace("_","."):"0.0";return{name:a.name,version:n}}}return{name:"Unknown",version:"0.0"}}generateDeviceName(s,t,a){return`${{desktop:"ðŸ–¥ï¸",mobile:"ðŸ“±",tablet:"ðŸ“±"}[s]||"ðŸ’»"} ${t} on ${a}`}async getUserIP(){return console.warn("getUserIP: Skipping external IP lookup due to environment constraints or CORS."),"0.0.0.0"}async getLocationFromIP(s){return console.warn("getLocationFromIP: Skipping external location lookup due to environment constraints or CORS."),null}async registerDevice(s){try{const t=await this.getDeviceInfo();let a="0.0.0.0",r=null;try{a=await this.getUserIP(),a!=="0.0.0.0"&&(r=await this.getLocationFromIP(a))}catch(c){console.warn("Network requests failed during device registration:",c)}let n,i;try{const c=await w.rpc("register_device",{user_uuid:s,device_fingerprint_param:t.fingerprint,device_name_param:t.name,device_type_param:t.type,browser_name_param:t.browser.name,browser_version_param:t.browser.version,os_name_param:t.os.name,os_version_param:t.os.version,screen_resolution_param:t.screen.resolution,timezone_param:t.timezone,language_param:t.language,ip_address_param:a,location_param:r});n=c.data,i=c.error}catch(c){console.warn("RPC function register_device not available, using direct table insert:",c);const{data:d,error:m}=await w.from("user_devices").select("id").eq("user_id",s).eq("device_fingerprint",t.fingerprint).maybeSingle();if(m)return console.error("Error checking existing device:",m),null;if(d){const{data:p,error:f}=await w.from("user_devices").update({last_seen_at:new Date().toISOString(),last_ip_address:a,last_location:r}).eq("id",d.id).select("id").single();n=p==null?void 0:p.id,i=f}else{const{data:p,error:f}=await w.from("user_devices").insert({user_id:s,device_fingerprint:t.fingerprint,device_name:t.name,device_type:t.type,browser_name:t.browser.name,browser_version:t.browser.version,os_name:t.os.name,os_version:t.os.version,screen_resolution:t.screen.resolution,timezone:t.timezone,language:t.language,last_ip_address:a,last_location:r,is_trusted:!1,is_active:!0}).select("id").single();n=p==null?void 0:p.id,i=f}}return i?(console.error("Error registering device:",i),null):n}catch(t){return console.error("Error in registerDevice:",t),null}}async createSession(s,t,a){try{let r="0.0.0.0",n=null;try{r=await this.getUserIP(),r!=="0.0.0.0"&&(n=await this.getLocationFromIP(r))}catch(d){console.warn("Network requests failed during session creation:",d)}let i,c;try{const d=await w.rpc("create_session",{user_uuid:s,device_uuid:t,session_token_param:a,ip_address_param:r,user_agent_param:navigator.userAgent,location_param:n});i=d.data,c=d.error}catch(d){console.warn("RPC function create_session not available, using direct table insert:",d);const m=new Date(Date.now()+24*60*60*1e3),{data:p,error:f}=await w.from("user_sessions").insert({user_id:s,device_id:t,session_token:a,ip_address:r,user_agent:navigator.userAgent,location:n,is_active:!0,expires_at:m.toISOString(),last_activity_at:new Date().toISOString()}).select("id").single();i=p==null?void 0:p.id,c=f}return c?(console.error("Error creating session:",c),null):i}catch(r){return console.error("Error in createSession:",r),null}}async endSession(s,t="logout"){try{let a,r;try{const n=await w.rpc("end_session",{session_token_param:s,end_reason_param:t});a=n.data,r=n.error}catch(n){console.warn("RPC function end_session not available, using direct table update:",n);const{data:i,error:c}=await w.from("user_sessions").update({is_active:!1,ended_at:new Date().toISOString(),end_reason:t}).eq("session_token",s).eq("is_active",!0);a=i,r=c}return r?(console.error("Error ending session:",r),!1):!0}catch(a){return console.error("Error in endSession:",a),!1}}async logActivity(s,t,a,r,n){try{let i="0.0.0.0",c=null;try{i=await this.getUserIP(),i!=="0.0.0.0"&&(c=await this.getLocationFromIP(i))}catch(m){console.warn("Network requests failed during activity logging:",m)}const d=await this.calculateRiskScore(s,i,c);try{await w.rpc("log_device_activity",{user_uuid:s,device_uuid:r,session_uuid:n,activity_type_param:t,activity_details_param:a,ip_address_param:i,location_param:c,user_agent_param:navigator.userAgent,risk_score_param:d})}catch(m){console.warn("RPC function log_device_activity not available, using direct table insert:",m),await w.from("device_activity_logs").insert({user_id:s,device_id:r,session_id:n,activity_type:t,activity_details:a,ip_address:i,location:c,user_agent:navigator.userAgent,risk_score:d})}}catch(i){console.error("Error logging activity:",i)}}async calculateRiskScore(s,t,a){var r,n;try{try{const{data:i,error:c}=await w.rpc("detect_suspicious_activity",{user_uuid:s,ip_address_param:t,location_param:a,user_agent_param:navigator.userAgent});return c?(r=c.message)!=null&&r.includes("function")||(n=c.message)!=null&&n.includes("does not exist")?(console.warn("Risk scoring function not available, using default score"),0):(console.error("Error calculating risk score:",c),0):i||0}catch(i){return console.warn("Risk scoring RPC call failed, using default score:",i),0}}catch(i){return console.error("Error in calculateRiskScore:",i),0}}async getUserDevices(s){try{let t,a;try{const r=await w.rpc("get_user_devices",{user_uuid:s});t=r.data,a=r.error}catch(r){console.warn("RPC function get_user_devices not available, using direct table query:",r);const{data:n,error:i}=await w.from("user_devices").select(`
            id,
            device_name,
            device_type,
            browser_name,
            os_name,
            is_trusted,
            last_seen_at,
            last_location
          `).eq("user_id",s).eq("is_active",!0).order("last_seen_at",{ascending:!1});t=n==null?void 0:n.map(c=>({device_id:c.id,device_name:c.device_name,device_type:c.device_type,browser_name:c.browser_name,os_name:c.os_name,is_trusted:c.is_trusted,last_seen_at:c.last_seen_at,last_location:c.last_location,active_sessions:0})),a=i}return a?(console.error("Error getting user devices:",a),[]):t.map(r=>({id:r.device_id,deviceName:r.device_name,deviceType:r.device_type,browserName:r.browser_name,osName:r.os_name,isTrusted:r.is_trusted,lastSeenAt:r.last_seen_at,lastLocation:r.last_location,activeSessions:r.active_sessions}))}catch(t){return console.error("Error in getUserDevices:",t),[]}}async getUserSessions(s){try{const{data:t,error:a}=await w.from("user_sessions").select(`
          id,
          device_id,
          ip_address,
          user_agent,
          location,
          is_active,
          expires_at,
          last_activity_at,
          created_at
        `).eq("user_id",s).eq("is_active",!0).order("last_activity_at",{ascending:!1});return a?(console.error("Error getting user sessions:",a),[]):t.map(r=>({id:r.id,deviceId:r.device_id,ipAddress:r.ip_address,userAgent:r.user_agent,location:r.location,isActive:r.is_active,expiresAt:r.expires_at,lastActivityAt:r.last_activity_at,createdAt:r.created_at}))}catch(t){return console.error("Error in getUserSessions:",t),[]}}async getUserActivityLogs(s,t=50){try{const{data:a,error:r}=await w.from("device_activity_logs").select("*").eq("user_id",s).order("created_at",{ascending:!1}).limit(t);return r?(console.error("Error getting activity logs:",r),[]):a.map(n=>({id:n.id,activityType:n.activity_type,activityDetails:n.activity_details,ipAddress:n.ip_address,location:n.location,riskScore:n.risk_score,createdAt:n.created_at}))}catch(a){return console.error("Error in getUserActivityLogs:",a),[]}}async trustDevice(s){try{const{error:t}=await w.from("user_devices").update({is_trusted:!0}).eq("id",s);return t?(console.error("Error trusting device:",t),!1):!0}catch(t){return console.error("Error in trustDevice:",t),!1}}async removeDevice(s){try{await w.rpc("end_session",{session_token_param:null,end_reason_param:"device_removed"});const{error:t}=await w.from("user_devices").update({is_active:!1}).eq("id",s);return t?(console.error("Error removing device:",t),!1):!0}catch(t){return console.error("Error in removeDevice:",t),!1}}async endSpecificSession(s){try{const{error:t}=await w.from("user_sessions").update({is_active:!1,ended_at:new Date().toISOString(),end_reason:"manual_logout"}).eq("id",s);return t?(console.error("Error ending session:",t),!1):!0}catch(t){return console.error("Error in endSpecificSession:",t),!1}}async endAllOtherSessions(s,t){try{const{error:a}=await w.from("user_sessions").update({is_active:!1,ended_at:new Date().toISOString(),end_reason:"logout_all_others"}).eq("user_id",s).neq("session_token",t).eq("is_active",!0);return a?(console.error("Error ending other sessions:",a),!1):!0}catch(a){return console.error("Error in endAllOtherSessions:",a),!1}}}const L=new hs;class ps{constructor(){K(this,"plans",[{id:"leader_plan",name:"Leader Plan",price:6400,mrp:12800,discountPercentage:50,duration:"One-time Purchase",optimizations:100,scoreChecks:100,linkedinMessages:0,guidedBuilds:0,tag:"Top Tier",tagColor:"text-purple-800 bg-purple-100",gradient:"from-purple-500 to-indigo-500",icon:"crown",features:["100 Resume Optimizations","100 Score Checks","Priority Support","3 Months Linkedin premium free "],popular:!0,durationInHours:8760},{id:"achiever_plan",name:"Achiever Plan",price:3200,mrp:6400,discountPercentage:50,duration:"One-time Purchase",optimizations:50,scoreChecks:50,linkedinMessages:0,guidedBuilds:0,tag:"Best Value",tagColor:"text-blue-800 bg-blue-100",gradient:"from-blue-500 to-cyan-500",icon:"zap",features:["50 Resume Optimizations","50 Score Checks","Standard Support"],popular:!1,durationInHours:8760},{id:"accelerator_plan",name:"Accelerator Plan",price:1600,mrp:3200,discountPercentage:50,duration:"One-time Purchase",optimizations:25,scoreChecks:25,linkedinMessages:0,guidedBuilds:0,tag:"Great Start",tagColor:"text-green-800 bg-green-100",gradient:"from-green-500 to-emerald-500",icon:"rocket",features:["25 Resume Optimizations","25 Score Checks","Email Support"],popular:!1,durationInHours:8760},{id:"starter_plan",name:"Starter Plan",price:640,mrp:1280,discountPercentage:50,duration:"One-time Purchase",optimizations:10,scoreChecks:10,linkedinMessages:0,guidedBuilds:0,tag:"Quick Boost",tagColor:"text-yellow-800 bg-yellow-100",gradient:"from-yellow-500 to-orange-500",icon:"target",features:["10 Resume Optimizations","10 Score Checks","Basic Support"],popular:!1,durationInHours:8760},{id:"kickstart_plan",name:"Kickstart Plan",price:320,mrp:640,discountPercentage:50,duration:"One-time Purchase",optimizations:5,scoreChecks:5,linkedinMessages:0,guidedBuilds:0,tag:"Essential",tagColor:"text-red-800 bg-red-100",gradient:"from-red-500 to-pink-500",icon:"wrench",features:["5 Resume Optimizations","5 Score Checks","Priority Support"],popular:!1,durationInHours:8760}]);K(this,"addOns",[{id:"jd_optimization_single_purchase",name:"JD-Based Optimization (1 Use)",price:19,type:"optimization",quantity:1},{id:"resume_score_check_single_purchase",name:"Resume Score Check (1 Use)",price:9,type:"score_check",quantity:1}])}getPlans(){return this.plans}getAddOns(){return this.addOns}getPlanById(s){return this.plans.find(t=>t.id===s)}getAddOnById(s){return this.addOns.find(t=>t.id===s)}async getUserSubscription(s){console.log("PaymentService: Fetching user subscription for userId:",s);try{const{data:t,error:a}=await w.from("subscriptions").select("*").eq("user_id",s).eq("status","active").order("created_at",{ascending:!1});if(a)return console.error("PaymentService: Error fetching user subscriptions:",a.message,a.details),null;let r=0,n=0,i=0,c=0,d=0,m=0,p=0,f=0,j=null,g=null,x="inactive",b="",v="",y=null,A=null;if(t&&t.length>0){t.forEach(T=>{r+=Number(T.optimizations_used??0),n+=Number(T.optimizations_total??0),i+=Number(T.score_checks_used??0),c+=Number(T.score_checks_total??0),d+=Number(T.linkedin_messages_used??0),m+=Number(T.linkedin_messages_total??0),p+=Number(T.guided_builds_used??0),f+=Number(T.guided_builds_total??0)});const M=t[0];j=M.id,g=M.plan_id,x=M.status,b=M.start_date,v=M.end_date,y=M.payment_id,A=M.coupon_used}const{data:_,error:E}=await w.from("user_addon_credits").select(`
          id,
          user_id,
          addon_type_id,
          quantity_purchased,
          quantity_remaining,
          addon_types(type_key)
        `).eq("user_id",s);console.log("PaymentService: Fetched raw add-on credits data:",_),E&&console.error("PaymentService: Error fetching add-on credits:",E.message,E.details);const h={optimization:{total:0,used:0},score_check:{total:0,used:0},linkedin_messages:{total:0,used:0},guided_build:{total:0,used:0}};(_||[]).forEach(M=>{var xe;const T=(xe=M.addon_types)==null?void 0:xe.type_key,ie=Number(M.quantity_purchased??0),ge=Number(M.quantity_remaining??0);h[T]&&(h[T].total+=ie,h[T].used+=Math.max(0,ie-ge)),console.log(`PaymentService: Processing add-on credit - typeKey: ${T}, purchased: ${ie}, remaining: ${ge}`)}),console.log("PaymentService: Aggregated add-on credits:",h);const u=n+h.optimization.total,P=c+h.score_check.total,D=m+h.linkedin_messages.total,X=f+h.guided_build.total,Ce=r+h.optimization.used,Ie=i+h.score_check.used,De=d+h.linkedin_messages.used,Te=p+h.guided_build.used,ne=u>0||P>0||D>0||X>0;if(!ne)return console.log("PaymentService: No active subscription or add-on credits found for user:",s),null;const $={id:j||"virtual-addon-subscription",userId:s,planId:g||"addon_only",status:x,startDate:b||new Date().toISOString(),endDate:v||new Date(864e13).toISOString(),paymentId:y,couponUsed:A,optimizationsUsed:Ce,optimizationsTotal:u,scoreChecksUsed:Ie,scoreChecksTotal:P,linkedinMessagesUsed:De,linkedinMessagesTotal:D,guidedBuildsUsed:Te,guidedBuildsTotal:X};return((t==null?void 0:t.length)??0)===0&&ne&&($.status="active",$.endDate=new Date(864e13).toISOString()),console.log("PaymentService: Final combined subscription and add-on credits object:",$),console.log("PaymentService: Successfully fetched combined subscription and add-on credits:",$),$}catch(t){return console.error("PaymentService: Unexpected error in getUserSubscription:",t.message),null}}async computeRemainingFromTables(s,t){const r={optimization:"optimizations",score_check:"score_checks",linkedin_messages:"linkedin_messages",guided_build:"guided_builds"}[t],n=`${r}_total`,i=`${r}_used`,{data:c,error:d}=await w.from("subscriptions").select(`id, ${n}, ${i}`).eq("user_id",s).eq("status","active");d&&console.error("computeRemainingFromTables: subsErr",d.message,d.details);const m=(c||[]).reduce((g,x)=>{const b=Number(x[n]??0),v=Number(x[i]??0);return g+Math.max(0,b-v)},0),{data:p,error:f}=await w.from("user_addon_credits").select("quantity_remaining, addon_types(type_key)").eq("user_id",s);f&&console.error("computeRemainingFromTables: addErr",f.message,f.details);const j=(p||[]).reduce((g,x)=>{var v;return((v=x.addon_types)==null?void 0:v.type_key)===t?g+Number(x.quantity_remaining??0):g},0);return m+j}async useCredit(s,t){const r={optimization:"optimizations",score_check:"score_checks",linkedin_messages:"linkedin_messages",guided_build:"guided_builds"}[t];if(!r)return console.error(`PaymentService: Invalid creditField provided: ${t}`),{success:!1,error:"Invalid credit type."};const n=`${r}_total`,i=`${r}_used`;console.log(`PaymentService: Attempting to use ${t} (DB field: ${r}) for userId:`,s);try{const{data:c,error:d}=await w.from("user_addon_credits").select("id, user_id, quantity_remaining, quantity_purchased, addon_types(type_key)").eq("user_id",s).order("purchased_at",{ascending:!0});d&&console.error(`PaymentService: Error fetching add-on credits for ${t}:`,d.message,d.details);const m=c==null?void 0:c.find(g=>{var x;return((x=g.addon_types)==null?void 0:x.type_key)===t&&Number(g.quantity_remaining??0)>0});if(m&&Number(m.quantity_remaining)>0){const g=Number(m.quantity_remaining)-1;console.log(`PaymentService: Found add-on credit ${m.id}. Current remaining: ${m.quantity_remaining}. New remaining: ${g}`),console.log(`PaymentService: Attempting to update add-on credit with ID: ${m.id} for user: ${s}`),console.log("PaymentService: Relevant Addon details for update:",JSON.stringify(m,null,2)),console.log(`PaymentService: User ID for update: ${s}`);const{data:x,error:b}=await w.from("user_addon_credits").update({quantity_remaining:g}).eq("id",m.id).eq("user_id",s).select("id, quantity_remaining");if(b)return console.error(`PaymentService: CRITICAL ERROR updating add-on credit usage for ${t}:`,b.message,b.details),{success:!1,error:"Failed to update add-on credit usage."};if(!x||x.length===0)console.warn(`PaymentService: Add-on credit update returned 0 rows for ID ${m.id}. It might have been consumed or updated by another process.`);else{console.log(`PaymentService: Successfully updated add-on credit ${m.id} to ${g} remaining.`),await new Promise(E=>setTimeout(E,200));const v=await this.getUserSubscription(s);let y,A;switch(t){case"optimization":y="optimizationsTotal",A="optimizationsUsed";break;case"score_check":y="scoreChecksTotal",A="scoreChecksUsed";break;case"linkedin_messages":y="linkedinMessagesTotal",A="linkedinMessagesUsed";break;case"guided_build":y="guidedBuildsTotal",A="guidedBuildsUsed";break;default:throw new Error("Unknown credit type for total/used property names.")}const _=v?v[y]-v[A]:0;return console.log(`PaymentService: After update, calculated total remaining: ${_}`),{success:!0,remaining:_}}}const{data:p,error:f}=await w.from("subscriptions").select(`id, ${i}, ${n}`).eq("user_id",s).eq("status","active").order("created_at",{ascending:!0});if(f)return console.error(`PaymentService: Error fetching active subscriptions for ${t}:`,f.message,f.details),{success:!1,error:"Failed to fetch active subscriptions."};let j=!1;for(const g of p||[]){const x=Number(g[i]??0),b=Number(g[n]??0);if(x<b){const v=x+1,{error:y}=await w.from("subscriptions").update({[i]:v,updated_at:new Date().toISOString()}).eq("id",g.id);if(y)return console.error(`PaymentService: Error updating ${i} for subscription ${g.id}:`,y.message,y.details),{success:!1,error:"Failed to update credit usage in subscription."};const A=await this.computeRemainingFromTables(s,t);console.log(`PaymentService: Used 1 ${t} plan credit. Remaining total (plan + add-ons): ${A}`),j=!0;break}}if(j){const g=await this.getUserSubscription(s);let x,b;switch(t){case"optimization":x="optimizationsTotal",b="optimizationsUsed";break;case"score_check":x="scoreChecksTotal",b="scoreChecksUsed";break;case"linkedin_messages":x="linkedinMessagesTotal",b="linkedinMessagesUsed";break;case"guided_build":x="guidedBuildsTotal",b="guidedBuildsUsed";break;default:throw new Error("Unknown credit type for total/used property names.")}return{success:!0,remaining:g?g[x]-g[b]:0}}return console.warn(`PaymentService: No active subscription or add-on credits found for ${t} for userId:`,s),{success:!1,error:"No active subscription or add-on credits found."}}catch(c){return console.error(`PaymentService: Unexpected error in useCredit (${t}):`,c.message),{success:!1,error:"An unexpected error occurred while using credits."}}}async useOptimization(s){return this.useCredit(s,"optimization")}async useScoreCheck(s){return this.useCredit(s,"score_check")}async useLinkedInMessage(s){return this.useCredit(s,"linkedin_messages")}async useGuidedBuild(s){return this.useCredit(s,"guided_build")}async activateFreeTrial(s){console.log("PaymentService: Attempting to activate free trial for userId:",s);try{const{data:t,error:a}=await w.from("subscriptions").select("id").eq("user_id",s).eq("plan_id","lite_check").maybeSingle();if(a)throw console.error("PaymentService: Error checking for existing free trial:",a.message,a.details),new Error("Failed to check for existing free trial.");if(t){console.log("PaymentService: User already has a free trial, skipping activation.");return}const r=this.getPlanById("lite_check");if(!r)throw new Error("Free trial plan configuration not found.");if(typeof r.durationInHours!="number"||!isFinite(r.durationInHours))throw console.error("PaymentService: Invalid durationInHours detected for plan:",r),new Error("Invalid plan duration configuration. Please contact support.");const{error:n}=await w.from("subscriptions").insert({user_id:s,plan_id:r.id,status:"active",start_date:new Date().toISOString(),end_date:new Date(Date.now()+r.durationInHours*60*60*1e3).toISOString(),optimizations_used:0,optimizations_total:r.optimizations,score_checks_used:0,score_checks_total:r.scoreChecks,linkedin_messages_used:0,linkedin_messages_total:r.linkedinMessages,guided_builds_used:0,guided_builds_total:r.guidedBuilds,payment_id:null,coupon_used:"free_trial"});if(n)throw console.error("PaymentService: Error activating free trial:",n.message,n.details),new Error("Failed to activate free trial.");console.log("PaymentService: Free trial activated successfully for userId:",s)}catch(t){throw console.error("PaymentService: Unexpected error in activateFreeTrial:",t.message),t}}async validateCouponServer(s,t,a){try{const r=await fetch("https://rixmudvtbfkjpwjoefon.supabase.co/functions/v1/validate-coupon",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({couponCode:s,userId:t})}),n=await r.json();return r.ok?n:(console.error("Error from validate-coupon Edge Function:",n.message||r.statusText),{isValid:!1,message:n.message||"Failed to validate coupon on server."})}catch(r){return console.error("Network error during coupon validation:",r.message),{isValid:!1,message:"Network error during coupon validation. Please try again."}}}async applyCoupon(s,t,a){const r=this.getPlanById(s);if(!r&&s!=="addon_only_purchase")return{couponApplied:null,discountAmount:0,finalAmount:0,error:"Invalid plan selected",isValid:!1,message:"Invalid plan selected"};if(a){const{data:{session:p},error:f}=await w.auth.getSession();if(f||!(p!=null&&p.access_token))return{couponApplied:null,discountAmount:0,finalAmount:0,error:"Authentication required for coupon validation",isValid:!1,message:"Authentication required for coupon validation"};const j=await this.validateCouponServer(t,a,p.access_token);if(!j.isValid)return{couponApplied:null,discountAmount:0,finalAmount:0,error:j.message,isValid:!1,message:j.message}}let n=((r==null?void 0:r.price)||0)*100;s==="addon_only_purchase"&&(n=0);let i=0,c=n,d="Coupon applied successfully!";const m=t.toLowerCase().trim();if(m==="diwali")return{couponApplied:null,discountAmount:0,finalAmount:n,error:"Coupon expired or inactive",isValid:!1,message:"Coupon expired or inactive"};if(m==="fullsupport"&&s==="career_pro_max")i=n,c=0;else if(m==="first100"&&s==="lite_check")i=n,c=0;else if(m==="first500"&&s==="lite_check")i=Math.floor(n*.98),c=n-i;else if(m==="worthyone"&&s==="career_pro_max")i=Math.floor(n*.5),c=n-i;else if(m==="vnkr50%"&&s==="career_pro_max")i=Math.floor(n*.5),c=n-i,d="Vinayaka Chavithi Offer applied! 50% off!";else if(m==="vnk50"&&s==="career_pro_max")i=Math.floor(n*.5),c=n-i,d="VNK50 coupon applied! 50% off!";else if(m==="full100"&&s==="leader_plan")i=n,c=0,d="FULL100 coupon applied! 100% off!";else if(m==="primoboost"&&s==="kickstart_plan")i=Math.floor(n*.5),c=n-i,d="PRIMOBOOST coupon applied! 50% off!";else if(m==="diwali")i=Math.floor(n*.9),c=n-i,d="ðŸŽ‰ DIWALI SPECIAL: 90% OFF Applied! Limited time offer!";else return{couponApplied:null,discountAmount:0,finalAmount:n,error:"Invalid coupon code or not applicable to selected plan",isValid:!1,message:"Invalid coupon code or not applicable to selected plan"};return{couponApplied:m,discountAmount:i,finalAmount:c,isValid:!0,message:d}}async processPayment(s,t,a,r,n,i,c,d){try{console.log("PaymentService: Calling create-order Edge Function...");const m=await fetch("https://rixmudvtbfkjpwjoefon.supabase.co/functions/v1/create-order",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({planId:s.planId,amount:s.amount,couponCode:n,walletDeduction:i,addOnsTotal:c,selectedAddOns:d})}),p=await m.json();if(!m.ok)return console.error("PaymentService: Error from create-order:",p.error||m.statusText),{success:!1,error:p.error||"Failed to create order."};const{orderId:f,amount:j,keyId:g,currency:x,transactionId:b}=p;return new Promise(v=>{const y={key:g,amount:j,currency:x,name:"PrimoBoost AI",description:"Resume Optimization Plan",order_id:f,handler:async _=>{try{console.log("PaymentService: Calling verify-payment Edge Function...");const E=await fetch("https://rixmudvtbfkjpwjoefon.supabase.co/functions/v1/verify-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({razorpay_order_id:_.razorpay_order_id,razorpay_payment_id:_.razorpay_payment_id,razorpay_signature:_.razorpay_signature,transactionId:b})}),h=await E.json();E.ok&&h.success?v({success:!0}):(console.error("PaymentService: Error from verify-payment:",h.error||E.statusText),v({success:!1,error:h.error||"Payment verification failed."}))}catch(E){console.error("PaymentService: Error during payment verification:",E.message),v({success:!1,error:"An error occurred during payment verification."})}},prefill:{name:a,email:t},theme:{color:"#4F46E5"},modal:{ondismiss:()=>{console.log("PaymentService: Payment modal dismissed."),v({success:!1,error:"Payment cancelled by user."})}}};new window.Razorpay(y).open()})}catch(m){return console.error("PaymentService: Error in processPayment:",m.message),{success:!1,error:m.message||"Failed to process payment."}}}async processFreeSubscription(s,t,a,r,n,i,c){try{console.log("PaymentService: Processing free subscription...");const d=this.getPlanById(s);if(!d&&s!=="addon_only_purchase")throw new Error("Invalid plan selected for free subscription.");if(d&&(typeof d.durationInHours!="number"||!isFinite(d.durationInHours)))throw console.error("PaymentService: Invalid durationInHours detected for plan:",d),new Error("Invalid plan duration configuration. Please contact support.");const{data:m,error:p}=await w.from("payment_transactions").insert({user_id:t,plan_id:s==="addon_only_purchase"?null:s,status:"success",amount:i||0,currency:"INR",coupon_code:a,discount_amount:i||0,final_amount:0,purchase_type:s==="addon_only_purchase"?"addon_only":Object.keys(n||{}).length>0?"plan_with_addons":"plan",wallet_deduction_amount:c||0,payment_id:"FREE_PLAN_ACTIVATION",order_id:"FREE_PLAN_ORDER"}).select("id").single();if(p)throw console.error("PaymentService: Error inserting free transaction:",p.message,p.details),new Error("Failed to record free plan activation.");const f=m.id;if(n&&Object.keys(n).length>0){console.log(`[${new Date().toISOString()}] - Processing add-on credits for user: ${t}`);for(const j of Object.keys(n)){const g=Number(n[j]??0);if(!g)continue;const x=this.getAddOnById(j);if(!x){console.error(`[${new Date().toISOString()}] - Add-on with ID ${j} not found in configuration. Skipping.`);continue}const{data:b,error:v}=await w.from("addon_types").select("id").eq("type_key",x.type).single();let y=b==null?void 0:b.id;if(v||!b){console.log(`[${new Date().toISOString()}] - addon_type not found for ${x.type}, creating it...`);const{data:_,error:E}=await w.from("addon_types").insert({name:x.name,type_key:x.type,unit_price:x.price*100,description:`${x.name} credit`}).select("id").single();if(E){console.error(`[${new Date().toISOString()}] - Error creating addon_type for ${x.type}:`,E==null?void 0:E.message,E==null?void 0:E.details);continue}y=_==null?void 0:_.id,console.log(`[${new Date().toISOString()}] - Created addon_type with ID: ${y} for key: ${x.type}`)}if(!y){console.error(`[${new Date().toISOString()}] - No addon_type ID available for ${x.type}. Skipping.`);continue}const{error:A}=await w.from("user_addon_credits").insert({user_id:t,addon_type_id:y,quantity_purchased:g,quantity_remaining:g,payment_transaction_id:f});A&&console.error(`[${new Date().toISOString()}] - Error inserting add-on credits for ${x.type}:`,A.message,A.details)}}if(s&&s!=="addon_only_purchase"&&d){const{data:j,error:g}=await w.from("subscriptions").insert({user_id:t,plan_id:s,status:"active",start_date:new Date().toISOString(),end_date:new Date(Date.now()+d.durationInHours*60*60*1e3).toISOString(),optimizations_used:0,optimizations_total:d.optimizations,score_checks_used:0,score_checks_total:d.scoreChecks,linkedin_messages_used:0,linkedin_messages_total:d.linkedinMessages,guided_builds_used:0,guided_builds_total:d.guidedBuilds,payment_id:"FREE_PLAN_ACTIVATION",coupon_used:a}).select().single();if(g)throw console.error("PaymentService: Subscription creation error for free plan:",g.message,g.details),new Error("Failed to create subscription for free plan.");const{error:x}=await w.from("payment_transactions").update({subscription_id:j.id}).eq("id",f);x&&console.error("Error updating payment transaction with subscription_id for free plan:",x.message,x.details)}if(c&&c>0){const{error:j}=await w.from("wallet_transactions").insert({user_id:t,type:"purchase_use",amount:-(c/100),status:"completed",transaction_ref:`free_plan_deduction_${f}`,redeem_details:{plan_id:s,original_amount:(i??0)/100,addons_purchased:n}});j&&console.error(`[${new Date().toISOString()}] - Wallet deduction recording error for free plan:`,j.message,j.details)}return{success:!0}}catch(d){throw console.error("PaymentService: Unexpected error in processFreeSubscription:",d.message),d}}async getAddOnCreditsByType(s,t){console.log(`PaymentService: Fetching add-on credits for userId: ${s}, creditType: ${t}`);try{const{data:a,error:r}=await w.from("addon_types").select("id").eq("type_key",t).maybeSingle();if(r)return console.error("PaymentService: Error fetching addon_type:",r.message),0;if(!a)return console.warn(`PaymentService: No addon_type found for type_key: ${t}`),0;const{data:n,error:i}=await w.from("user_addon_credits").select("quantity_remaining").eq("user_id",s).eq("addon_type_id",a.id).gt("quantity_remaining",0);if(i)return console.error("PaymentService: Error fetching user add-on credits:",i.message),0;const c=(n==null?void 0:n.reduce((d,m)=>d+m.quantity_remaining,0))||0;return console.log(`PaymentService: Total add-on credits for ${t}: ${c}`),c}catch(a){return console.error("PaymentService: Unexpected error in getAddOnCreditsByType:",a.message),0}}async consumeAddOnCredit(s,t){console.log(`PaymentService: Attempting to consume add-on credit for userId: ${s}, creditType: ${t}`);try{const{data:a,error:r}=await w.from("addon_types").select("id").eq("type_key",t).maybeSingle();if(r||!a){const d=`Addon type not found for: ${t}`;return console.error("PaymentService:",d),{success:!1,error:d}}const{data:n,error:i}=await w.from("user_addon_credits").select("*").eq("user_id",s).eq("addon_type_id",a.id).gt("quantity_remaining",0).order("purchased_at",{ascending:!0}).limit(1).maybeSingle();if(i)return console.error("PaymentService: Error fetching credit record:",i.message),{success:!1,error:i.message};if(!n)return{success:!1,error:"No add-on credits available"};const{error:c}=await w.from("user_addon_credits").update({quantity_remaining:n.quantity_remaining-1}).eq("id",n.id);return c?(console.error("PaymentService: Error updating credit:",c.message),{success:!1,error:c.message}):(console.log(`PaymentService: Successfully consumed 1 ${t} credit`),{success:!0})}catch(a){return console.error("PaymentService: Unexpected error in consumeAddOnCredit:",a.message),{success:!1,error:a.message}}}async getTotalCreditsAvailable(s,t){console.log(`PaymentService: Calculating total credits for userId: ${s}, creditType: ${t}`);const a=await this.getUserSubscription(s);let r=0;if(a)switch(t){case"score_check":r=a.scoreChecksTotal-a.scoreChecksUsed;break;case"optimization":r=a.optimizationsTotal-a.optimizationsUsed;break;case"linkedin_messages":r=a.linkedinMessagesTotal-a.linkedinMessagesUsed;break;case"guided_build":r=a.guidedBuildsTotal-a.guidedBuildsUsed;break}r=Math.max(0,r);const n=await this.getAddOnCreditsByType(s,t),i=r+n;return console.log(`PaymentService: Credits breakdown - Subscription: ${r}, Add-on: ${n}, Total: ${i}`),{subscription:r,addOn:n,total:i}}}const We=new ps,G=class G{isValidEmail(s){console.log("DEBUG: isValidEmail received email:",s);const t=(s||"").trim();console.log("DEBUG: isValidEmail trimmedEmail:",t);const r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);return console.log("DEBUG: isValidEmail regex test result:",r),r}validatePasswordStrength(s){return s.length<8?{isValid:!1,message:"Password must be at least 8 characters long"}:/(?=.*[a-z])/.test(s)?/(?=.*[A-Z])/.test(s)?/(?=.*\d)/.test(s)?/(?=.*[@$!%*?&])/.test(s)?{isValid:!0}:{isValid:!1,message:"Password must contain at least one special character (@$!%*?&)"}:{isValid:!1,message:"Password must contain at least one number"}:{isValid:!1,message:"Password must contain at least one uppercase letter"}:{isValid:!1,message:"Password must contain at least one lowercase letter"}}async login(s){var c,d;if(console.log("AuthService: Starting login for email:",s.email),!this.isValidEmail(s.email))throw new Error("Please enter a valid email address.");const{data:t,error:a}=await w.auth.signInWithPassword({email:s.email,password:s.password});if(a)throw console.error("AuthService: Supabase signInWithPassword error:",a),new Error(a.message);if(!t.user)throw console.error("AuthService: signInWithPassword returned no user data."),new Error("Login failed. Please try again.");console.log("AuthService: User signed in with Supabase. User ID:",t.user.id);try{console.log("AuthService: Attempting device registration and session creation...");const m=await L.registerDevice(t.user.id);m&&t.session?(await L.logActivity(t.user.id,"login",{loginMethod:"email_password",success:!0},m),G.lastDeviceActivityLog=Date.now(),console.log("AuthService: Device and session tracking successful.")):console.warn("AuthService: Device ID or session not available for tracking.")}catch(m){console.warn("AuthService: Device tracking failed during login:",m)}const r=t.user.email==="primoboostai@gmail.com",n=((c=t.user.user_metadata)==null?void 0:c.role)||(r?"admin":"client"),i={id:t.user.id,name:((d=t.user.email)==null?void 0:d.split("@")[0])||"User",email:t.user.email,isVerified:t.user.email_confirmed_at!==null,createdAt:t.user.created_at||new Date().toISOString(),lastLogin:new Date().toISOString(),role:n};return console.log("AuthService: Login process completed. Returning minimal user data."),i}async signup(s){if(console.log("AuthService: Starting signup for email:",s.email),!s.name.trim())throw new Error("Full name is required");if(s.name.trim().length<2)throw new Error("Name must be at least 2 characters long");if(!/^[a-zA-Z\s]+$/.test(s.name.trim()))throw new Error("Name can only contain letters and spaces");if(!s.email)throw new Error("Email address is required");if(!this.isValidEmail(s.email))throw new Error("Please enter a valid email address.");const t=this.validatePasswordStrength(s.password);if(!t.isValid)throw new Error(t.message);if(s.password!==s.confirmPassword)throw new Error("Passwords do not match");console.log("AuthService: Calling supabase.auth.signUp() for email:",s.email);const{data:a,error:r}=await w.auth.signUp({email:s.email,password:s.password,options:{data:{full_name:s.name},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(r)throw console.error("AuthService: Supabase signUp error:",r),new Error(r.message);if(!a.user)throw console.error("AuthService: signUp returned no user data."),new Error("Signup failed. Please try again.");console.log("AuthService: User signed up with Supabase. User ID:",a.user.id),console.log("AuthService: Creating user profile in user_profiles table...");const{error:n}=await w.from("user_profiles").insert({id:a.user.id,full_name:s.name,email_address:s.email,role:"client",has_seen_profile_prompt:!1,resumes_created_count:0});if(n?console.error("AuthService: Error creating user profile in user_profiles:",n):console.log("AuthService: User profile created successfully in user_profiles."),s.referralCode&&s.referralCode.trim()!=="")try{console.log("AuthService: Processing referral code:",s.referralCode),await We.processReferral(a.user.id,s.referralCode),console.log("AuthService: Referral processed successfully.")}catch(i){console.warn("AuthService: Failed to process referral:",i)}try{console.log("AuthService: Sending welcome email to:",s.email);const{error:i}=await w.functions.invoke("send-welcome-email",{body:{userId:a.user.id,recipientEmail:s.email,recipientName:s.name}});i?console.error("AuthService: Welcome email failed:",i):console.log("AuthService: Welcome email sent successfully.")}catch(i){console.warn("AuthService: Failed to send welcome email:",i)}return console.log("AuthService: Signup process completed."),{needsVerification:!0,email:s.email}}async fetchUserProfile(s){console.log("AuthService: Fetching user profile for user ID:",s);try{const{data:t,error:a}=await w.from("user_profiles").select("full_name, email_address, phone, linkedin_profile_url, github_profile_url, username, referral_code, has_seen_profile_prompt, resumes_created_count, role, resume_headline, current_location, education_details, experience_details, skills_details, certifications_details, projects_details").eq("id",s).maybeSingle();return a?(console.error("AuthService: Error fetching user profile from DB:",a),null):(console.log("AuthService: User profile fetched from DB:",t?t.full_name:"none"),t)}catch(t){return console.error("AuthService: Error in fetchUserProfile catch block:",t),null}}async getCurrentUser(){var s;console.log("AuthService: Starting getCurrentUser (streamlined)...");try{const{data:{session:t},error:a}=await w.auth.getSession();if(a)return console.error("AuthService: getSession error in getCurrentUser:",a),null;if(!(t!=null&&t.user))return console.log("AuthService: No user in session in getCurrentUser."),null;console.log("AuthService: Session found. User ID:",t.user.id);const r=Math.floor(Date.now()/1e3);if(t.expires_at&&t.expires_at<r+300){console.log("AuthService: Session expiring soon, refreshing...");const{data:p,error:f}=await w.auth.refreshSession();if(f||!p.session)return console.error("AuthService: Session refresh failed:",f),(f==null?void 0:f.message)==="Invalid Refresh Token: Refresh Token Not Found"&&(console.warn("AuthService: Invalid refresh token detected. Forcing logout."),await w.auth.signOut()),null;console.log("AuthService: âœ… Session refreshed successfully in getCurrentUser."),t.user=p.session.user}const n=Date.now();if(n-G.lastDeviceActivityLog>G.DEVICE_ACTIVITY_LOG_INTERVAL_MS)try{console.log("AuthService: Attempting device activity update...");const p=await L.registerDevice(t.user.id);p?(await L.logActivity(t.user.id,"session_activity",{action:"session_check",timestamp:new Date().toISOString()},p),G.lastDeviceActivityLog=n,console.log("AuthService: Device activity updated.")):console.warn("AuthService: Device ID not obtained for activity update.")}catch(p){console.warn("AuthService: Device activity update failed during session check:",p)}else console.log("AuthService: Skipping device activity update (interval not passed).");const i=await this.fetchUserProfile(t.user.id);console.log("AuthService: User profile fetched for getCurrentUser. Profile:",i?i.full_name:"none");const c=t.user.email==="primoboostai@gmail.com",d=(i==null?void 0:i.role)||(c?"admin":"client"),m={id:t.user.id,name:(i==null?void 0:i.full_name)||((s=t.user.email)==null?void 0:s.split("@")[0])||"User",email:(i==null?void 0:i.email_address)||t.user.email,phone:(i==null?void 0:i.phone)||void 0,linkedin:(i==null?void 0:i.linkedin_profile_url)||void 0,github:(i==null?void 0:i.github_profile_url)||void 0,referralCode:(i==null?void 0:i.referral_code)||void 0,username:(i==null?void 0:i.username)||void 0,isVerified:t.user.email_confirmed_at!==null,createdAt:t.user.created_at||new Date().toISOString(),lastLogin:new Date().toISOString(),hasSeenProfilePrompt:(i==null?void 0:i.has_seen_profile_prompt)||!1,resumesCreatedCount:(i==null?void 0:i.resumes_created_count)||0,role:d,resumeHeadline:(i==null?void 0:i.resume_headline)||void 0,currentLocation:(i==null?void 0:i.current_location)||void 0,educationDetails:(i==null?void 0:i.education_details)||void 0,experienceDetails:(i==null?void 0:i.experience_details)||void 0,skillsDetails:(i==null?void 0:i.skills_details)||void 0,certificationsDetails:(i==null?void 0:i.certifications_details)||void 0,projectsDetails:(i==null?void 0:i.projects_details)||void 0};return console.log("AuthService: getCurrentUser completed. Returning user data."),m}catch(t){return console.error("AuthService: Error in getCurrentUser:",t),null}}async logout(){var n;console.log("AuthService: Starting logout process...");const{data:{session:s}}=await w.auth.getSession(),t=(n=s==null?void 0:s.user)==null?void 0:n.id,a=s==null?void 0:s.access_token;console.log("AuthService: Calling supabase.auth.signOut() first for immediate UI feedback.");const{error:r}=await w.auth.signOut();if(r)throw console.error("AuthService: supabase.auth.signOut() failed:",r),new Error("Failed to sign out. Please try again.");console.log("AuthService: supabase.auth.signOut() completed. Now handling device tracking.");try{if(t&&a){console.log("AuthService: Previous session info captured, attempting to log logout activity.");const i=await L.registerDevice(t);i?(await L.logActivity(t,"logout",{logoutMethod:"manual",timestamp:new Date().toISOString()},i),console.log("AuthService: Logout activity logged. Ending session via device tracking service."),await L.endSession(a,"logout")):console.warn("AuthService: Device ID not obtained, skipping device tracking session end.")}else console.log("AuthService: No active session info to log for device tracking after sign out.")}catch(i){console.warn("AuthService: Failed to log logout activity or end session via device tracking:",i)}console.log("AuthService: Logout process finished.")}async forgotPassword(s){if(console.log("AuthService: Starting forgotPassword for email:",s),!this.isValidEmail(s))throw new Error("Please enter a valid email address.");try{const{data:r,error:n}=await w.rpc("check_password_reset_rate_limit",{p_email:s});if(n)console.error("AuthService: Rate limit check error:",n);else if(r&&!r.allowed){const i=Math.ceil(r.retry_after_seconds/60);throw new Error(`Too many password reset attempts. Please try again in ${i} minute${i>1?"s":""}.`)}}catch(r){if(r instanceof Error)throw r}const t=`${window.location.origin}/reset-password`;console.log("AuthService: Password reset redirect URL:",t);const{error:a}=await w.auth.resetPasswordForEmail(s,{redirectTo:t});try{await w.rpc("log_password_reset_attempt",{p_email:s,p_ip_address:null,p_user_agent:navigator.userAgent,p_success:a===null})}catch(r){console.warn("AuthService: Failed to log password reset attempt:",r)}if(a)throw console.error("AuthService: resetPasswordForEmail error:",a),new Error(a.message);console.log("AuthService: Password reset email sent successfully.")}async resetPassword(s){console.log("AuthService: Starting resetPassword...");const{data:{session:t},error:a}=await w.auth.getSession();if(a||!t)throw console.error("AuthService: No valid session found for password reset:",a),new Error("Invalid or expired reset link. Please request a new password reset.");const r=this.validatePasswordStrength(s);if(!r.isValid)throw new Error(r.message);const{error:n}=await w.auth.updateUser({password:s});if(n)throw console.error("AuthService: updateUser error during password reset:",n),new Error(n.message);console.log("AuthService: Password reset successful.");const i=await this.getCurrentUser();return{user:i,autoLoginSuccess:!!i}}async verifyEmail(s){console.log("AuthService: Verifying email with token");const{error:t}=await w.auth.verifyOtp({token_hash:s,type:"email"});if(t)throw console.error("AuthService: Email verification error:",t),new Error(t.message);console.log("AuthService: Email verified successfully")}async refreshUserProfile(s){var c;console.log("AuthService: Refreshing user profile for user ID:",s);const t=await this.fetchUserProfile(s);if(!t)return console.warn("AuthService: Could not fetch profile for refreshUserProfile."),null;const{data:{session:a}}=await w.auth.getSession();if(!(a!=null&&a.user))return console.warn("AuthService: No session found during refreshUserProfile."),null;const r=a.user.email==="primoboostai@gmail.com",n=(t==null?void 0:t.role)||(r?"admin":"client"),i={id:a.user.id,name:t.full_name||((c=a.user.email)==null?void 0:c.split("@")[0])||"User",email:t.email_address||a.user.email,phone:t.phone||void 0,linkedin:t.linkedin_profile_url||void 0,github:t.github_profile_url||void 0,referralCode:t.referral_code||void 0,username:t.username||void 0,isVerified:a.user.email_confirmed_at!==null,createdAt:a.user.created_at||new Date().toISOString(),lastLogin:new Date().toISOString(),hasSeenProfilePrompt:t.has_seen_profile_prompt||!1,resumesCreatedCount:t.resumes_created_count||0,role:n,resumeHeadline:t.resume_headline||void 0,currentLocation:t.current_location||void 0,educationDetails:t.education_details||void 0,experienceDetails:t.experience_details||void 0,skillsDetails:t.skills_details||void 0,certificationsDetails:t.certifications_details||void 0,projectsDetails:t.projects_details||void 0};return console.log("AuthService: refreshUserProfile completed."),i}async updateUserProfile(s,t){console.log("AuthService: Starting updateUserProfile for user ID:",s,"updates:",t);try{const a={full_name:t.full_name,email_address:t.email_address,phone:t.phone,linkedin_profile_url:t.linkedin_profile,github_profile_url:t.github_profile,has_seen_profile_prompt:t.has_seen_profile_prompt,resume_headline:t.resume_headline,current_location:t.current_location,education_details:t.education_details,experience_details:t.experience_details,skills_details:t.skills_details,projects_details:t.projects_details,certifications_details:t.certifications_details,profile_updated_at:new Date().toISOString()};Object.keys(a).forEach(n=>{a[n]===void 0&&delete a[n]});const{error:r}=await w.from("user_profiles").update(a).eq("id",s);if(r)throw console.error("AuthService: Error updating user profile in DB:",r),new Error("Failed to update profile");console.log("AuthService: User profile updated successfully in DB.")}catch(a){throw console.error("AuthService: Error in updateUserProfile catch block:",a),a}}async markProfilePromptSeen(s){console.log("AuthService: Marking profile prompt as seen for user ID:",s);try{await this.updateUserProfile(s,{has_seen_profile_prompt:!0}),console.log("AuthService: Profile prompt marked as seen successfully.")}catch(t){throw console.error("AuthService: Error marking profile prompt as seen:",t),new Error("Failed to update profile prompt status")}}async ensureValidSession(){console.log("AuthService: Starting ensureValidSession...");try{const{data:{session:s},error:t}=await w.auth.getSession();if(console.log("AuthService: getSession result - session:",s?"exists":"null","error:",t),t)return console.error("AuthService: Session check failed in ensureValidSession:",t),console.log("AuthService: Returning false due to getSession error."),!1;if(!(s!=null&&s.user))return console.log("AuthService: No session found in ensureValidSession."),!1;console.log("AuthService: Session exists. Checking expiration...");const a=Math.floor(Date.now()/1e3);if(s.expires_at&&s.expires_at<a+300){console.log("AuthService: Session expiring soon, attempting refresh...");const{data:r,error:n}=await w.auth.refreshSession();if(n||!r.session)return console.error("AuthService: Session refresh failed in ensureValidSession:",n),console.log("AuthService: Returning false due to session refresh error."),(n==null?void 0:n.message)==="Invalid Refresh Token: Refresh Token Not Found"&&(console.warn("AuthService: Invalid refresh token detected. Forcing logout."),await w.auth.signOut()),!1;console.log("AuthService: âœ… Session refreshed successfully in ensureValidSession.")}else console.log("AuthService: Session is valid and not expiring soon.");return console.log("AuthService: ensureValidSession completed. Returning true."),!0}catch(s){return console.error("AuthService: Error in ensureValidSession:",s),console.log("AuthService: Returning false due to catch block error."),!1}}async getGlobalResumesCreatedCount(){console.log("AuthService: Fetching global resumes created count...");try{const{data:s,error:t}=await w.from("app_metrics").select("metric_value").eq("metric_name","total_resumes_created").single();return t?(console.error("AuthService: Error fetching global resumes count:",t),5e4):(console.log("AuthService: Global resumes count fetched successfully:",s.metric_value),s.metric_value)}catch(s){return console.error("AuthService: Error in getGlobalResumesCreatedCount catch block:",s),5e4}}async incrementResumesCreatedCount(s){try{const t=await this.fetchUserProfile(s),r=((t==null?void 0:t.resumes_created_count)??0)+1,{error:n}=await w.from("user_profiles").update({resumes_created_count:r}).eq("id",s);if(n)throw console.error("AuthService: Failed to update resumes_created_count:",n),new Error(n.message);return console.log("AuthService: resumes_created_count incremented to",r),r}catch(t){throw console.error("AuthService: Error incrementing user resumes count:",t),t}}async incrementGlobalResumesCreatedCount(){try{console.log("AuthService: Incrementing global resumes created count via RPC...");const{data:s,error:t}=await w.rpc("increment_total_resumes_created");if(t)throw console.error("AuthService: Failed to increment total_resumes_created via RPC:",t),new Error(t.message);const a=typeof s=="number"?s:Number(s??0);return console.log("AuthService: total_resumes_created incremented to",a),a}catch(s){throw console.error("AuthService: Error incrementing global resumes count:",s),s}}};K(G,"lastDeviceActivityLog",0),K(G,"DEVICE_ACTIVITY_LOG_INTERVAL_MS",5*60*1e3);let Je=G;const H=new Je,It=l.createContext(null),F=()=>{const o=l.useContext(It);if(console.log("useAuth hook: context value is",o),o===null)throw new Error("useAuth must be used within an AuthProvider");return o},gs=({children:o})=>{const[s,t]=l.useState({user:null,isAuthenticated:!1,isLoading:!0}),[a,r]=l.useState(null),n=()=>{if(!s.isAuthenticated){console.log("AuthContext: Not authenticated, not scheduling session refresh."),a&&clearTimeout(a);return}a&&clearTimeout(a);const b=setTimeout(async()=>{try{console.log("AuthContext: Attempting scheduled session refresh..."),await i(),n()}catch(v){console.error("AuthContext: Scheduled session refresh failed:",v)}},45*60*1e3);r(b)},i=async()=>{try{const{data:b,error:v}=await w.auth.refreshSession();if(v)throw console.error("AuthContext: Session refresh error:",v),v;return console.log("AuthContext: âœ… Session refreshed successfully"),b}catch(b){throw console.error("AuthContext: Failed to refresh session:",b),b}},c=async()=>{try{console.log("AuthContext: Revalidating user session...");const b=await H.getCurrentUser();console.log("AuthContext: User revalidated. User:",b?b.id:"none"),t(v=>({...v,user:b,isAuthenticated:!!b,isLoading:!1}))}catch(b){console.error("AuthContext: Error revalidating user session:",b),t(v=>({...v,isLoading:!1}))}};l.useEffect(()=>{let b=!0,v=!1;const{data:{subscription:y}}=w.auth.onAuthStateChange(async(A,_)=>{var E;if(b){if(console.log("AuthContext: Auth state changed event:",A,"Session:",_?(E=_.user)==null?void 0:E.id:"none"),v||(t(h=>({...h,isLoading:!1})),v=!0),A==="PASSWORD_RECOVERY"&&(_!=null&&_.user)){console.log("AuthContext: PASSWORD_RECOVERY event detected. Session established for password reset."),t(h=>({...h,isLoading:!1}));return}if(A==="SIGNED_IN"&&(_!=null&&_.user))try{console.log("AuthContext: SIGNED_IN event. Setting basic user info and fetching full profile..."),t(h=>{var u;return{...h,user:{id:_.user.id,name:((u=_.user.email)==null?void 0:u.split("@")[0])||"User",email:_.user.email,isVerified:_.user.email_confirmed_at!==null,createdAt:_.user.created_at||new Date().toISOString(),lastLogin:new Date().toISOString()},isAuthenticated:!0,isLoading:!1}}),setTimeout(async()=>{if(!b)return;const h=await H.fetchUserProfile(_.user.id);console.log("AuthContext: Full user profile fetched:",h?h.full_name:"none"),console.log("AuthContext: User resume count from profile:",h==null?void 0:h.resumes_created_count),t(u=>{var P,D;return{...u,user:u.user?{...u.user,name:(h==null?void 0:h.full_name)||((P=u.user)==null?void 0:P.name)||"User",email:(h==null?void 0:h.email_address)||((D=u.user)==null?void 0:D.email),phone:(h==null?void 0:h.phone)||void 0,linkedin:(h==null?void 0:h.linkedin_profile_url)||void 0,github:(h==null?void 0:h.github_profile_url)||void 0,username:(h==null?void 0:h.username)||void 0,referralCode:(h==null?void 0:h.referral_code)||void 0,hasSeenProfilePrompt:(h==null?void 0:h.has_seen_profile_prompt)??!1,resumesCreatedCount:(h==null?void 0:h.resumes_created_count)??0,role:(h==null?void 0:h.role)||"client",resumeHeadline:(h==null?void 0:h.resume_headline)||void 0,currentLocation:(h==null?void 0:h.current_location)||void 0,educationDetails:(h==null?void 0:h.education_details)||void 0,experienceDetails:(h==null?void 0:h.experience_details)||void 0,skillsDetails:(h==null?void 0:h.skills_details)||void 0,projectsDetails:(h==null?void 0:h.projects_details)||void 0,certificationsDetails:(h==null?void 0:h.certifications_details)||void 0}:null,isAuthenticated:!0,isLoading:!1}})},0),n()}catch(h){console.error("AuthContext: Error getting user after sign in:",h),t({user:null,isAuthenticated:!1,isLoading:!1})}else A==="SIGNED_OUT"?(console.log("AuthContext: SIGNED_OUT event."),t({user:null,isAuthenticated:!1,isLoading:!1}),a&&clearTimeout(a)):A==="TOKEN_REFRESHED"&&(_!=null&&_.user)?(console.log("AuthContext: âœ… Token refreshed automatically."),t(h=>({...h,isLoading:!1})),n()):A==="USER_UPDATED"&&(_!=null&&_.user)&&(console.log("AuthContext: USER_UPDATED event. Revalidating user session..."),c())}});return()=>{b=!1,a&&clearTimeout(a),y.unsubscribe(),console.log("AuthContext: AuthProvider unmounted. Cleaned up timers and subscriptions.")}},[]);const d=async b=>{try{console.log("AuthContext: Calling authService.login..."),await H.login(b),console.log("AuthContext: authService.login completed.")}catch(v){throw console.error("AuthContext: Login failed:",v),t(y=>({...y,isLoading:!1})),v}},m=async b=>{try{console.log("AuthContext: Calling authService.signup...");const v=await H.signup(b);return console.log("AuthContext: authService.signup completed. Needs verification:",v.needsVerification),v.needsVerification&&t(y=>({...y,isLoading:!1})),v}catch(v){throw console.error("AuthContext: Signup failed:",v),t(y=>({...y,isLoading:!1})),v}},p=async()=>{try{console.log("AuthContext: Initiating logout..."),t({user:null,isAuthenticated:!1,isLoading:!0}),await H.logout(),console.log("AuthContext: authService.logout completed.")}catch(b){console.error("AuthContext: Logout error:",b)}finally{t({user:null,isAuthenticated:!1,isLoading:!1}),a&&clearTimeout(a),console.log("AuthContext: Logout process finished.")}},f=async b=>{console.log("AuthContext: Calling authService.forgotPassword..."),await H.forgotPassword(b.email),console.log("AuthContext: authService.forgotPassword completed.")},j=async b=>{console.log("AuthContext: Calling authService.resetPassword...");const{user:v,autoLoginSuccess:y}=await H.resetPassword(b);console.log("AuthContext: authService.resetPassword completed. Auto-login:",y),y&&v&&(console.log("AuthContext: User automatically logged in after password reset."),t({user:v,isAuthenticated:!0,isLoading:!1}),n())},g=async()=>{if(s.user){console.log("AuthContext: Marking profile prompt as seen for user:",s.user.id);try{await H.markProfilePromptSeen(s.user.id),t(b=>({...b,user:b.user?{...b.user,hasSeenProfilePrompt:!0}:null})),console.log("AuthContext: Profile prompt marked as seen.")}catch(b){console.error("AuthContext: Error marking profile prompt as seen:",b)}}};console.log("AuthContext: AuthProvider is rendering and providing context.");const x={...s,login:d,signup:m,logout:p,forgotPassword:f,resetPassword:j,refreshSession:i,revalidateUserSession:c,markProfilePromptSeen:g};return e.jsx(It.Provider,{value:x,children:o})},Dt=l.createContext(void 0),xs={primaryGradient:"from-emerald-500 to-cyan-500",accentColor:"emerald",glowColor:"emerald-400",borderColor:"emerald-400/40",badgeBackground:"bg-emerald-500/10",badgeBorder:"border-emerald-400/30",badgeText:"text-emerald-300",successColor:"emerald-400",backgroundGradient:"from-[#0a1e1e] via-[#0d1a1a] to-[#070b14]"},fs={primaryGradient:"from-red-500 via-emerald-500 to-green-600",accentColor:"green",glowColor:"green-400",borderColor:"green-400/40",badgeBackground:"bg-gradient-to-r from-red-500/10 to-green-500/10",badgeBorder:"border-red-400/30",badgeText:"text-red-300",successColor:"green-400",backgroundGradient:"from-[#1a0a0f] via-[#0f1a0f] to-[#070b14]"},bs=({children:o})=>{const[s,t]=l.useState(()=>{const d=localStorage.getItem("christmasModeEnabled");return d!==null?d==="true":new Date().getMonth()===11});l.useEffect(()=>{localStorage.setItem("christmasModeEnabled",s.toString())},[s]);const a=()=>{t(d=>!d)},r=s?fs:xs,n=d=>d==="primary"?s?"bg-gradient-to-r from-red-500 via-emerald-500 to-green-600 hover:shadow-red-500/50 text-white":"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:shadow-emerald-500/50 text-white":s?"border-red-500/40 bg-red-500/10 hover:bg-red-500/20 hover:border-red-400/60 text-slate-100":"border-slate-700 bg-slate-800/50 hover:bg-slate-800 hover:border-emerald-400/50 text-slate-100",i=(d=!0)=>{const m="bg-slate-900/80 border backdrop-blur-xl rounded-2xl transition-all duration-300";return d?s?`${m} border-green-500/30 hover:border-green-400/50 hover:shadow-[0_0_40px_rgba(34,197,94,0.25)]`:`${m} border-slate-800 hover:border-emerald-500/40 hover:shadow-[0_0_40px_rgba(16,185,129,0.2)]`:`${m} border-slate-800`},c=()=>s?"bg-gradient-to-r from-red-500/10 to-green-500/10 border border-red-400/30 text-red-300":"bg-emerald-500/10 border border-emerald-400/30 text-emerald-300";return e.jsx(Dt.Provider,{value:{isChristmasMode:s,toggleChristmasMode:a,colors:r,getButtonClasses:n,getCardClasses:i,getBadgeClasses:c},children:o})},oe=()=>{const o=l.useContext(Dt);if(!o)throw new Error("useTheme must be used within ThemeProvider");return o};var ys=function(o,s){for(var t={};o.length;){var a=o[0],r=a.code,n=a.message,i=a.path.join(".");if(!t[i])if("unionErrors"in a){var c=a.unionErrors[0].errors[0];t[i]={message:c.message,type:c.code}}else t[i]={message:n,type:r};if("unionErrors"in a&&a.unionErrors.forEach(function(p){return p.errors.forEach(function(f){return o.push(f)})}),s){var d=t[i].types,m=d&&d[a.code];t[i]=Kt(i,s,t,r,m?[].concat(m,a.message):a.message)}o.shift()}return t},st=function(o,s,t){return t===void 0&&(t={}),function(a,r,n){try{return Promise.resolve(function(i,c){try{var d=Promise.resolve(o[t.mode==="sync"?"parse":"parseAsync"](a,s)).then(function(m){return n.shouldUseNativeValidation&&Jt({},n),{errors:{},values:t.raw?a:m}})}catch(m){return c(m)}return d&&d.then?d.then(void 0,c):d}(0,function(i){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(i))return{values:{},errors:Zt(ys(i.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw i}))}catch(i){return Promise.reject(i)}}};const vs=Ze({email:W().min(1,"Email is required").email("Please enter a valid Gmail address"),password:W().min(1,"Password is required")}),ws=({onSwitchToSignup:o,onForgotPassword:s,onClose:t})=>{const{login:a}=F(),{isChristmasMode:r}=oe(),[n,i]=l.useState(!1),[c,d]=l.useState(!1),[m,p]=l.useState(null),[f,j]=l.useState(!1),{register:g,handleSubmit:x,formState:{errors:b}}=Ke({resolver:st(vs)}),v=async y=>{d(!0),p(null),j(!1);try{await a(y),j(!0)}catch(A){let _="Sign in failed. Please try again.";A instanceof Error&&(A.message.includes("Invalid login credentials")||A.message.includes("Invalid email or password")?_="Invalid email or password. Please check your credentials.":A.message.includes("Email not confirmed")?_="Please verify your email address before signing in.":A.message.includes("Too many requests")?_="Too many attempts. Please wait a moment and try again.":_=A.message),p(_)}finally{d(!1)}};return f?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 ${r?"bg-green-500/20 border border-green-500/30":"bg-emerald-500/20 border border-emerald-500/30"}`,children:e.jsx(J,{className:`w-8 h-8 ${r?"text-green-400":"text-emerald-400"}`})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome Back!"}),e.jsx("p",{className:"text-slate-400",children:"You have been signed in successfully."})]}):e.jsxs("div",{className:"space-y-5",children:[m&&e.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-xl",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(B,{className:"w-5 h-5 text-red-400 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-red-300 text-sm font-medium",children:m}),m.includes("Invalid email or password")&&e.jsx("button",{type:"button",onClick:s,className:"text-red-400 text-xs mt-1 underline hover:no-underline",children:"Forgot your password?"})]})]})}),e.jsxs("form",{onSubmit:x(v),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Gmail Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(ae,{className:"h-5 w-5 text-slate-500"})}),e.jsx("input",{...g("email"),type:"email",placeholder:"your.email@gmail.com",className:`w-full pl-12 pr-4 py-3.5 rounded-xl transition-all duration-200 text-white placeholder-slate-500 ${b.email?"border-2 border-red-500/50 bg-red-500/10 focus:border-red-500 focus:ring-2 focus:ring-red-500/20":`border-2 border-slate-700 bg-slate-800/50 focus:bg-slate-800 hover:border-slate-600 ${r?"focus:border-green-500 focus:ring-2 focus:ring-green-500/20":"focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20"}`}`})]}),b.email&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(B,{className:"w-4 h-4 mr-1"}),b.email.message]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(He,{className:"h-5 w-5 text-slate-500"})}),e.jsx("input",{...g("password"),type:n?"text":"password",placeholder:"Enter your password",className:`w-full pl-12 pr-12 py-3.5 rounded-xl transition-all duration-200 text-white placeholder-slate-500 ${b.password?"border-2 border-red-500/50 bg-red-500/10 focus:border-red-500 focus:ring-2 focus:ring-red-500/20":`border-2 border-slate-700 bg-slate-800/50 focus:bg-slate-800 hover:border-slate-600 ${r?"focus:border-green-500 focus:ring-2 focus:ring-green-500/20":"focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20"}`}`}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-500 hover:text-slate-300 transition-colors",children:n?e.jsx(Se,{className:"h-5 w-5"}):e.jsx(Ne,{className:"h-5 w-5"})})]}),b.password&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(B,{className:"w-4 h-4 mr-1"}),b.password.message]})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"button",onClick:s,className:`text-sm font-medium transition-colors hover:underline ${r?"text-green-400 hover:text-green-300":"text-emerald-400 hover:text-emerald-300"}`,children:"Forgot your password?"})}),e.jsx("button",{type:"submit",disabled:c,className:`w-full py-3.5 px-6 rounded-xl font-semibold text-white transition-all duration-300 flex items-center justify-center space-x-2 ${c?"bg-slate-700 cursor-not-allowed":r?"bg-gradient-to-r from-red-500 via-emerald-500 to-green-600 hover:shadow-lg hover:shadow-green-500/30 active:scale-[0.98]":"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:shadow-lg hover:shadow-emerald-500/30 active:scale-[0.98]"}`,children:c?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Signing In..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(St,{className:"w-5 h-5"}),e.jsx("span",{children:"Sign In"}),e.jsx(Ye,{className:"w-4 h-4"})]})})]}),e.jsx("div",{className:`text-center pt-5 border-t ${r?"border-green-500/20":"border-emerald-500/20"}`,children:e.jsxs("p",{className:"text-slate-400 text-sm",children:["Don't have an account yet?"," ",e.jsx("button",{type:"button",onClick:o,className:`font-semibold transition-colors ${r?"text-green-400 hover:text-green-300":"text-emerald-400 hover:text-emerald-300"}`,children:"Sign Up"})]})})]})},_s=Ze({name:W().min(2,"Name must be at least 2 characters").max(50,"Name must be less than 50 characters").regex(/^[a-zA-Z\s]+$/,"Name can only contain letters and spaces"),email:W().min(1,"Email is required").email("Please enter a valid email address").refine(o=>{var s;return o.includes("@")&&((s=o.split("@")[1])==null?void 0:s.includes("."))},{message:"Please enter a valid email address with @ and domain"}),password:W().min(8,"Password must be at least 8 characters").regex(/(?=.*[a-z])/,"Must contain at least one lowercase letter").regex(/(?=.*[A-Z])/,"Must contain at least one uppercase letter").regex(/(?=.*\d)/,"Must contain at least one number").regex(/(?=.*[@$!%*?&])/,"Must contain at least one special character (@$!%*?&)"),confirmPassword:W().min(1,"Please confirm your password"),referralCode:W().optional()}).refine(o=>o.password===o.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),js=({onSwitchToLogin:o,onSignupSuccess:s})=>{const{signup:t}=F(),{isChristmasMode:a}=oe(),[r,n]=l.useState(!1),[i,c]=l.useState(!1),[d,m]=l.useState(!1),[p,f]=l.useState(null),{register:j,handleSubmit:g,formState:{errors:x},watch:b}=Ke({resolver:st(_s)}),v=b("password"),A=(u=>{if(!u)return{strength:0,label:"",color:""};let P=0;u.length>=8&&P++,/(?=.*[a-z])/.test(u)&&P++,/(?=.*[A-Z])/.test(u)&&P++,/(?=.*\d)/.test(u)&&P++,/(?=.*[@$!%*?&])/.test(u)&&P++;const D=["Very Weak","Weak","Fair","Good","Strong"],X=["bg-red-500","bg-orange-500","bg-yellow-500","bg-cyan-500","bg-emerald-500"];return{strength:P,label:D[P-1]||"Very Weak",color:X[P-1]||"bg-red-500"}})(v||""),_=async u=>{m(!0),f(null);try{const P=await t(u);s(P.needsVerification,u.email)}catch(P){let D="Account creation failed. Please try again.";P instanceof Error&&(P.message.includes("already registered")||P.message.includes("already exists")?D="An account with this email already exists. Please sign in instead.":D=P.message),f(D)}finally{m(!1)}},E=`w-full pl-12 pr-4 py-3.5 rounded-xl transition-all duration-200 text-white placeholder-slate-500 border-2 border-slate-700 bg-slate-800/50 focus:bg-slate-800 hover:border-slate-600 ${a?"focus:border-green-500 focus:ring-2 focus:ring-green-500/20":"focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20"}`,h="border-2 border-red-500/50 bg-red-500/10 focus:border-red-500 focus:ring-2 focus:ring-red-500/20";return e.jsxs("div",{className:"space-y-4",children:[p&&e.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-xl",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(B,{className:"w-5 h-5 text-red-400 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-red-300 text-sm font-medium",children:p}),p.includes("already exists")&&e.jsx("button",{onClick:o,className:"text-red-400 text-xs mt-1 underline hover:no-underline",children:"Sign in instead"})]})]})}),e.jsxs("form",{onSubmit:g(_),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Ae,{className:"h-5 w-5 text-slate-500"})}),e.jsx("input",{...j("name"),type:"text",placeholder:"Enter your full name",className:x.name?`w-full pl-12 pr-4 py-3.5 rounded-xl text-white placeholder-slate-500 ${h}`:E})]}),x.name&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(B,{className:"w-4 h-4 mr-1"}),x.name.message]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(ae,{className:"h-5 w-5 text-slate-500"})}),e.jsx("input",{...j("email"),type:"email",placeholder:"your.email@example.com",className:x.email?`w-full pl-12 pr-4 py-3.5 rounded-xl text-white placeholder-slate-500 ${h}`:E})]}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Any email address is accepted (Gmail, college email, etc.)"}),x.email&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(B,{className:"w-4 h-4 mr-1"}),x.email.message]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Password ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(He,{className:"h-5 w-5 text-slate-500"})}),e.jsx("input",{...j("password"),type:r?"text":"password",placeholder:"Create a strong password",className:`${x.password?`w-full pl-12 pr-12 py-3.5 rounded-xl text-white placeholder-slate-500 ${h}`:`${E} pr-12`}`}),e.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-500 hover:text-slate-300 transition-colors",children:r?e.jsx(Se,{className:"h-5 w-5"}):e.jsx(Ne,{className:"h-5 w-5"})})]}),v&&e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-slate-700 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${A.color}`,style:{width:`${A.strength/5*100}%`}})}),e.jsx("span",{className:"text-xs font-medium text-slate-400 min-w-[60px]",children:A.label})]})}),x.password&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(B,{className:"w-4 h-4 mr-1"}),x.password.message]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Confirm Password ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(He,{className:"h-5 w-5 text-slate-500"})}),e.jsx("input",{...j("confirmPassword"),type:i?"text":"password",placeholder:"Confirm your password",className:`${x.confirmPassword?`w-full pl-12 pr-12 py-3.5 rounded-xl text-white placeholder-slate-500 ${h}`:`${E} pr-12`}`}),e.jsx("button",{type:"button",onClick:()=>c(!i),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-500 hover:text-slate-300 transition-colors",children:i?e.jsx(Se,{className:"h-5 w-5"}):e.jsx(Ne,{className:"h-5 w-5"})})]}),x.confirmPassword&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(B,{className:"w-4 h-4 mr-1"}),x.confirmPassword.message]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Referral Code ",e.jsx("span",{className:"text-slate-500",children:"(Optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(jt,{className:"h-5 w-5 text-slate-500"})}),e.jsx("input",{...j("referralCode"),type:"text",placeholder:"Enter referral code",className:E})]}),e.jsx("p",{className:`mt-2 text-xs flex items-center gap-1 ${a?"text-green-400":"text-emerald-400"}`,children:"ðŸ’° Get â‚¹10 bonus in your wallet when you use a valid referral code!"})]}),e.jsx("button",{type:"submit",disabled:d,className:`w-full py-3.5 px-6 rounded-xl font-semibold text-white transition-all duration-300 flex items-center justify-center space-x-2 mt-2 ${d?"bg-slate-700 cursor-not-allowed":a?"bg-gradient-to-r from-red-500 via-emerald-500 to-green-600 hover:shadow-lg hover:shadow-green-500/30 active:scale-[0.98]":"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:shadow-lg hover:shadow-emerald-500/30 active:scale-[0.98]"}`,children:d?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Creating Account..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(cs,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Account"}),e.jsx(Ye,{className:"w-4 h-4"})]})})]}),e.jsx("div",{className:`text-center pt-4 border-t ${a?"border-green-500/20":"border-emerald-500/20"}`,children:e.jsxs("p",{className:"text-slate-400 text-sm",children:["Already have an account?"," ",e.jsx("button",{type:"button",onClick:o,className:`font-semibold transition-colors ${a?"text-green-400 hover:text-green-300":"text-emerald-400 hover:text-emerald-300"}`,children:"Sign in here â†’"})]})})]})},Ss=Ze({email:W().email("Invalid email address")}),Ns=({onBackToLogin:o,onSuccess:s})=>{const{forgotPassword:t}=F(),{isChristmasMode:a}=oe(),[r,n]=l.useState(!1),[i,c]=l.useState(null),[d,m]=l.useState(null),[p,f]=l.useState(!1),[j,g]=l.useState(0),{register:x,handleSubmit:b,formState:{errors:v}}=Ke({resolver:st(Ss)});l.useEffect(()=>{if(j>0){const _=setInterval(()=>{g(E=>E<=1?(f(!1),0):E-1)},1e3);return()=>clearInterval(_)}},[j]);const y=async _=>{if(!p){n(!0),m(null),c(null);try{await t({email:_.email}),c("Password reset email sent! Please check your inbox and spam folder."),s()}catch(E){const h=E instanceof Error?E.message:"Something went wrong.";if(h.includes("Too many password reset attempts")){f(!0);const u=h.match(/(\d+) minute/);if(u){const P=parseInt(u[1]);g(P*60)}}m(h)}finally{n(!1)}}},A=_=>{const E=Math.floor(_/60),h=_%60;return`${E}:${h.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:"text-center mb-4",children:e.jsx("p",{className:"text-slate-400 leading-relaxed text-sm",children:"Enter your email to receive a reset link."})}),e.jsxs("div",{className:`p-4 rounded-xl flex items-start ${a?"bg-green-500/10 border border-green-500/30":"bg-emerald-500/10 border border-emerald-500/30"}`,children:[e.jsx(ke,{className:`w-5 h-5 mr-3 mt-0.5 flex-shrink-0 ${a?"text-green-400":"text-emerald-400"}`}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:`font-medium mb-1 ${a?"text-green-300":"text-emerald-300"}`,children:"Secure Password Reset"}),e.jsx("p",{className:"text-xs text-slate-400",children:"The reset link will expire in 1 hour. For security, you can only request 3 resets per 15 minutes."})]})]}),d&&e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-xl flex items-start",children:[e.jsx(B,{className:"w-5 h-5 text-red-400 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-red-300 text-sm font-medium",children:d})]}),p&&j>0&&e.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-xl flex items-start",children:[e.jsx(me,{className:"w-5 h-5 text-amber-400 mr-3 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-amber-300 font-medium mb-1",children:"Rate limit reached"}),e.jsxs("p",{className:"text-amber-400/80 text-xs",children:["Please wait ",A(j)," before requesting another reset."]})]})]}),i&&e.jsxs("div",{className:`p-4 rounded-xl flex items-start ${a?"bg-green-500/10 border border-green-500/30":"bg-emerald-500/10 border border-emerald-500/30"}`,children:[e.jsx(J,{className:`w-5 h-5 mr-3 mt-0.5 flex-shrink-0 ${a?"text-green-400":"text-emerald-400"}`}),e.jsx("span",{className:`text-sm font-medium ${a?"text-green-300":"text-emerald-300"}`,children:i})]}),e.jsxs("form",{onSubmit:b(y),className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(ae,{className:"h-5 w-5 text-slate-500"})}),e.jsx("input",{type:"email",...x("email"),placeholder:"you@example.com",className:`w-full pl-12 pr-4 py-3.5 rounded-xl transition-all duration-200 text-white placeholder-slate-500 ${v.email?"border-2 border-red-500/50 bg-red-500/10 focus:border-red-500 focus:ring-2 focus:ring-red-500/20":`border-2 border-slate-700 bg-slate-800/50 focus:bg-slate-800 hover:border-slate-600 ${a?"focus:border-green-500 focus:ring-2 focus:ring-green-500/20":"focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20"}`}`})]}),v.email&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(B,{className:"w-4 h-4 mr-1"}),v.email.message]})]}),e.jsx("button",{type:"submit",disabled:r||p,className:`w-full py-3.5 px-6 rounded-xl font-semibold text-white transition-all duration-300 flex items-center justify-center space-x-2 ${r||p?"bg-slate-700 cursor-not-allowed":a?"bg-gradient-to-r from-red-500 via-emerald-500 to-green-600 hover:shadow-lg hover:shadow-green-500/30 active:scale-[0.98]":"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:shadow-lg hover:shadow-emerald-500/30 active:scale-[0.98]"}`,children:r?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Sending..."})]}):p?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"w-5 h-5"}),e.jsxs("span",{children:["Wait ",A(j)]})]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-5 h-5"}),e.jsx("span",{children:"Send Reset Link"})]})})]}),e.jsx("div",{className:`text-center pt-5 border-t ${a?"border-green-500/20":"border-emerald-500/20"}`,children:e.jsxs("button",{type:"button",onClick:o,className:`font-medium transition-colors flex items-center justify-center mx-auto ${a?"text-green-400 hover:text-green-300":"text-emerald-400 hover:text-emerald-300"}`,children:[e.jsx(Qt,{className:"w-4 h-4 mr-1"}),"Back to Sign In"]})})]})},Tt=({isOpen:o,onClose:s,initialView:t="login",onProfileFillRequest:a=()=>{},onPromptDismissed:r=()=>{}})=>{const{user:n,isAuthenticated:i}=F(),{isChristmasMode:c}=oe(),[d,m]=l.useState(t),[p,f]=l.useState("");if(l.useEffect(()=>{!o&&d==="postSignupPrompt"&&(r(),m("login")),o||m("login")},[o,d,r]),l.useEffect(()=>{d==="forgot-password"||d==="success"||i&&n&&(n.hasSeenProfilePrompt===null||n.hasSeenProfilePrompt===void 0)||(i&&n&&n.hasSeenProfilePrompt===!1&&o?(a("profile"),s()):i&&n&&n.hasSeenProfilePrompt===!0&&o&&s())},[i,n,o,s,a,d]),!o)return null;const j=y=>{y.target===y.currentTarget&&s()},g=y=>{y.preventDefault(),y.stopPropagation(),s()},x=()=>{m("success"),setTimeout(()=>{s(),m("login")},2500)},b=()=>{switch(d){case"login":return"Welcome Back";case"signup":return"Join PrimoBoost AI";case"forgot-password":return"Reset Password";case"success":return"Success!";case"postSignupPrompt":return"Account Created!";default:return"Authentication"}},v=()=>{switch(d){case"login":return"Sign in to optimize your resume with AI";case"signup":return"Create your account and start optimizing";case"forgot-password":return"We'll help you reset your password";case"success":return"Everything is set up perfectly!";case"postSignupPrompt":return"Your account is ready!";default:return""}};return e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-3 sm:p-4",onClick:j,role:"dialog","aria-labelledby":"auth-modal-title","aria-modal":"true",children:e.jsxs("div",{className:`relative w-full max-w-[95vw] sm:max-w-md max-h-[95vh] overflow-hidden rounded-2xl border shadow-2xl flex flex-col ${c?"bg-slate-900 border-green-500/30":"bg-slate-900 border-emerald-500/30"}`,children:[e.jsx("div",{className:`absolute -inset-1 rounded-2xl blur-xl opacity-30 pointer-events-none ${c?"bg-gradient-to-r from-red-500 via-green-500 to-emerald-500":"bg-gradient-to-r from-emerald-500 via-cyan-500 to-teal-500"}`}),e.jsxs("div",{className:`relative px-4 sm:px-6 py-5 sm:py-6 border-b flex-shrink-0 ${c?"bg-gradient-to-br from-slate-800/80 to-green-900/30 border-green-500/20":"bg-gradient-to-br from-slate-800/80 to-emerald-900/30 border-emerald-500/20"}`,children:[e.jsx("button",{onClick:g,"aria-label":"Close",className:`absolute top-3 right-3 sm:top-4 sm:right-4 w-9 h-9 sm:w-10 sm:h-10 flex items-center justify-center rounded-full transition-all duration-200 z-10 ${c?"bg-slate-800/80 hover:bg-red-500/20 text-slate-400 hover:text-red-400 border border-slate-700/50":"bg-slate-800/80 hover:bg-emerald-500/20 text-slate-400 hover:text-emerald-400 border border-slate-700/50"}`,children:e.jsx(Y,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"text-center pr-8",children:[e.jsx("div",{className:`w-14 h-14 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 shadow-lg ${c?"bg-gradient-to-br from-red-500 via-emerald-500 to-green-600 shadow-green-500/30":"bg-gradient-to-br from-emerald-500 to-cyan-500 shadow-emerald-500/30"}`,children:e.jsx(V,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})}),e.jsx("h1",{id:"auth-modal-title",className:"text-xl sm:text-2xl font-bold text-white mb-1.5",children:b()}),e.jsx("p",{className:"text-slate-400 text-sm",children:v()})]})]}),e.jsxs("div",{className:"relative p-4 sm:p-6 overflow-y-auto flex-1 min-h-0 bg-slate-900",children:[d==="login"&&e.jsx(ws,{onSwitchToSignup:()=>m("signup"),onForgotPassword:()=>m("forgot-password")}),d==="signup"&&e.jsx(js,{onSwitchToLogin:()=>m("login"),onSignupSuccess:(y,A)=>{f(A),m(y?"success":"postSignupPrompt")}}),d==="forgot-password"&&e.jsx(Ns,{onBackToLogin:()=>m("login"),onSuccess:x}),d==="success"&&e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-2xl flex items-center justify-center mx-auto mb-4 sm:mb-6 ${c?"bg-green-500/20 border border-green-500/30":"bg-emerald-500/20 border border-emerald-500/30"}`,children:e.jsx(J,{className:`w-8 h-8 sm:w-10 sm:h-10 ${c?"text-green-400":"text-emerald-400"}`})}),e.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-white mb-3",children:"All Set!"}),p?e.jsxs("p",{className:"text-sm sm:text-base text-slate-300 leading-relaxed px-4",children:["A verification email has been sent to ",e.jsx("br",{}),e.jsx("strong",{className:"text-white",children:p})]}):e.jsx("p",{className:"text-sm sm:text-base text-slate-300 leading-relaxed px-4",children:"Password reset email sent. Check your inbox!"}),e.jsx("button",{onClick:()=>s(),className:"w-full mt-6 bg-slate-800 hover:bg-slate-700 text-slate-300 font-semibold py-3 px-4 rounded-xl text-sm transition-colors border border-slate-700",children:"Close"})]}),d==="postSignupPrompt"&&e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-2xl flex items-center justify-center mx-auto mb-4 sm:mb-6 ${c?"bg-green-500/20 border border-green-500/30":"bg-emerald-500/20 border border-emerald-500/30"}`,children:e.jsx(J,{className:`w-8 h-8 sm:w-10 sm:h-10 ${c?"text-green-400":"text-emerald-400"}`})}),e.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-white mb-3",children:"Welcome!"}),e.jsxs("p",{className:"text-sm sm:text-base text-slate-300 leading-relaxed px-4 mb-6",children:["Your account for ",e.jsx("strong",{className:"text-white",children:p})," has been created successfully! Would you like to complete your profile now?"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 px-4",children:[e.jsx("button",{onClick:()=>{a()},className:`w-full py-3 px-4 rounded-xl font-semibold text-sm text-white transition-all duration-300 ${c?"bg-gradient-to-r from-red-500 via-emerald-500 to-green-600 hover:shadow-lg hover:shadow-green-500/30":"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:shadow-lg hover:shadow-emerald-500/30"}`,children:"Complete Profile"}),e.jsx("button",{onClick:()=>{r()},className:"w-full bg-slate-800 hover:bg-slate-700 text-slate-300 font-semibold py-3 px-4 rounded-xl text-sm transition-colors border border-slate-700",children:"Skip for now"})]})]})]})]})})},ks=()=>{const{user:o}=F(),[s,t]=l.useState([]),[a,r]=l.useState([]),[n,i]=l.useState([]),[c,d]=l.useState(!0),[m,p]=l.useState("devices"),[f,j]=l.useState(new Set);l.useEffect(()=>{o&&g()},[o]);const g=async()=>{if(o){d(!0);try{const[u,P,D]=await Promise.all([L.getUserDevices(o.id),L.getUserSessions(o.id),L.getUserActivityLogs(o.id,20)]);t(u),r(P),i(D)}catch(u){console.error("Error loading device data:",u)}finally{d(!1)}}},x=async u=>{await L.trustDevice(u)&&await g()},b=async u=>{confirm("Are you sure you want to remove this device? All sessions will be ended.")&&await L.removeDevice(u)&&await g()},v=async u=>{await L.endSpecificSession(u)&&await g()},y=async()=>{confirm("Are you sure you want to end all other sessions? You will remain logged in on this device.")&&await L.endAllOtherSessions(o.id,"current-session-token")&&await g()},A=u=>{const P=new Set(f);P.has(u)?P.delete(u):P.add(u),j(P)},_=u=>{switch(u){case"mobile":return e.jsx(ns,{className:"w-5 h-5"});case"tablet":return e.jsx(is,{className:"w-5 h-5"});default:return e.jsx(os,{className:"w-5 h-5"})}},E=u=>new Date(u).toLocaleString(),h=u=>u>=70?"text-red-400 bg-red-500/20":u>=40?"text-orange-400 bg-orange-500/20":"text-emerald-400 bg-emerald-500/20";return c?e.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-slate-700/50",children:e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(Ge,{className:"w-6 h-6 animate-spin text-emerald-400 mr-2"}),e.jsx("span",{className:"text-slate-300",children:"Loading device information..."})]})}):e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl shadow-lg border border-slate-700/50 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700/50 p-6 border-b border-slate-700/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-cyan-500 w-12 h-12 rounded-full flex items-center justify-center mr-4",children:e.jsx(ke,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-100",children:"Device & Session Management"}),e.jsx("p",{className:"text-slate-400",children:"Monitor and manage your account security across all devices"})]})]}),e.jsxs("button",{onClick:g,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]})}),e.jsx("div",{className:"border-b border-slate-700/50",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"devices",label:"Devices",count:s.length},{id:"sessions",label:"Active Sessions",count:a.length},{id:"activity",label:"Recent Activity",count:n.length}].map(u=>e.jsxs("button",{onClick:()=>p(u.id),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${m===u.id?"border-emerald-500 text-emerald-400":"border-transparent text-slate-400 hover:text-slate-200 hover:border-slate-600"}`,children:[u.label," (",u.count,")"]},u.id))})}),e.jsxs("div",{className:"p-6",children:[m==="devices"&&e.jsx("div",{className:"space-y-4",children:s.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No devices found"}):s.map(u=>e.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4 bg-slate-900/30",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-slate-400",children:_(u.deviceType)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-100",children:u.deviceName||`${u.browserName} on ${u.osName}`}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-400",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(me,{className:"w-4 h-4 mr-1"}),"Last seen: ",E(u.lastSeenAt)]}),u.lastLocation&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),u.lastLocation.city,", ",u.lastLocation.country]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),u.activeSessions," active session",u.activeSessions!==1?"s":""]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[u.isTrusted?e.jsxs("span",{className:"flex items-center text-emerald-400 text-sm",children:[e.jsx(J,{className:"w-4 h-4 mr-1"}),"Trusted"]}):e.jsx("button",{onClick:()=>x(u.id),className:"bg-emerald-600 hover:bg-emerald-500 text-white px-3 py-1 rounded text-sm transition-colors",children:"Trust Device"}),e.jsx("button",{onClick:()=>A(u.id),className:"text-slate-400 hover:text-slate-200 p-1",children:f.has(u.id)?e.jsx(Se,{className:"w-4 h-4"}):e.jsx(Ne,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(u.id),className:"text-red-400 hover:text-red-300 p-1",children:e.jsx(ls,{className:"w-4 h-4"})})]})]}),f.has(u.id)&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700/50 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-300",children:"Device Type:"}),e.jsx("span",{className:"ml-2 text-slate-400",children:u.deviceType})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-300",children:"Browser:"}),e.jsx("span",{className:"ml-2 text-slate-400",children:u.browserName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-300",children:"Operating System:"}),e.jsx("span",{className:"ml-2 text-slate-400",children:u.osName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-300",children:"Status:"}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${u.isTrusted?"bg-emerald-500/20 text-emerald-400":"bg-yellow-500/20 text-yellow-400"}`,children:u.isTrusted?"Trusted":"Untrusted"})]})]})]},u.id))}),m==="sessions"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-slate-100",children:"Active Sessions"}),e.jsxs("button",{onClick:y,className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(et,{className:"w-4 h-4"}),e.jsx("span",{children:"End All Other Sessions"})]})]}),a.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No active sessions found"}):a.map(u=>e.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4 bg-slate-900/30",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-slate-400",children:e.jsx(mt,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-slate-100",children:["Session from ",u.ipAddress]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-400",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(me,{className:"w-4 h-4 mr-1"}),"Started: ",E(u.createdAt)]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),"Last activity: ",E(u.lastActivityAt)]}),u.location&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),u.location.city,", ",u.location.country]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"flex items-center text-emerald-400 text-sm",children:[e.jsx(J,{className:"w-4 h-4 mr-1"}),"Active"]}),e.jsx("button",{onClick:()=>v(u.id),className:"bg-red-600 hover:bg-red-500 text-white px-3 py-1 rounded text-sm transition-colors",children:"End Session"})]})]}),f.has(u.id)&&e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-700/50 text-sm",children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-300",children:"User Agent:"}),e.jsx("span",{className:"ml-2 text-slate-400 break-all",children:u.userAgent})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-300",children:"Expires:"}),e.jsx("span",{className:"ml-2 text-slate-400",children:E(u.expiresAt)})]})]})})]},u.id))]}),m==="activity"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-slate-100",children:"Recent Activity"}),n.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No recent activity found"}):n.map(u=>e.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4 bg-slate-900/30",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-slate-400",children:e.jsx(Be,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-100 capitalize",children:u.activityType.replace("_"," ")}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-400",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(me,{className:"w-4 h-4 mr-1"}),E(u.createdAt)]}),u.ipAddress&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(mt,{className:"w-4 h-4 mr-1"}),u.ipAddress]}),u.location&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),u.location.city,", ",u.location.country]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h(u.riskScore)}`,children:["Risk: ",u.riskScore,"%"]}),u.riskScore>=70&&e.jsx(je,{className:"w-5 h-5 text-red-400"})]})]}),u.activityDetails&&e.jsx("div",{className:"mt-3 p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:e.jsx("pre",{className:"text-sm text-slate-300 whitespace-pre-wrap",children:JSON.stringify(u.activityDetails,null,2)})})]},u.id))]})]})]})},As=({children:o,onMobileMenuToggle:s,showMobileMenu:t,onShowProfile:a})=>{const r=pe(),{user:n,isAuthenticated:i,logout:c,isLoading:d}=F(),{isChristmasMode:m}=oe(),[p,f]=l.useState(!1),[j,g]=l.useState(!1),[x,b]=l.useState(!1),[v,y]=l.useState(!1),A=l.useRef(null);console.log("Header: isAuthenticated =",i);const _=async P=>{P.preventDefault(),P.stopPropagation(),y(!0);try{await c(),g(!1)}catch(D){console.error("Logout failed:",D)}finally{y(!1)}},E=()=>n?n.name.split(" ")[0]:"",h=()=>{if(!n)return"U";const P=n.name.split(" ");return P.length>=2?`${P[0][0]}${P[1][0]}`.toUpperCase():P[0][0].toUpperCase()};l.useEffect(()=>{const P=D=>{A.current&&!A.current.contains(D.target)&&g(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const u=d&&!i&&!n;return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"bg-slate-900/95 backdrop-blur-xl shadow-lg border-b border-slate-800/50 sticky top-0 z-50",children:e.jsx("div",{className:"container-responsive",children:e.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl overflow-hidden shadow-lg",children:e.jsx("img",{src:"https://res.cloudinary.com/dlkovvlud/image/upload/w_1000,c_fill,ar_1:1,g_auto,r_max,bo_5px_solid_red,b_rgb:262c35/v1751536902/a-modern-logo-design-featuring-primoboos_XhhkS8E_Q5iOwxbAXB4CqQ_HnpCsJn4S1yrhb826jmMDw_nmycqj.jpg",alt:"PrimoBoost AI Logo",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"hidden xs:block",children:e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-white",children:"PrimoBoost AI"})}),e.jsx("div",{className:"xs:hidden",children:e.jsx("h1",{className:"text-base font-bold text-white",children:"PrimoBoost AI"})})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[o,i&&n?e.jsxs("div",{className:"relative",ref:A,children:[e.jsxs("button",{onClick:()=>{console.log("Profile button clicked. Current showUserMenu:",j,"New state:",!j),g(!j)},className:`flex items-center space-x-3 rounded-full px-4 py-1 transition-all duration-200 focus:outline-none focus:ring-2 border shadow-sm ${m?"bg-slate-800/50 hover:bg-slate-800/70 border-green-500/30 focus:ring-green-400":"bg-slate-800/50 hover:bg-slate-800/70 border-emerald-500/30 focus:ring-emerald-400"}`,children:[e.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-md ${m?"bg-gradient-to-br from-red-500 to-green-600":"bg-gradient-to-br from-emerald-500 to-cyan-500"}`,children:h()}),e.jsx("div",{className:"text-left",children:e.jsxs("p",{className:"text-sm font-semibold text-white",children:[E(),"!"]})})]}),j&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-slate-900 rounded-xl shadow-xl border border-slate-700/50 py-2 z-50 overflow-hidden backdrop-blur-xl",children:[e.jsx("div",{className:"px-4 py-3 border-b border-slate-700/50 bg-slate-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-cyan-500 w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold shadow-md",children:h()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-100 truncate",children:n.name}),e.jsx("p",{className:"text-xs text-slate-400 truncate",children:n.email})]})]})}),e.jsxs("button",{onClick:()=>{r("/profile"),g(!1)},className:"w-full text-left px-4 py-3 text-sm text-slate-300 hover:bg-slate-800/70 hover:text-emerald-400 transition-colors flex items-center space-x-3 min-h-touch",children:[e.jsx(Ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Profile Settings"})]}),e.jsxs("button",{onClick:_,disabled:v,className:"w-full text-left px-4 py-3 text-sm text-red-400 hover:bg-red-500/10 transition-colors flex items-center space-x-3 disabled:opacity-50 min-h-touch",children:[v?e.jsx(he,{className:"w-4 h-4 animate-spin"}):e.jsx(et,{className:"w-4 h-4"}),e.jsx("span",{children:v?"Signing Out...":"Sign Out"})]})]})]}):e.jsxs("button",{onClick:()=>f(!0),disabled:u,className:`px-6 py-2.5 rounded-xl flex items-center space-x-2 shadow-lg transition-all duration-300 font-semibold ${m?"bg-gradient-to-r from-red-500 via-emerald-500 to-green-600 hover:shadow-green-500/50 text-white":"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:shadow-emerald-500/50 text-white"} ${u?"opacity-50 cursor-not-allowed":"hover:scale-105 active:scale-[0.98]"}`,children:[u?e.jsx(he,{className:"w-4 h-4 animate-spin"}):e.jsx(Ae,{className:"w-4 h-4"}),e.jsx("span",{children:u?"Loading...":"Sign In"})]})]}),e.jsx("div",{className:"lg:hidden",children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:s,"aria-label":t?"Close menu":"Open menu","aria-expanded":t,className:"min-w-touch min-h-touch p-2 text-slate-400 hover:text-slate-100 hover:bg-slate-800/50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500",children:t?e.jsx(Y,{className:"w-6 h-6"}):e.jsx(rs,{className:"w-6 h-6"})})})})]})})}),e.jsx(Tt,{isOpen:p,onClose:()=>f(!1)}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 backdrop-blur-sm safe-area",role:"dialog","aria-labelledby":"device-mgmt-title",children:e.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-y-auto border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-slate-700/50",children:[e.jsx("h2",{id:"device-mgmt-title",className:"text-lg sm:text-xl font-semibold text-slate-100",children:"Device & Security Management"}),e.jsx("button",{onClick:()=>b(!1),"aria-label":"Close device management",className:"min-w-touch min-h-touch w-8 h-8 flex items-center justify-center text-slate-400 hover:text-slate-200 transition-colors rounded-full hover:bg-slate-800",children:e.jsx(Y,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-4 sm:p-6",children:e.jsx(ks,{})})]})})]})},Ps=({onPageChange:o})=>{const[s,t]=l.useState(!1),[a,r]=l.useState(!1),[n,i]=l.useState(!1),{isAuthenticated:c,user:d}=F(),m=l.useRef(null),p=l.useRef(null),f=l.useRef(null);l.useEffect(()=>{const y=_=>{m.current&&!m.current.contains(_.target)&&t(!1),p.current&&!p.current.contains(_.target)&&r(!1),f.current&&!f.current.contains(_.target)&&i(!1)},A=_=>{_.key==="Escape"&&(t(!1),r(!1),i(!1))};return document.addEventListener("mousedown",y),document.addEventListener("keydown",A),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",A)}},[]);const j=[{id:"/",label:"Home",icon:e.jsx(Qe,{className:"w-4 h-4"})},{id:"/jobs",label:"Latest Jobs",icon:e.jsx(ue,{className:"w-4 h-4"})},{id:"/tutorials",label:"Tutorials",icon:e.jsx(te,{className:"w-4 h-4"})}],g=[{id:"/about",label:"About Us",icon:e.jsx(Ee,{className:"w-4 h-4"})},{id:"/blog",label:"Blog",icon:e.jsx(te,{className:"w-4 h-4"})},{id:"/webinars",label:"Webinars",icon:e.jsx(V,{className:"w-4 h-4"})},{id:"/gaming",label:"Gaming",icon:e.jsx(Xe,{className:"w-4 h-4"})},{id:"/referrals",label:"Referrals",icon:e.jsx(re,{className:"w-4 h-4"})},{id:"/careers",label:"Careers",icon:e.jsx(re,{className:"w-4 h-4"})},{id:"/contact",label:"Contact",icon:e.jsx(tt,{className:"w-4 h-4"})},...c?[{id:"/jobs/applications",label:"My Applications",icon:e.jsx(se,{className:"w-4 h-4"})},{id:"/my-bookings",label:"My Bookings",icon:e.jsx(wt,{className:"w-4 h-4"})}]:[]],x=[{id:"/optimizer",label:"Resume Optimizer",icon:e.jsx(At,{className:"w-4 h-4"})},{id:"/score-checker",label:"Score Checker",icon:e.jsx(Pt,{className:"w-4 h-4"})},{id:"/guided-builder",label:"Guided Builder",icon:e.jsx(kt,{className:"w-4 h-4"})},{id:"/linkedin-generator",label:"LinkedIn Messages",icon:e.jsx(Nt,{className:"w-4 h-4"})}],b=[{id:"/admin/dashboard",label:"Admin Dashboard",icon:e.jsx(ut,{className:"w-4 h-4"})},{id:"/admin/jobs",label:"Manage Jobs",icon:e.jsx(ue,{className:"w-4 h-4"})},{id:"/admin/webinars",label:"Webinar Management",icon:e.jsx(Et,{className:"w-4 h-4"})},{id:"/admin/blog",label:"Blog Management",icon:e.jsx(se,{className:"w-4 h-4"})},{id:"/admin/email-testing",label:"Email Testing",icon:e.jsx(ae,{className:"w-4 h-4"})},{id:"/admin/users",label:"Manage Users",icon:e.jsx(re,{className:"w-4 h-4"})},{id:"/admin/sessions",label:"Session Schedule",icon:e.jsx(V,{className:"w-4 h-4"})},{id:"/admin/referrals",label:"Referral Mgmt",icon:e.jsx(ke,{className:"w-4 h-4"})}],v=c&&((d==null?void 0:d.role)==="admin"||(d==null?void 0:d.email)==="primoboostai@gmail.com");return e.jsxs("nav",{className:"hidden lg:flex items-center space-x-6",children:[j.map(y=>e.jsxs(_e,{to:y.id,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-200 ${typeof window<"u"&&window.location.pathname===y.id?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"text-slate-300 hover:text-emerald-400 hover:bg-slate-800/50"}`,children:[y.icon,e.jsx("span",{children:y.label})]},y.id)),c&&e.jsxs("div",{className:"relative",ref:m,children:[e.jsxs("button",{onClick:()=>{t(!s),r(!1),i(!1)},className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-200 ${s?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"text-slate-300 hover:text-emerald-400 hover:bg-slate-800/50"}`,children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{children:"AI Tools"}),e.jsx(Ve,{className:`w-4 h-4 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-56 bg-slate-900/95 rounded-xl shadow-2xl border border-emerald-500/30 py-2 z-[100] backdrop-blur-xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-emerald-500/5 to-transparent pointer-events-none"}),x.map(y=>e.jsxs(_e,{to:y.id,onClick:()=>t(!1),className:"relative w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-emerald-500/10 transition-colors text-slate-300 hover:text-emerald-400",children:[y.icon,e.jsx("span",{className:"font-medium",children:y.label})]},y.id))]})]}),e.jsxs("div",{className:"relative",ref:p,children:[e.jsxs("button",{onClick:()=>{r(!a),t(!1),i(!1)},className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-200 ${a?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"text-slate-300 hover:text-emerald-400 hover:bg-slate-800/50"}`,children:[e.jsx(ut,{className:"w-4 h-4"}),e.jsx("span",{children:"Primo space"}),e.jsx(Ve,{className:`w-4 h-4 transition-transform duration-200 ${a?"rotate-180":""}`})]}),a&&e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-56 bg-slate-900/95 rounded-xl shadow-2xl border border-emerald-500/30 py-2 z-[100] backdrop-blur-xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-emerald-500/5 to-transparent pointer-events-none"}),g.map(y=>e.jsxs(_e,{to:y.id,onClick:()=>r(!1),className:"relative w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-emerald-500/10 transition-colors text-slate-300 hover:text-emerald-400",children:[y.icon,e.jsx("span",{className:"font-medium",children:y.label})]},y.id))]})]}),v&&e.jsxs("div",{className:"relative",ref:f,children:[e.jsxs("button",{onClick:()=>{i(!n),t(!1),r(!1)},className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-200 ${n?"bg-red-500/20 text-red-300 border border-red-500/30":"text-slate-300 hover:text-red-400 hover:bg-red-500/10"}`,children:[e.jsx(ke,{className:"w-4 h-4"}),e.jsx("span",{children:"Admin"}),e.jsx(Ve,{className:`w-4 h-4 transition-transform duration-200 ${n?"rotate-180":""}`})]}),n&&e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-56 bg-slate-900/95 rounded-xl shadow-2xl border border-red-500/30 py-2 z-[100] backdrop-blur-xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-red-500/5 to-transparent pointer-events-none"}),b.map(y=>e.jsxs(_e,{to:y.id,onClick:()=>i(!1),className:"relative w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-red-500/10 transition-colors text-slate-300 hover:text-red-400",children:[y.icon,e.jsx("span",{className:"font-medium",children:y.label})]},y.id))]})]})]})},Es=({isOpen:o,onClose:s,title:t,message:a,type:r="info",actionText:n,onAction:i})=>{if(!o)return null;const c=f=>{f.target===f.currentTarget&&s()},d=()=>{switch(r){case"success":return e.jsx(J,{className:"w-8 h-8 text-emerald-400"});case"warning":return e.jsx(je,{className:"w-8 h-8 text-amber-400"});case"error":return e.jsx(je,{className:"w-8 h-8 text-red-400"});case"info":default:return e.jsx(Ee,{className:"w-8 h-8 text-cyan-400"})}},m=()=>{switch(r){case"success":return"bg-emerald-500/10";case"warning":return"bg-amber-500/10";case"error":return"bg-red-500/10";case"info":default:return"bg-cyan-500/10"}},p=()=>{switch(r){case"success":return"bg-emerald-500 hover:bg-emerald-600";case"warning":return"bg-amber-500 hover:bg-amber-600";case"error":return"bg-red-500 hover:bg-red-600";case"info":default:return"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-400 hover:to-cyan-400"}};return e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:c,role:"alertdialog","aria-labelledby":"alert-modal-title","aria-describedby":"alert-modal-message",children:e.jsxs("div",{className:"card-surface w-full max-w-md max-h-[95vh] overflow-y-auto animate-scale-in",children:[e.jsxs("div",{className:"relative p-6 border-b border-slate-700/50",children:[e.jsx("button",{onClick:s,"aria-label":"Close alert",className:"absolute top-4 right-4 w-10 h-10 flex items-center justify-center text-slate-400 hover:text-slate-200 transition-colors rounded-full hover:bg-slate-700/50",children:e.jsx(Y,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 ${m()}`,children:d()}),e.jsx("h1",{id:"alert-modal-title",className:"text-xl font-bold text-slate-100",children:t})]})]}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("p",{id:"alert-modal-message",className:"text-slate-300 mb-6",children:a}),n&&i?e.jsx("button",{onClick:()=>{i&&i(),s()},className:`w-full py-3 px-6 rounded-xl font-semibold text-white transition-all duration-300 shadow-lg hover:shadow-emerald-glow ${p()}`,children:n}):e.jsx("button",{onClick:s,className:"w-full py-3 px-6 rounded-xl font-semibold text-slate-200 bg-slate-700 hover:bg-slate-600 transition-colors duration-300",children:"Close"})]})]})})},Cs=({isOpen:o,onClose:s,onAction:t,targetPath:a="/optimizer",imageSrc:r="https://img.sanishtech.com/u/d3c3a0693f8dfeff84478ac6f4b44977.png",ctaLabel:n="Optimize Resume Now",fit:i="cover"})=>{const c=pe(),{isChristmasMode:d}=oe(),[m,p]=l.useState(!1);l.useEffect(()=>{const x=setTimeout(()=>p(!0),550);return()=>clearTimeout(x)},[]);const f=()=>{t?t():c(a),s()},j=["Instant JD-based tailoring","Keyword density fixes","Project impact rewrites","Recruiter-ready formatting"],g=["Instant ATS score","Keyword gap fixes","Project rewriting","Tailored to any JD"];return e.jsx(Pe,{children:o&&m&&e.jsxs(I.div,{className:"fixed inset-0 z-[200] flex items-center justify-center p-3 sm:p-4 md:p-6 overflow-y-auto",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:[e.jsx(I.div,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s}),e.jsxs(I.div,{role:"dialog","aria-modal":"true",className:"relative w-full max-w-[95vw] sm:max-w-2xl lg:max-w-3xl my-auto",initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.97},transition:{duration:.3,ease:[.22,1,.36,1]},children:[e.jsx("div",{className:`pointer-events-none absolute -inset-2 sm:-inset-3 rounded-2xl sm:rounded-3xl blur-2xl sm:blur-3xl opacity-40 sm:opacity-60 hidden sm:block ${d?"bg-gradient-to-r from-red-500/40 via-green-500/40 to-emerald-500/40":"bg-gradient-to-r from-emerald-500/40 via-cyan-500/40 to-teal-500/40"}`}),e.jsxs("div",{className:`relative overflow-hidden rounded-xl sm:rounded-2xl border shadow-2xl ${d?"border-green-500/30 bg-slate-900":"border-emerald-500/30 bg-slate-900"}`,children:[e.jsxs("div",{className:"absolute inset-0 hidden sm:block",children:[e.jsx("img",{src:r,alt:"PrimoBoostAI offer",className:`h-full w-full object-${i} opacity-15`,loading:"lazy"}),e.jsx("div",{className:`absolute inset-0 ${d?"bg-gradient-to-br from-slate-900/98 via-slate-900/95 to-green-900/90":"bg-gradient-to-br from-slate-900/98 via-slate-900/95 to-emerald-900/90"}`})]}),e.jsx("button",{onClick:s,"aria-label":"Close offer",className:`absolute top-3 right-3 sm:top-4 sm:right-4 z-20 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full transition-all duration-200 ${d?"bg-slate-800/90 active:bg-red-500/20 text-slate-300 active:text-red-400 border border-slate-700/50":"bg-slate-800/90 active:bg-emerald-500/20 text-slate-300 active:text-emerald-400 border border-slate-700/50"}`,children:e.jsx(Y,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("div",{className:"relative flex flex-col gap-4 p-4 sm:p-6 md:p-8 max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-xs sm:text-sm font-semibold backdrop-blur-md ${d?"bg-green-500/15 border border-green-500/30 text-green-300":"bg-emerald-500/15 border border-emerald-500/30 text-emerald-300"}`,children:[e.jsx(V,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.jsx("span",{children:"PrimoBoost AI Optimizer"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white leading-tight",children:"Your Resume Isn't Getting Shortlisted?"}),e.jsx("p",{className:`text-lg sm:text-xl md:text-2xl font-semibold mt-1 ${d?"text-green-400":"text-emerald-400"}`,children:"Fix it in 60 Seconds."})]}),e.jsx("p",{className:"text-sm sm:text-base text-slate-300 leading-relaxed",children:"ATS score, missing keywords, weak projects - PrimoBoost AI finds and fixes everything before recruiters ever see your resume."}),e.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:g.map(x=>e.jsx("span",{className:"rounded-full px-2.5 py-1 sm:px-3 sm:py-1.5 text-xs sm:text-sm bg-slate-800/60 border border-slate-700/50 text-slate-300",children:x},x))}),e.jsxs("div",{className:`rounded-xl p-4 backdrop-blur-md ${d?"bg-slate-800/50 border border-green-500/20":"bg-slate-800/50 border border-emerald-500/20"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm text-slate-300 font-medium",children:"ATS Score Boost"}),e.jsx("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-semibold ${d?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30"}`,children:"+25 pts avg"})]}),e.jsx("hr",{className:`mb-3 ${d?"border-green-500/20":"border-emerald-500/20"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white text-sm mb-2",children:"What you get"}),e.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:j.map(x=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(J,{className:`w-4 h-4 flex-shrink-0 ${d?"text-green-400":"text-emerald-400"}`}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:x})]},x))})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3 pt-1",children:[e.jsxs(I.button,{whileTap:{scale:.98},onClick:f,className:`group flex items-center justify-center gap-2 h-11 sm:h-12 px-5 sm:px-6 rounded-xl font-semibold text-white shadow-lg transition-all duration-300 w-full sm:w-auto ${d?"bg-gradient-to-r from-red-500 via-emerald-500 to-green-600 active:shadow-green-500/40":"bg-gradient-to-r from-emerald-500 to-cyan-500 active:shadow-emerald-500/40"}`,children:[e.jsx("span",{className:"text-sm sm:text-base",children:n}),e.jsx(Ye,{className:"w-4 h-4"})]}),e.jsx("button",{onClick:s,className:"text-sm font-medium text-slate-400 hover:text-slate-200 transition-colors h-10 px-4",children:"Not now"})]})]})}),e.jsx("div",{className:`absolute inset-x-0 bottom-0 h-1 ${d?"bg-gradient-to-r from-red-500 via-green-500 to-emerald-500":"bg-gradient-to-r from-emerald-500 via-cyan-500 to-teal-500"}`})]})]})]})})},Is=({onCTAClick:o})=>{const[s,t]=l.useState(!0),[a,r]=l.useState({days:0,hours:0,minutes:0,seconds:0}),n=l.useMemo(()=>{const c=new Date;return c.setHours(23,59,59,0),c.getTime()},[]);l.useEffect(()=>{const c=()=>{const m=Date.now(),p=Math.max(0,n-m),f=Math.floor(p/(1e3*60*60*24)),j=Math.floor(p%(1e3*60*60*24)/(1e3*60*60)),g=Math.floor(p%(1e3*60*60)/(1e3*60)),x=Math.floor(p%(1e3*60)/1e3);r({days:f,hours:j,minutes:g,seconds:x}),p===0&&t(!1)};c();const d=setInterval(c,1e3);return()=>clearInterval(d)},[n]);const i=()=>{t(!1)};return s?e.jsx(Pe,{children:e.jsx(I.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-orange-600 via-red-600 to-pink-600 text-white shadow-2xl",children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"hidden sm:flex items-center space-x-2 flex-shrink-0",children:[e.jsx(jt,{className:"w-5 h-5 sm:w-6 sm:h-6 animate-bounce"}),e.jsx(V,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-pulse"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3",children:[e.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold truncate",children:"ðŸª” Diwali Special!"}),e.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold bg-white text-orange-600 px-2 py-0.5 sm:px-3 sm:py-1 rounded-lg shadow-lg inline-block",children:"90% OFF"})]}),e.jsxs("p",{className:"text-xs sm:text-sm md:text-base mt-1",children:["Code: ",e.jsx("span",{className:"font-bold bg-white text-orange-600 px-1.5 py-0.5 sm:px-2 rounded",children:"DIWALI"})]})]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-2 flex-shrink-0",children:[e.jsxs("div",{className:"text-center bg-white/20 px-2 py-1.5 sm:px-3 sm:py-2 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold",children:a.days}),e.jsx("div",{className:"text-xs",children:"Days"})]}),e.jsxs("div",{className:"text-center bg-white/20 px-2 py-1.5 sm:px-3 sm:py-2 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold",children:a.hours}),e.jsx("div",{className:"text-xs",children:"Hours"})]}),e.jsxs("div",{className:"text-center bg-white/20 px-2 py-1.5 sm:px-3 sm:py-2 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold",children:a.minutes}),e.jsx("div",{className:"text-xs",children:"Mins"})]}),e.jsxs("div",{className:"text-center bg-white/20 px-2 py-1.5 sm:px-3 sm:py-2 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold",children:a.seconds}),e.jsx("div",{className:"text-xs",children:"Secs"})]})]}),e.jsx("button",{onClick:o,className:"bg-white text-orange-600 font-bold px-3 py-1.5 sm:px-4 sm:py-2 md:px-6 rounded-lg hover:bg-orange-50 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 text-sm sm:text-base flex-shrink-0",children:"Claim Now"}),e.jsx("button",{onClick:i,className:"absolute top-2 right-2 text-white/70 hover:text-white transition-colors","aria-label":"Close banner",children:e.jsx(Y,{className:"w-5 h-5"})})]})})})}):null},Ds=({delay:o,duration:s,size:t=1})=>{const a=Math.random()*100,r=(Math.random()-.5)*30,n=Math.random()>.5?180:-180;return e.jsx(I.div,{className:"fixed pointer-events-none z-40",style:{left:`${a}%`,top:-20,width:t*10,height:t*10},initial:{y:-20,x:0,opacity:0,rotate:0},animate:{y:["0vh","105vh"],x:[0,r*.3,r*.7,r,r*.8],opacity:[0,.7,.7,.5,0],rotate:[0,n]},transition:{duration:s,repeat:1/0,delay:o,ease:"linear"},children:e.jsx("div",{className:"w-full h-full rounded-full bg-white/60 blur-[0.5px]",style:{boxShadow:"0 0 4px rgba(255,255,255,0.3)"}})})},Mt=({intensity:o="medium"})=>{const s=typeof window<"u"&&window.innerWidth<768,a={light:s?8:15,medium:s?12:30,heavy:s?20:50}[o];return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-40 overflow-hidden",children:[...Array(a)].map((r,n)=>e.jsx(Ds,{delay:Math.random()*10,duration:10+Math.random()*10,size:.5+Math.random()*.8},n))})},Rt=()=>{const[o,s]=l.useState(!1);return l.useEffect(()=>{const t=setInterval(()=>{s(!0),setTimeout(()=>s(!1),12e3)},45e3),a=setTimeout(()=>{s(!0),setTimeout(()=>s(!1),12e3)},5e3);return()=>{clearInterval(t),clearTimeout(a)}},[]),e.jsx(Pe,{children:o&&e.jsxs(I.div,{className:"fixed z-50 pointer-events-none",style:{top:"6%"},initial:{x:"-350px",opacity:0},animate:{x:["calc(-350px)","calc(100vw + 350px)"],y:[0,-20,10,-15,5,-10,0,-8,5,-5,0],opacity:[0,1,1,1,1,1,1,1,1,.8,0]},exit:{opacity:0},transition:{duration:12,ease:"linear",y:{duration:12,ease:"easeInOut"}},children:[e.jsx(I.div,{className:"absolute inset-0 -z-10",style:{background:"radial-gradient(ellipse 200px 80px at center, rgba(255,215,0,0.3) 0%, rgba(255,100,100,0.15) 40%, transparent 70%)",filter:"blur(8px)"},animate:{opacity:[.5,.8,.5],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0}}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsxs(I.div,{className:"relative text-3xl sm:text-4xl",animate:{y:[0,-4,0],rotate:[-2,2,-2]},transition:{duration:.6,repeat:1/0},children:["ðŸ¦Œ",e.jsx(I.div,{className:"absolute top-[45%] left-[35%] w-2 h-2 rounded-full bg-red-500",style:{boxShadow:"0 0 8px 4px rgba(255,0,0,0.8), 0 0 15px 8px rgba(255,0,0,0.4)"},animate:{scale:[1,1.3,1],opacity:[.8,1,.8]},transition:{duration:.5,repeat:1/0}})]}),e.jsx(I.span,{className:"text-2xl sm:text-3xl -ml-2",animate:{y:[0,-3,0]},transition:{duration:.55,repeat:1/0,delay:.1},children:"ðŸ¦Œ"}),e.jsx(I.span,{className:"text-2xl sm:text-3xl -ml-2",animate:{y:[0,-3,0]},transition:{duration:.55,repeat:1/0,delay:.15},children:"ðŸ¦Œ"}),e.jsxs("div",{className:"relative w-6 sm:w-8 -ml-1",children:[e.jsx("div",{className:"h-0.5 bg-gradient-to-r from-yellow-600 via-yellow-400 to-yellow-600",style:{boxShadow:"0 0 4px rgba(255,215,0,0.6)"}}),e.jsx(I.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-xs",animate:{opacity:[0,1,0],scale:[.5,1,.5]},transition:{duration:.4,repeat:1/0},children:"âœ¨"})]}),e.jsxs(I.div,{className:"relative -ml-1",animate:{rotate:[-1,1,-1]},transition:{duration:1.5,repeat:1/0},children:[e.jsx("span",{className:"text-3xl sm:text-4xl",children:"ðŸ›·"}),e.jsx(I.span,{className:"absolute -top-3 left-1/2 -translate-x-1/2 text-lg",animate:{y:[0,-2,0]},transition:{duration:.8,repeat:1/0},children:"ðŸŽ"})]}),e.jsxs(I.div,{className:"relative text-3xl sm:text-4xl -ml-4",animate:{rotate:[-3,3,-3]},transition:{duration:1.2,repeat:1/0},children:["ðŸŽ…",e.jsx(I.span,{className:"absolute -top-1 -right-1 text-sm",animate:{rotate:[0,20,0,-10,0],y:[0,-2,0]},transition:{duration:.8,repeat:1/0},children:"ðŸ‘‹"})]}),e.jsx("div",{className:"absolute -right-16 top-1/2 -translate-y-1/2 flex gap-1",children:[0,1,2,3,4].map(t=>e.jsx(I.span,{className:"text-sm sm:text-base",style:{color:t%2===0?"#FFD700":"#FF6B6B"},animate:{opacity:[0,1,0],scale:[.3,1,.3],y:[0,t%2===0?-5:5,0]},transition:{duration:.6,repeat:1/0,delay:t*.12},children:t%3===0?"âœ¨":t%3===1?"â­":"â„ï¸"},t))}),e.jsx(I.div,{className:"absolute -bottom-4 left-0 right-0 h-1",style:{background:"linear-gradient(90deg, transparent, rgba(255,215,0,0.4), rgba(255,100,100,0.3), transparent)",filter:"blur(2px)"},animate:{opacity:[.3,.7,.3],scaleX:[.8,1,.8]},transition:{duration:1,repeat:1/0}})]}),e.jsx(I.div,{className:"absolute -top-8 right-8 bg-white/90 text-red-600 px-3 py-1 rounded-full text-xs sm:text-sm font-bold shadow-lg",initial:{opacity:0,scale:0},animate:{opacity:[0,1,1,1,0],scale:[.5,1,1,1,.5],y:[0,-5,0,-3,0]},transition:{duration:3,delay:2},children:"Ho Ho Ho! ðŸŽ„"})]})})},Yr=({size:o="md"})=>{const s={sm:"text-3xl",md:"text-5xl",lg:"text-7xl"};return e.jsx(I.div,{className:`${s[o]} select-none`,animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:"ðŸŽ„"})},qe=({className:o,color:s="red"})=>{const t={red:"bg-red-500/20",green:"bg-green-500/20",gold:"bg-yellow-500/20"};return e.jsx(I.div,{className:`absolute rounded-full blur-3xl pointer-events-none ${t[s]} ${o}`,animate:{scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}})},Xr=({className:o})=>e.jsx(I.div,{className:`text-3xl select-none ${o}`,animate:{y:[0,-5,0],rotate:[-5,5,-5]},transition:{duration:2,repeat:1/0},children:"ðŸŽ"}),Qr=({children:o,showSnow:s=!0,showSanta:t=!0,className:a=""})=>{const[r]=l.useState(()=>{const n=new Date().getMonth();return n===11||n===0});return e.jsxs("div",{className:`relative min-h-screen text-slate-100 overflow-x-hidden ${r?"bg-gradient-to-b from-[#1a0a0f] via-[#0f1a0f] to-[#070b14]":"bg-gradient-to-b from-[#0a1e1e] via-[#0d1a1a] to-[#070b14]"} ${a}`,children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:r?e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-[600px] h-[600px] -top-40 -left-40",color:"red"}),e.jsx(qe,{className:"w-[500px] h-[500px] top-1/3 -right-40",color:"green"}),e.jsx(qe,{className:"w-[400px] h-[400px] bottom-20 left-1/4",color:"gold"})]}):e.jsxs(e.Fragment,{children:[e.jsx(I.div,{className:"absolute w-[600px] h-[600px] -top-40 -left-40 bg-emerald-500/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0}}),e.jsx(I.div,{className:"absolute w-[500px] h-[500px] top-1/3 -right-40 bg-cyan-500/15 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,delay:2}})]})}),e.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-[0.02]",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                           linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}}),r&&s&&e.jsx(Mt,{intensity:"light"}),r&&t&&e.jsx(Rt,{}),e.jsx("div",{className:"relative z-10",children:o})]})},ht={items:[{id:"optimizer",label:"JD-Based Optimizer",icon:e.jsx(At,{className:"w-5 h-5"}),path:"/optimizer"},{id:"guided-builder",label:"Guided Resume Builder",icon:e.jsx(kt,{className:"w-5 h-5"}),path:"/guided-builder"},{id:"mock-interview",label:"AI Mock Interview",icon:e.jsx(as,{className:"w-5 h-5"}),path:"/mock-interview"},{id:"score-checker",label:"Resume Score Check",icon:e.jsx(Pt,{className:"w-5 h-5"}),path:"/score-checker"},{id:"linkedin-generator",label:"Outreach Messages",icon:e.jsx(Nt,{className:"w-5 h-5"}),path:"/linkedin-generator"},{id:"gaming",label:"Gaming Aptitude",icon:e.jsx(Xe,{className:"w-5 h-5"}),path:"/gaming"},{id:"session",label:"Resume Session",icon:e.jsx(_t,{className:"w-5 h-5"}),path:"/session"},{id:"my-bookings",label:"My Bookings",icon:e.jsx(wt,{className:"w-5 h-5"}),path:"/my-bookings"}]},pt={items:[{id:"referrals",label:"Referrals",icon:e.jsx(re,{className:"w-5 h-5"}),path:"/referrals"},{id:"jobs",label:"Latest Jobs",icon:e.jsx(ue,{className:"w-5 h-5"}),path:"/jobs"},{id:"pricing",label:"Pricing",icon:e.jsx(ts,{className:"w-5 h-5"}),path:"/pricing"},{id:"blog",label:"Blog",icon:e.jsx(se,{className:"w-5 h-5"}),path:"/blog"},{id:"webinars",label:"Webinars",icon:e.jsx(V,{className:"w-5 h-5"}),path:"/webinars"},{id:"tutorials",label:"Tutorials",icon:e.jsx(te,{className:"w-5 h-5"}),path:"/tutorials"},{id:"about",label:"About Us",icon:e.jsx(Ee,{className:"w-5 h-5"}),path:"/about"},{id:"contact",label:"Contact Us",icon:e.jsx(tt,{className:"w-5 h-5"}),path:"/contact"}]},Ts=()=>{const o=pe(),s=yt(),[t,a]=l.useState(!1),[r,n]=l.useState(null),[i,c]=l.useState(null),d=l.useRef({}),m=g=>{o(g)},p=g=>s.pathname===g;l.useEffect(()=>{if(r&&!t&&d.current[r]){const g=d.current[r].getBoundingClientRect();c({top:g.top+g.height/2,left:g.right+12})}else c(null)},[r,t]);const f=(g,x)=>{const b=p(g.path);return e.jsx("div",{ref:v=>d.current[g.id]=v,className:"relative",onMouseEnter:()=>!t&&n(g.id),onMouseLeave:()=>n(null),children:e.jsxs(I.button,{onClick:()=>m(g.path),className:`w-full flex items-center ${t?"justify-start gap-3 px-3":"justify-center"} p-3 rounded-lg transition-all duration-200 ${b?"bg-[rgba(0,230,184,0.15)] text-[#00E6B8]":"text-[#7A8CAA] hover:text-[#00E6B8] hover:bg-[rgba(0,230,184,0.15)]"}`,whileTap:{scale:.95},children:[e.jsx("span",{className:"flex-shrink-0",children:g.icon}),t&&e.jsx("span",{className:"text-sm font-medium text-slate-200 transition-opacity duration-200",children:g.label})]})},g.id)},j=r?[...ht.items,...pt.items].find(g=>g.id===r):null;return e.jsxs(e.Fragment,{children:[e.jsx(I.aside,{initial:{width:64},animate:{width:t?232:64},className:"fixed left-0 top-14 sm:top-16 bottom-0 z-30 hidden md:flex flex-col bg-[#05131A] backdrop-blur-sm border-r border-[#0c1d25] transition-[width]",children:e.jsxs("div",{className:"flex-1 overflow-y-auto px-2 pt-3",children:[e.jsx("div",{className:"space-y-1",children:ht.items.map((g,x)=>f(g))}),e.jsx("div",{className:"my-4 mx-2 border-t border-slate-800"}),e.jsx("div",{className:"space-y-1",children:pt.items.map((g,x)=>f(g))})]})}),!t&&r&&i&&j&&bt.createPortal(e.jsx(Pe,{children:e.jsxs(I.div,{initial:{opacity:0,x:-8,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-8,scale:.95},transition:{duration:.15},className:"fixed px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap z-40 pointer-events-none",style:{top:`${i.top}px`,left:`${i.left}px`,transform:"translateY(-50%)",background:"linear-gradient(135deg, rgba(13, 27, 42, 0.95) 0%, rgba(5, 19, 26, 0.95) 100%)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(0, 230, 184, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},children:[j.label,e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1 w-2 h-2 rotate-45",style:{background:"linear-gradient(135deg, rgba(13, 27, 42, 0.95) 0%, rgba(5, 19, 26, 0.95) 100%)",borderLeft:"1px solid rgba(0, 230, 184, 0.2)",borderBottom:"1px solid rgba(0, 230, 184, 0.2)"}})]})}),document.body)]})};class Lt extends Ft.Component{constructor(t){super(t);K(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});K(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("ErrorBoundary caught:",t,a)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0a1e1e] via-[#0d1a1a] to-[#070b14] flex items-center justify-center p-6",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-red-500/10 flex items-center justify-center mx-auto mb-6",children:e.jsx(je,{className:"w-8 h-8 text-red-400"})}),e.jsx("h1",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-slate-400 text-sm mb-8",children:"An unexpected error occurred. Please try again or return to the home page."}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsxs("button",{onClick:this.handleReset,className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-slate-800 text-slate-200 text-sm font-medium hover:bg-slate-700 transition-colors",children:[e.jsx(Ge,{className:"w-4 h-4"}),"Try Again"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-emerald-600 text-white text-sm font-medium hover:bg-emerald-500 transition-colors",children:[e.jsx(Qe,{className:"w-4 h-4"}),"Go Home"]})]})]})}):this.props.children}}function Ms(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0a1e1e] via-[#0d1a1a] to-[#070b14] flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 border-2 border-emerald-500/30 border-t-emerald-400 rounded-full animate-spin"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Loading..."})]})})}const Rs=l.lazy(()=>S(()=>import("./HomePage-CuCJhKd5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(o=>({default:o.HomePage}))),Ls=l.lazy(()=>S(()=>import("./ResumeOptimizer-BZd0mod8.js"),__vite__mapDeps([14,11,2,1,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,6,5,9,30,31,32,33,34,35,36,8,37,12,13]))),Os=l.lazy(()=>S(()=>import("./GuidedResumeBuilder-2tRZY8VH.js"),__vite__mapDeps([38,1,2,17,18,19,23,24,25,26,27,28,21,11,29,6,5,9,30,31,32,39,40,20,8,12,13]))),zs=l.lazy(()=>S(()=>import("./ResumeScoreChecker-CDfLxlVt.js"),__vite__mapDeps([41,1,2,33,25,28,34,42,43,11,32,6,40,9,27,44,12,13])).then(o=>({default:o.ResumeScoreChecker}))),$s=l.lazy(()=>S(()=>import("./LinkedInMessageGenerator-CTdIiyzE.js"),__vite__mapDeps([45,1,2,10,46,6,47,11,12,13])).then(o=>({default:o.LinkedInMessageGenerator}))),Us=l.lazy(()=>S(()=>import("./AboutUs-CLSx6Csm.js"),__vite__mapDeps([48,1,2,3,49,9,6,11,12,13])).then(o=>({default:o.AboutUs}))),Bs=l.lazy(()=>S(()=>import("./Contact-556cASbq.js"),__vite__mapDeps([50,1,2,3,49,6,5,11,12,13])).then(o=>({default:o.Contact}))),Vs=l.lazy(()=>S(()=>import("./Tutorials-CNVDSDUs.js"),__vite__mapDeps([51,1,2,3,5,52,53,20,27,6,9,11,12,13])).then(o=>({default:o.Tutorials}))),Fs=l.lazy(()=>S(()=>import("./UserProfileManagement-mDxPU92K.js"),__vite__mapDeps([54,1,2,13,33,25,28,34,55,56,57,58,21,6,44,59,60,30,61,62,63,10,26,31,9,46,47,11,12])).then(o=>({default:o.UserProfileManagement}))),gt=l.lazy(()=>S(()=>import("./SubscriptionPlans-DfmsVcVJ.js"),__vite__mapDeps([64,1,2,7,65,6,66,67,26,8,68,11,12,13])).then(o=>({default:o.SubscriptionPlans}))),qs=l.lazy(()=>S(()=>import("./ToolsAndPagesNavigation-CA9lzo41.js"),__vite__mapDeps([69,1,2,9,11,12,13])).then(o=>({default:o.ToolsAndPagesNavigation}))),Hs=l.lazy(()=>S(()=>import("./PlanSelectionModal-D-dJYogK.js"),__vite__mapDeps([70,1,2,11,12,13])).then(o=>({default:o.PlanSelectionModal}))),Gs=l.lazy(()=>S(()=>import("./FloatingChatbot-CZKB-azg.js"),__vite__mapDeps([71,1,2,29,11,12,13])).then(o=>({default:o.FloatingChatbot}))),Ws=l.lazy(()=>S(()=>import("./CareersPage-ChtFOqao.js"),__vite__mapDeps([72,1,2,4,9,6,53,73,44,74,11,12,13])).then(o=>({default:o.CareersPage}))),xt=l.lazy(()=>S(()=>import("./JobDetailsPageNew-EJYdTA5F.js"),__vite__mapDeps([75,1,2,36,11,37,4,7,46,47,9,35,76,31,12,13])).then(o=>({default:o.JobDetailsPageNew}))),Js=l.lazy(()=>S(()=>import("./JobsPage-Bo91r_P8.js"),__vite__mapDeps([77,1,2,15,16,36,11,78,53,79,66,67,80,81,12,59,37,68,17,18,19,20,35,6,82,83,84,24,25,60,85,31,34,26,4,13])).then(o=>({default:o.JobsPage}))),Zs=l.lazy(()=>S(()=>import("./CompanyJobsPage-BHxfehO3.js"),__vite__mapDeps([86,1,2,36,11,78,4,15,37,35,12,13])).then(o=>({default:o.CompanyJobsPage}))),Ks=l.lazy(()=>S(()=>import("./MyApplicationsPage-7Z5j5NN9.js"),__vite__mapDeps([87,1,2,36,11,3,88,20,37,6,12,13])).then(o=>({default:o.MyApplicationsPage}))),Ys=l.lazy(()=>S(()=>import("./JobApplicationPage-gZwaWMil.js"),__vite__mapDeps([89,1,2,90,67,39,40,25,37,46,31,91,9,92,29,11,12,13])).then(o=>({default:o.JobApplicationPage}))),Xs=l.lazy(()=>S(()=>import("./JobApplicationFormPage-CrLGwxMb.js"),__vite__mapDeps([93,1,2,90,67,37,30,34,29,11,12,13])).then(o=>({default:o.JobApplicationFormPage}))),R=l.lazy(()=>S(()=>import("./AdminRoute-CZ95OXgT.js"),__vite__mapDeps([94,1,2,11,12,13])).then(o=>({default:o.AdminRoute}))),Qs=l.lazy(()=>S(()=>import("./JobUploadForm-1h8FPtRb.js"),__vite__mapDeps([95,1,2,13,36,11,96,97,34,26,98,35,59,30,37,31,91,9,92,62,12])).then(o=>({default:o.JobUploadForm}))),er=l.lazy(()=>S(()=>import("./AdminJobsPage-C3kYPa1v.js"),__vite__mapDeps([99,1,2,26,53,35,59,100,11,12,13])).then(o=>({default:o.AdminJobsPage}))),tr=l.lazy(()=>S(()=>import("./JobEditPage-CVJHe5Sh.js"),__vite__mapDeps([101,1,2,13,96,97,34,35,59,30,37,62,11,12])).then(o=>({default:o.JobEditPage}))),sr=l.lazy(()=>S(()=>import("./AdminUsersPage-BAiZGEWq.js"),__vite__mapDeps([102,1,2,76,53,11,12,13])).then(o=>({default:o.AdminUsersPage}))),rr=l.lazy(()=>S(()=>import("./PortfolioBuilderPage-CJoVfX59.js"),__vite__mapDeps([103,1,2,34,37,11,12,13])).then(o=>({default:o.PortfolioBuilderPage}))),ar=l.lazy(()=>S(()=>import("./MockInterviewPage-DYTfb-82.js"),__vite__mapDeps([104,1,2,82,11,83,84,24,25,105,52,106,107,27,18,34,35,4,12,13])).then(o=>({default:o.MockInterviewPage}))),or=l.lazy(()=>S(()=>import("./ResumeBasedInterviewPage-BnkNRDzj.js"),__vite__mapDeps([108,1,2,11,83,84,24,25,109,29,31,52,21,34,110,12,13])).then(o=>({default:o.ResumeBasedInterviewPage}))),nr=l.lazy(()=>S(()=>import("./UnifiedInterviewOrchestrator-B1QLujcW.js"),__vite__mapDeps([111,1,2,112,35,31,73,74,105,52,106,84,24,25,107,27,18,67,82,11,83,34,109,7,46,19,21,8,6,12,13])).then(o=>({default:o.UnifiedInterviewOrchestrator}))),ir=l.lazy(()=>S(()=>import("./SmartInterviewPage-D0Bab51R.js"),__vite__mapDeps([113,1,2,114,109,84,24,25,105,52,106,107,27,18,31,29,21,112,35,73,74,67,11,12,13])).then(o=>({default:o.SmartInterviewPage}))),lr=l.lazy(()=>S(()=>import("./EnhancedBlogPage-Cb0bhRmE.js"),__vite__mapDeps([115,1,2,116,5,117,53,79,66,67,90,4,11,12,13])).then(o=>({default:o.EnhancedBlogPage}))),cr=l.lazy(()=>S(()=>import("./BlogPostPage-Pj0bixuX.js"),__vite__mapDeps([118,1,2,116,90,67,47,10,11,12,13])).then(o=>({default:o.BlogPostPage}))),dr=l.lazy(()=>S(()=>import("./AdminBlogPostsList-odGCehw4.js"),__vite__mapDeps([119,1,2,120,26,53,121,11,12,13])).then(o=>({default:o.AdminBlogPostsList}))),ft=l.lazy(()=>S(()=>import("./AdminBlogPostForm-Ce0b-E6H.js"),__vite__mapDeps([122,1,2,13,120,116,22,91,97,117,68,62,11,12])).then(o=>({default:o.AdminBlogPostForm}))),mr=l.lazy(()=>S(()=>import("./AdminBlogCategoriesManager-DGTDpwi0.js"),__vite__mapDeps([123,1,2,120,117,121,26,11,12,13])).then(o=>({default:o.AdminBlogCategoriesManager}))),ur=l.lazy(()=>S(()=>import("./EmailTestingPanel-Dy7PCDSQ.js"),__vite__mapDeps([124,1,2,21,29,11,12,13])).then(o=>({default:o.EmailTestingPanel}))),hr=l.lazy(()=>S(()=>import("./WebinarsPage-C84_Xa_R.js"),__vite__mapDeps([125,1,2,56,4,53,5,11,12,13])).then(o=>({default:o.WebinarsPage}))),pr=l.lazy(()=>S(()=>import("./ATSScoreChecker16Parameter-DjItqcVY.js"),__vite__mapDeps([126,1,2,33,25,28,34,32,6,42,43,11,40,44,12,13])).then(o=>({default:o.ATSScoreChecker16ParameterComponent}))),gr=l.lazy(()=>S(()=>import("./ATSScoreChecker16ParameterAdvanced-r4OCTICc.js"),__vite__mapDeps([127,1,2,33,25,28,34,32,6,42,43,11,40,44,20,27,9,107,12,13])).then(o=>({default:o.ATSScoreChecker16ParameterAdvanced}))),xr=l.lazy(()=>S(()=>import("./WebinarLandingPage-CFumwCmP.js"),__vite__mapDeps([128,1,2,56,9,10,5,6,11,12,13])).then(o=>({default:o.WebinarLandingPage}))),fr=l.lazy(()=>S(()=>import("./WebinarDetailsPage-Dt6FTWgM.js"),__vite__mapDeps([129,1,2,56,37,61,30,20,11,12,13])).then(o=>({default:o.WebinarDetailsPage}))),br=l.lazy(()=>S(()=>import("./MyWebinarsPage-D0k0g0cw.js"),__vite__mapDeps([130,2])).then(o=>({default:o.MyWebinarsPage}))),yr=l.lazy(()=>S(()=>import("./GamingAptitudePage-CkdJBkQ0.js"),__vite__mapDeps([131,1,2,132,107,5,6,133,9,11,12,13])).then(o=>({default:o.GamingAptitudePage}))),vr=l.lazy(()=>S(()=>import("./CompanyGamePage-CXgMhVFc.js"),__vite__mapDeps([134,1,2,132,107,52,106,18,21,5,11,12,13])).then(o=>({default:o.CompanyGamePage}))),wr=l.lazy(()=>S(()=>import("./AccenturePathFinderPage-Bj8LKC-P.js"),__vite__mapDeps([135,1,2,132,65,107,6,52,106,98,18,21,11,12,13])).then(o=>({default:o.AccenturePathFinderPage}))),_r=l.lazy(()=>S(()=>import("./CognitivePathFinderPage-0z1WQ-px.js"),__vite__mapDeps([136,1,2,133,52,6,106,18,21,85,107,9,11,12,13])).then(o=>({default:o.CognitivePathFinderPage}))),jr=l.lazy(()=>S(()=>import("./AdminPage-DMmNfji8.js"),__vite__mapDeps([137,11,2,1,81,12,26,21,138,74,80,5,37,53,20,6,63,52,139,121,68,62,31,13]))),Sr=l.lazy(()=>S(()=>import("./KeyFinderPage-MowjJ62y.js"),__vite__mapDeps([140,1,2,107,133,44,11,12,13])).then(o=>({default:o.KeyFinderPage}))),Nr=l.lazy(()=>S(()=>import("./BubbleSelectionPage-C6WrA7II.js"),__vite__mapDeps([141,1,2,9,21,107,44,18,11,12,13])).then(o=>({default:o.BubbleSelectionPage}))),kr=l.lazy(()=>S(()=>import("./SpatialReasoningDemoPage-BiU7qiC-.js"),__vite__mapDeps([142,1,2,21,107,44,20,52,63,11,12,13])).then(o=>({default:o.SpatialReasoningDemoPage}))),Ar=l.lazy(()=>S(()=>import("./ResetPasswordPage-CqUWxLqE.js"),__vite__mapDeps([143,1,2,13,11,12])).then(o=>({default:o.ResetPasswordPage}))),Pr=l.lazy(()=>S(()=>import("./TestEmailDigest-DMpHgA0z.js"),__vite__mapDeps([144,1,2,81,12,110,29,21,11,13])).then(o=>({default:o.TestEmailDigest}))),Er=l.lazy(()=>S(()=>import("./SessionLandingPage-D0Hk2Qdp.js"),__vite__mapDeps([145,1,2,55,5,6,11,12,13])).then(o=>({default:o.SessionLandingPage}))),Cr=l.lazy(()=>S(()=>import("./SessionBookingFlow-Binx7_vo.js"),__vite__mapDeps([146,1,2,55,66,67,58,20,11,12,13])).then(o=>({default:o.SessionBookingFlow}))),Ir=l.lazy(()=>S(()=>import("./MyBookingsPage-RfjJlD2A.js"),__vite__mapDeps([147,1,2,55,56,76,57,58,67,21,11,12,13])).then(o=>({default:o.MyBookingsPage}))),Dr=l.lazy(()=>S(()=>import("./AdminSessionSchedule-BBHCFZp8.js"),__vite__mapDeps([148,1,2,149,55,139,66,67,20,58,11,12,13])).then(o=>({default:o.AdminSessionSchedule}))),Tr=l.lazy(()=>S(()=>import("./AdminSessionServiceEditor-OfXTcM1Q.js"),__vite__mapDeps([150,1,2,149,55,63,8,22,139,26,100,62,11,12,13])).then(o=>({default:o.AdminSessionServiceEditor}))),Mr=l.lazy(()=>S(()=>import("./AdminWebinarsPage-B9bodCRs.js"),__vite__mapDeps([151,1,2,26,5,53,97,59,138,37,11,12,13])).then(o=>({default:o.AdminWebinarsPage}))),Rr=l.lazy(()=>S(()=>import("./ReferralsPage-Da6v9Wgc.js"),__vite__mapDeps([152,1,2,153,53,5,88,35,67,59,31,11,12,13])).then(o=>({default:o.ReferralsPage}))),Lr=l.lazy(()=>S(()=>import("./ReferralDetailPage-Cox2Q4Lu.js"),__vite__mapDeps([154,1,2,153,59,66,67,35,31,53,76,5,11,12,13])).then(o=>({default:o.ReferralDetailPage}))),Or=l.lazy(()=>S(()=>import("./AdminReferralsPage-DflQ1EoK.js"),__vite__mapDeps([155,1,2,153,26,35,63,59,62,11,12,13])).then(o=>({default:o.AdminReferralsPage})));function zr(){const{isAuthenticated:o,user:s,markProfilePromptSeen:t,isLoading:a}=F(),r=pe(),n=yt(),[i,c]=l.useState(!1),[d,m]=l.useState(!1),[p,f]=l.useState(!1),[j,g]=l.useState(!1),[x,b]=l.useState(""),[v,y]=l.useState(null),[A,_]=l.useState(!1),[E,h]=l.useState(""),[u,P]=l.useState(""),[D,X]=l.useState("info"),[Ce,Ie]=l.useState(void 0),[De,Te]=l.useState(void 0),[ne,$]=l.useState("login"),[M,T]=l.useState(!1),[ie,ge]=l.useState(void 0),[xe,rt]=l.useState(!0),[at,Me]=l.useState(!1),[ot,Ur]=l.useState(!1),[Br,Vr]=l.useState(!1),[Re,Le]=l.useState(null),[q,nt]=l.useState(null),Ot="https://res.cloudinary.com/dlkovvlud/image/upload/w_1000,c_fill,ar_1:1,g_auto,r_max,bo_5px_solid_red,b_rgb:262c35/v1751536902/a-modern-logo-design-featuring-primoboos_XhhkS8E_Q5iOwxbAXB4CqQ_HnpCsJn4S1yrhb826jmMDw_nmycqj.jpg",Oe=l.useCallback(()=>{c(C=>!C)},[]),O=l.useCallback(C=>{console.log("handleShowAuth called in App.tsx"),m(!0),$("login"),console.log("showAuthModal set to true"),c(!1),Le(typeof C=="function"?()=>C:null)},[]),it=l.useCallback(()=>{r("/")},[r]),fe=l.useCallback(async()=>{if(o&&s){const C=await We.getUserSubscription(s.id);y(C),console.log("App.tsx: fetchSubscription - Fetched subscription:",C)}else y(null)},[o,s]),be=l.useCallback(async()=>{if(o&&s){console.log("App.tsx: Refreshing user subscription...");const C=await We.getUserSubscription(s.id);y(C),console.log("App.tsx: refreshUserSubscription - Fetched subscription:",C)}},[o,s]),Q=l.useCallback((C,z,ee="info",Z,de)=>{h(C),P(z),X(ee),Ie(Z),Te(()=>{de&&de(),_(!1)}),_(!0),Z||setTimeout(()=>{_(!1)},5e3)},[]),ze=l.useCallback(async()=>{f(!1),T(!1),b("Subscription activated successfully!"),g(!0),setTimeout(()=>{g(!1),b("")},5e3),await fe(),setWalletRefreshKey(C=>C+1),q&&(console.log("App.tsx: Running toolProcessTrigger after subscription success"),q())},[fe,q]),zt=l.useCallback(async C=>{console.log(`App.tsx: Add-on purchase successful for feature: ${C}. Triggering tool process.`),await be(),console.log("App.tsx: User subscription refreshed. Now attempting to trigger tool process.");let z="Add-on credit(s) added successfully!";switch(C){case"score-checker":z="1 Resume Score Check credit added successfully!";break;case"optimizer":z="1 JD-Based Optimization credit added successfully!";break;case"guided-builder":z="1 Guided Resume Build credit added successfully!";break;case"linkedin-generator":z="LinkedIn Message credits added successfully!";break}Q("Purchase Complete",z,"success"),T(!1),f(!1),q&&(console.log("App.tsx: Executing toolProcessTrigger for feature:",C),q())},[be,Q,q]),le=l.useCallback((C="profile")=>{c(!1),r(C==="wallet"?"/profile?tab=wallet":"/profile")},[r]),ye=l.useCallback((C,z=!1,ee,Z)=>{console.log("App.tsx: handleShowPlanSelection called with featureId:",C,"expandAddons:",z,"planId:",ee,"couponCode:",Z),ge(C),rt(z),T(!0)},[]),$t=l.useCallback(()=>{console.log("handleSelectCareerPlans called. Attempting to close PlanSelectionModal and open SubscriptionPlans modal."),T(!1),f(!0)},[]),$e=l.useCallback(()=>{console.log("App.tsx: handleShowSubscriptionPlansDirectly called. Opening SubscriptionPlans modal directly."),f(!0),rt(!1)},[]),Ut=l.useCallback(()=>{$e()},[$e]),ve=l.useCallback(C=>{C==="menu"?Oe():C==="profile"?(r("/profile"),c(!1)):C==="wallet"?(r("/profile?tab=wallet"),c(!1)):C==="subscription-plans"?(ye(void 0,!1),c(!1)):(r(C),c(!1))},[Oe,ye,r]);l.useEffect(()=>{fe()},[fe]),l.useEffect(()=>{const C=()=>{window.innerWidth>=768&&c(!1)};return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),l.useEffect(()=>{const C=window.location.hash,z=new URLSearchParams(window.location.search),ee=z.get("type"),Z=z.get("access_token"),de=new URLSearchParams(C.substring(1)),lt=de.get("type"),ct=de.get("access_token");(ee==="recovery"||lt==="recovery")&&(Z||ct)&&n.pathname!=="/reset-password"&&(console.log("App.tsx: Detected password recovery link in URL. Redirecting to /reset-password"),console.log("App.tsx: Type:",ee||lt,"Has access token:",!!(Z||ct)),r(`/reset-password${C||""}`,{replace:!0}))},[n.pathname,r]),l.useEffect(()=>{if(console.log("App.tsx useEffect: isAuthenticated:",o,"user:",s==null?void 0:s.id,"hasSeenProfilePrompt:",s==null?void 0:s.hasSeenProfilePrompt,"isLoadingAuth:",a,"current path:",n.pathname),n.pathname==="/reset-password"){console.log("App.tsx useEffect: On reset-password page, skipping AuthModal/profile logic.");return}if(a){console.log("App.tsx useEffect: AuthContext is still loading, deferring AuthModal logic.");return}if(o&&s){if(s.hasSeenProfilePrompt===void 0){console.log("App.tsx useEffect: user.hasSeenProfilePrompt is undefined, waiting for full profile load.");return}s.hasSeenProfilePrompt===!0&&(console.log("App.tsx useEffect: User authenticated and profile complete, ensuring AuthModal is closed."),m(!1),$("login"),Re&&(Re(),Le(null)))}else console.log("App.tsx useEffect: User not authenticated, ensuring AuthModal is closed."),$("login")},[o,s,s==null?void 0:s.hasSeenProfilePrompt,a,Re,n.pathname]),l.useEffect(()=>{let C=null;return n.pathname==="/"?C=setTimeout(()=>{Me(!0)},2e3):Me(!1),()=>{C&&clearTimeout(C)}},[n.pathname]);const U={isAuthenticated:o,onShowAuth:O,onShowSubscriptionPlans:ye,onShowSubscriptionPlansDirectly:$e,userSubscription:v,onShowAlert:Q,refreshUserSubscription:be,onNavigateBack:it,toolProcessTrigger:q,setToolProcessTrigger:nt};console.log("App.tsx: showPlanSelectionModal state before PlanSelectionModal render:",M);const ce=n.pathname.includes("/mock-interview")&&n.search.includes("session=active"),we=n.pathname==="/reset-password",Ue=new Date().getMonth()===11||new Date().getMonth()===0;return e.jsxs("div",{className:`min-h-screen pb-safe-bottom safe-area transition-colors duration-300 ${Ue?"bg-gradient-to-b from-[#1a0a0f] via-[#0f1a0f] to-[#070b14]":"bg-gradient-to-b from-[#0a1e1e] via-[#0d1a1a] to-[#070b14]"} text-slate-100`,children:[Ue&&!ce&&e.jsxs(e.Fragment,{children:[e.jsx(Mt,{intensity:"light"}),e.jsx(Rt,{})]}),ot&&!ce&&!we&&e.jsx(Is,{onCTAClick:Ut}),e.jsxs("div",{className:ot&&!ce&&!we?"pt-20 sm:pt-24":"",children:[j&&e.jsx("div",{className:`fixed top-4 left-1/2 -translate-x-1/2 z-50 p-3 text-white rounded-lg shadow-lg animate-fade-in-down ${Ue?"bg-gradient-to-r from-red-500 to-green-600":"bg-emerald-500"}`,children:x}),!ce&&!we&&e.jsx(As,{onMobileMenuToggle:Oe,showMobileMenu:i,onShowProfile:le,children:e.jsx(Ps,{onPageChange:ve})}),!ce&&!we&&e.jsx(Ts,{}),e.jsx(Lt,{children:e.jsx(l.Suspense,{fallback:e.jsx(Ms,{}),children:e.jsxs(qt,{children:[e.jsx(N,{path:"/",element:e.jsxs(e.Fragment,{children:[e.jsx(Rs,{...U}),e.jsx(l.Suspense,{fallback:null,children:e.jsx(Gs,{})})]})}),e.jsx(N,{path:"/optimizer",element:e.jsx("main",{className:"min-h-screen",children:e.jsx(Ls,{isAuthenticated:o,onShowAuth:O,onShowProfile:le,onNavigateBack:it,onShowPlanSelection:ye,userSubscription:v,refreshUserSubscription:be,toolProcessTrigger:q,setToolProcessTrigger:nt})})}),e.jsx(N,{path:"/score-checker",element:e.jsx(zs,{...U})}),e.jsx(N,{path:"/ats-16-parameter",element:e.jsx(pr,{onNavigateBack:()=>r("/")})}),e.jsx(N,{path:"/ats-16-parameter-advanced",element:e.jsx(gr,{onNavigateBack:()=>r("/")})}),e.jsx(N,{path:"/guided-builder",element:e.jsx(Os,{...U})}),e.jsx(N,{path:"/linkedin-generator",element:e.jsx($s,{...U})}),e.jsx(N,{path:"/portfolio-builder",element:e.jsx(rr,{isAuthenticated:o,onShowAuth:O})}),e.jsx(N,{path:"/mock-interview",element:e.jsx(ar,{isAuthenticated:o,onShowAuth:O})}),e.jsx(N,{path:"/resume-interview",element:e.jsx(or,{})}),e.jsx(N,{path:"/realistic-interview",element:e.jsx(nr,{})}),e.jsx(N,{path:"/smart-interview",element:e.jsx(ir,{isAuthenticated:o,onShowAuth:O})}),e.jsx(N,{path:"/about",element:e.jsx(Us,{})}),e.jsx(N,{path:"/contact",element:e.jsx(Bs,{})}),e.jsx(N,{path:"/tutorials",element:e.jsx(Vs,{})}),e.jsx(N,{path:"/all-tools",element:e.jsx(qs,{...U})}),e.jsx(N,{path:"/pricing",element:e.jsx(gt,{isOpen:!0,onNavigateBack:()=>r(-1),onSubscriptionSuccess:ze,onShowAlert:Q,initialExpandAddons:!1})}),e.jsx(N,{path:"/careers",element:e.jsx(Ws,{...U})}),e.jsx(N,{path:"/careers/:jobId",element:e.jsx(xt,{...U})}),e.jsx(N,{path:"/jobs",element:e.jsx(Js,{...U,onShowProfile:le})}),e.jsx(N,{path:"/jobs/company/:companySlug",element:e.jsx(Zs,{...U,onShowProfile:le})}),e.jsx(N,{path:"/jobs/:jobId",element:e.jsx(xt,{...U})}),e.jsx(N,{path:"/jobs/:jobId/apply",element:e.jsx(Ys,{})}),e.jsx(N,{path:"/jobs/:jobId/apply-form",element:e.jsx(Xs,{})}),e.jsx(N,{path:"/jobs/applications",element:e.jsx(Ks,{...U})}),e.jsx(N,{path:"/webinar-details/:registrationId",element:e.jsx(fr,{})}),e.jsx(N,{path:"/my-webinars",element:e.jsx(br,{})}),e.jsx(N,{path:"/gaming",element:e.jsx(yr,{isAuthenticated:o,onShowAuth:O})}),e.jsx(N,{path:"/gaming/:companyId",element:e.jsx(vr,{onShowAuth:O})}),e.jsx(N,{path:"/pathfinder",element:e.jsx(wr,{})}),e.jsx(N,{path:"/cognitive-pathfinder",element:e.jsx(_r,{})}),e.jsx(N,{path:"/key-finder",element:e.jsx(Sr,{})}),e.jsx(N,{path:"/bubble-selection",element:e.jsx(Nr,{})}),e.jsx(N,{path:"/spatial-reasoning",element:e.jsx(kr,{})}),e.jsx(N,{path:"/profile",element:e.jsx(Fs,{})}),e.jsx(N,{path:"/reset-password",element:e.jsx(Ar,{})}),e.jsx(N,{path:"/test-email-digest",element:e.jsx(Pr,{})}),e.jsx(N,{path:"/session",element:e.jsx(Er,{onShowAuth:O})}),e.jsx(N,{path:"/session/book",element:e.jsx(Cr,{})}),e.jsx(N,{path:"/my-bookings",element:e.jsx(Ir,{})}),e.jsx(N,{path:"/referrals",element:e.jsx(Rr,{onShowAuth:O})}),e.jsx(N,{path:"/referrals/:id",element:e.jsx(Lr,{onShowAuth:O})}),e.jsx(N,{path:"/admin/referrals",element:e.jsx(R,{children:e.jsx(Or,{})})}),e.jsx(N,{path:"/admin/sessions",element:e.jsx(R,{children:e.jsx("div",{className:"min-h-screen pb-20 md:pl-16",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 pt-8 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Session Schedule Management"}),e.jsx(Tr,{}),e.jsx(Dr,{})]})})})}),e.jsx(N,{path:"/admin/jobs",element:e.jsx(R,{children:e.jsx(er,{})})}),e.jsx(N,{path:"/admin/jobs/new",element:e.jsx(R,{children:e.jsx(Qs,{})})}),e.jsx(N,{path:"/admin/jobs/:jobId/edit",element:e.jsx(R,{children:e.jsx(tr,{})})}),e.jsx(N,{path:"/admin/users",element:e.jsx(R,{children:e.jsx(sr,{})})}),e.jsx(N,{path:"/blog",element:e.jsx(lr,{isAuthenticated:o,onShowAuth:()=>m(!0)})}),e.jsx(N,{path:"/blog/:slug",element:e.jsx(cr,{})}),e.jsx(N,{path:"/webinars",element:e.jsx(hr,{onShowAuth:O})}),e.jsx(N,{path:"/webinar/:slug",element:e.jsx(xr,{onShowAuth:O})}),e.jsx(N,{path:"/admin/blog",element:e.jsx(R,{children:e.jsx(dr,{})})}),e.jsx(N,{path:"/admin/blog/new",element:e.jsx(R,{children:e.jsx(ft,{})})}),e.jsx(N,{path:"/admin/blog/edit/:id",element:e.jsx(R,{children:e.jsx(ft,{})})}),e.jsx(N,{path:"/admin/blog/categories",element:e.jsx(R,{children:e.jsx(mr,{})})}),e.jsx(N,{path:"/admin/email-testing",element:e.jsx(R,{children:e.jsx(ur,{})})}),e.jsx(N,{path:"/admin/webinars",element:e.jsx(R,{children:e.jsx(Mr,{})})}),e.jsx(N,{path:"/admin/dashboard",element:e.jsx(R,{children:e.jsx(jr,{})})}),e.jsx(N,{path:"/admin",element:e.jsx(R,{children:e.jsx(Ht,{to:"/admin/jobs",replace:!0})})})]})})}),i&&e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-label":"Navigation menu","aria-modal":"true",children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>c(!1)}),e.jsx("div",{className:"fixed top-0 right-0 h-full w-80 max-w-[90vw] bg-[#05131A] shadow-2xl overflow-y-auto safe-area border-l border-[#0c1d25]",children:e.jsxs("div",{className:"flex flex-col space-y-4 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl overflow-hidden shadow-lg",children:e.jsx("img",{src:Ot,alt:"PrimoBoost AI Logo",className:"w-full h-full object-cover"})}),e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-slate-100",children:"PrimoBoost AI"})]}),e.jsx("button",{onClick:()=>c(!1),"aria-label":"Close menu",className:"min-w-touch min-h-touch p-2 text-[#7A8CAA] hover:text-slate-100 hover:bg-[#0c1d25] rounded-lg transition-colors",children:e.jsx(Y,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"border-t border-[#0c1d25] pt-4",children:e.jsx("nav",{className:"flex flex-col space-y-1",children:[{id:"/",label:"Home",icon:e.jsx(Qe,{className:"w-5 h-5"})},{id:"/about",label:"About Us",icon:e.jsx(Ee,{className:"w-5 h-5"})},{id:"/blog",label:"Blog",icon:e.jsx(te,{className:"w-5 h-5"})},{id:"/webinars",label:"Webinars",icon:e.jsx(V,{className:"w-5 h-5"})},...o?[{id:"/my-webinars",label:"My Webinars",icon:e.jsx(V,{className:"w-5 h-5"})}]:[],{id:"/gaming",label:"Gaming",icon:e.jsx(Xe,{className:"w-5 h-5"})},{id:"/spatial-reasoning",label:"Spatial Reasoning",icon:e.jsx(es,{className:"w-5 h-5"})},{id:"/session",label:"Resume Session",icon:e.jsx(V,{className:"w-5 h-5"})},...o?[{id:"/my-bookings",label:"My Bookings",icon:e.jsx(te,{className:"w-5 h-5"})}]:[],{id:"/referrals",label:"Referrals",icon:e.jsx(re,{className:"w-5 h-5"})},{id:"/careers",label:"Careers",icon:e.jsx(ue,{className:"w-5 h-5"})},{id:"/jobs",label:"Latest Jobs",icon:e.jsx(ue,{className:"w-5 h-5"})},...(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.email)==="primoboostai@gmail.com"?[{id:"/admin/jobs",label:"Admin Panel",icon:e.jsx(ss,{className:"w-5 h-5"})}]:[],...(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.email)==="primoboostai@gmail.com"?[{id:"/admin/webinars",label:"Webinar Management",icon:e.jsx(Et,{className:"w-5 h-5"})}]:[],...(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.email)==="primoboostai@gmail.com"?[{id:"/admin/blog",label:"Blog Management",icon:e.jsx(se,{className:"w-5 h-5"})}]:[],...(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.email)==="primoboostai@gmail.com"?[{id:"/admin/referrals",label:"Referral Mgmt",icon:e.jsx(re,{className:"w-5 h-5"})}]:[],...(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.email)==="primoboostai@gmail.com"?[{id:"/admin/email-testing",label:"Email Testing",icon:e.jsx(ae,{className:"w-5 h-5"})}]:[],...(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.email)==="primoboostai@gmail.com"?[{id:"/admin/sessions",label:"Session Schedule",icon:e.jsx(_t,{className:"w-5 h-5"})}]:[],{id:"/tutorials",label:"Tutorials",icon:e.jsx(te,{className:"w-5 h-5"})},{id:"/contact",label:"Contact",icon:e.jsx(tt,{className:"w-5 h-5"})},...o?[{id:"wallet",label:"Referral & Wallet",icon:e.jsx(Ct,{className:"w-5 h-5"})}]:[],...o?[{id:"/jobs/applications",label:"My Applications",icon:e.jsx(se,{className:"w-5 h-5"})}]:[]].map(C=>e.jsxs("button",{onClick:()=>{ve(C.id)},className:`flex items-center space-x-3 min-h-touch px-4 py-3 rounded-lg font-medium transition-all duration-200 ${window.location.pathname===C.id?"bg-[rgba(0,230,184,0.12)] text-[#00E6B8]":"text-[#7A8CAA] hover:text-[#00E6B8] hover:bg-[#0c1d25]"}`,children:[C.icon,e.jsx("span",{children:C.label})]},C.id))})}),e.jsx("div",{className:"border-t border-[#0c1d25] pt-4",children:e.jsx($r,{onPageChange:ve,onClose:()=>c(!1),onShowAuth:O})}),e.jsx("div",{className:"mt-auto pt-4 border-t border-[#0c1d25]",children:e.jsxs("div",{className:"bg-[#0c1d25] rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-[#7A8CAA] mb-2",children:"Need help with your resume?"}),e.jsxs("button",{onClick:()=>{ve("/"),c(!1)},className:"w-full bg-gradient-to-r from-[#00E6B8] to-cyan-500 text-[#05131A] font-semibold text-sm py-2.5 rounded-lg flex items-center justify-center space-x-2 hover:opacity-90 transition-opacity",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{children:"Optimize Now"})]})]})})]})})]}),e.jsx(Tt,{isOpen:d,onClose:()=>{ne==="postSignupPrompt"&&s&&t(),m(!1),$("login")},onProfileFillRequest:()=>le("profile"),initialView:ne,onPromptDismissed:()=>{s&&t(),m(!1),$("login")}}),e.jsxs(l.Suspense,{fallback:null,children:[M&&e.jsx(Hs,{isOpen:M,onClose:()=>T(!1),onSelectCareerPlans:$t,onSubscriptionSuccess:ze,onShowAlert:Q,triggeredByFeatureId:ie,onAddonPurchaseSuccess:zt}),p&&e.jsx(gt,{isOpen:p,onNavigateBack:()=>f(!1),onSubscriptionSuccess:ze,onShowAlert:Q,initialExpandAddons:xe})]}),e.jsx(Es,{isOpen:A,onClose:()=>_(!1),title:E,message:u,type:D,actionText:Ce,onAction:De}),at&&e.jsx(Cs,{isOpen:at,onClose:()=>Me(!1),targetPath:"/optimizer",ctaLabel:"Optimize Resume Now"})]})]})}const $r=({onPageChange:o,onClose:s,onShowAuth:t})=>{const a=pe(),{user:r,isAuthenticated:n,logout:i}=F(),[c,d]=l.useState(!1),m=async()=>{d(!0);try{await i(),s()}catch(f){console.error("Logout failed:",f)}finally{d(!1)}},p=f=>{f.preventDefault(),f.stopPropagation(),console.log("Sign in button clicked - calling onShowAuth"),t(),console.log("showAuthModal set to true")};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-[#7A8CAA] mb-3",children:"Account"}),n&&r?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 px-4 py-3 bg-[#0c1d25] rounded-xl mb-3",children:[e.jsx("div",{className:"bg-gradient-to-br from-[#00E6B8] to-cyan-500 w-10 h-10 rounded-full flex items-center justify-center text-[#05131A] font-semibold",children:r.name.split(" ").map(f=>f[0]).join("").toUpperCase().substring(0,2)}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"font-medium text-slate-100 truncate",children:r.name}),e.jsx("p",{className:"text-xs text-[#7A8CAA] truncate",children:r.email})]})]}),e.jsxs("button",{onClick:()=>{a("/profile"),s()},className:"w-full flex items-center space-x-3 min-h-touch px-4 py-3 rounded-lg font-medium transition-all duration-200 text-[#7A8CAA] hover:text-[#00E6B8] hover:bg-[#0c1d25]",children:[e.jsx(Ae,{className:"w-5 h-5"}),e.jsx("span",{children:"Profile Settings"})]}),e.jsxs("button",{onClick:()=>{a("/profile?tab=wallet"),s()},className:"w-full flex items-center space-x-3 min-h-touch px-4 py-3 rounded-lg font-medium transition-all duration-200 text-[#7A8CAA] hover:text-[#00E6B8] hover:bg-[#0c1d25]",children:[e.jsx(Ct,{className:"w-5 h-5"}),e.jsx("span",{children:"My Wallet"})]}),e.jsxs("button",{onClick:m,disabled:c,className:"w-full flex items-center space-x-3 min-h-touch px-4 py-3 rounded-lg font-medium transition-all duration-200 text-red-400 hover:bg-red-500/10",children:[e.jsx(et,{className:"w-5 h-5"}),e.jsx("span",{children:c?"Signing Out...":"Sign Out"})]})]}):e.jsxs("button",{onClick:p,className:"w-full flex items-center space-x-3 min-h-touch px-4 py-3 rounded-lg font-semibold transition-all duration-200 bg-gradient-to-r from-[#00E6B8] to-cyan-500 text-[#05131A] hover:opacity-90",type:"button",children:[e.jsx(St,{className:"w-5 h-5"}),e.jsx("span",{children:"Sign In"})]})]})};vt(document.getElementById("root")).render(e.jsx(Lt,{children:e.jsx(gs,{children:e.jsx(bs,{children:e.jsx(Gt,{children:e.jsx(zr,{})})})})}));export{Se as $,Ye as A,ue as B,J as C,Qr as D,Ne as E,se as F,Xe as G,Es as H,Ee as I,st as J,Qe as K,he as L,Nt as M,tt as N,Fe as O,Ts as P,es as Q,Ge as R,V as S,Pt as T,re as U,Et as V,Ct as W,Y as X,os as Y,ns as Z,He as _,B as a,Be as a0,jt as a1,ut as a2,wt as a3,Ve as b,k as c,H as d,At as e,kt as f,je as g,Ae as h,Qt as i,te as j,oe as k,ts as l,ls as m,me as n,mt as o,We as p,ae as q,_t as r,w as s,ke as t,F as u,Yr as v,Xr as w,ss as x,as as y,ks as z};
